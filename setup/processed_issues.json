[
  {
    "title": "Extension Catalog Installs Incompatible Extensions",
    "body": "*Summary*\r\n\r\nThe Extension Catalog currently installs and recommends extensions that are not compatible with phpBB 4. This can result in fatal PHP errors, leaving users with no viable way to recover other than restoring from backups.\r\n\r\n*Details*\r\n\r\nFor example, the catalog recommends the *About Us* extension, version *2.0.4,* a release from 2015 built for phpBB 3.1.3. This version appears because it does not define maximum version constraints for PHP or phpBB. Later releases of the extension do include maximum constraints, flagging them as incompatible with phpBB 4. Since no phpBB 4-compatible release exists in the CDB or Packagist, the catalog defaults to showing this outdated version.\r\n\r\nAs a result, the catalog currently lists many “stable” extensions that are *not safe to install* on phpBB 4. In practice, there should be zero stable extensions shown at this stage. This creates a high risk for users and could cause widespread breakage.\r\n\r\n*Proposed Solution*\r\n\r\nIntroduce a new Composer parameter in the extra section of composer.json that explicitly marks phpBB 4-compatible extensions as eligible for the catalog. For example:\r\n{code:java}\"extra\": {\r\n  \"display-name\": \"About us\",\r\n  \"soft-require\": {\r\n    \"phpbb/phpbb\": \">=4.0.0-a1,<4.1.0@dev\"\r\n  },\r\n  \"ext-catalog\": true # Only set true if extension is phpBB4 compatible\r\n}{code} * ext-catalog: true should only be set for extensions verified as phpBB 4 compatible.\r\n * The Extension Catalog would then filter out all extensions that do not include this flag.\r\n\r\nWithout a safeguard like this, the Extension Catalog risks recommending and installing extensions that are guaranteed to break phpBB 4 installations.\n---\n## References\n**JIRA Issue Key:** PHPBB-17561\n**Affects Versions:** 4.0.0-a2, 4.0.0-b1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17561",
    "jira_type": "Improvement",
    "priority": "Blocker",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a2",
      "4.0.0-b1"
    ]
  },
  {
    "title": "Add support for automatic updates to ACP frontend",
    "body": "After the implementation of PHPBB-15851, the frontend also needs to be adjusted to properly interact with the backend for handling a complete automatic update via the ACP.\n---\n## References\n**JIRA Issue Key:** PHPBB-17469\n",
    "type": "Feature",
    "jira_key": "PHPBB-17469",
    "jira_type": "Improvement",
    "priority": "Blocker",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "When a 500 error happens it looks like we nowhere log the error",
    "body": "Currently, when a 500 error happens, we only tell the user that it happened, however we nowhere log the actual error to figure out what is happening.\r\n\r\n \r\nh1.  \r\n{code:java}\r\nOops! An Error Occurred The server returned a \"500 Internal Server Error\".\r\nSomething is broken. Please let us know what you were doing when this error occurred. We will fix it as soon as possible. Sorry for any inconvenience caused.\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17550\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17550",
    "jira_type": "Bug",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Rework merge smiles into emojis as customs emojis using a new emoji panel",
    "body": "remove smiles and replace them with an emoji panel. Add a custom emoji section to the panel. Reworking the new custom emojis to be rendered using the twig icon function. We will need a way to build and display an emoji panel. I will need to be performant so will have to look into how to handle that. We will need to build it ourselves to do this. It's not as easy as just loading all the emojis from iconify as that is very intense load even just as different sections. We could possibly load based on view and just load-unload a row at a time maybe? will need to test for the best way. \r\n\r\nhere is an example codepen I put together  https://codepen.io/hanakin/pen/ErBPLL\r\n\r\nhere is a debug view of it for testing load speeds https://cdpn.io/pen/debug/ErBPLL?authentication_hash=dGkXWNpbabvA\n---\n## References\n**JIRA Issue Key:** PHPBB-17014\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17014",
    "jira_type": "Improvement",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Create global template variable arrays for UCP & MCP links",
    "body": "We need template variables for links to each of the main tabs for the UCP and MCP to include any extended pages.\r\n\r\nThese need to be accessible to the index to be loaded as global navigation links across the entire app.\r\n\r\nFor now, we may only need the main pages, reference the attached screen grab, and not the sub-pages that are found down the left-hand side, but we may want o to consider the what-if down the road and just get them all?\n---\n## References\n**JIRA Issue Key:** PHPBB-17015\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17015",
    "jira_type": "Improvement",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Relocate the contents of the assets folder to the all folder",
    "body": "currently there are several css, js, and fonts located in the phpbb/phpBB/assets folder. These all need moved to the phpbb/phpBB/styles/all folder. This is required not only for chameleon and the restructure of the template system but is also needed for sanity to house all of our css and js in one unified location instead of spider all over the place. Eventually the styles and ACP should all pull the js/imgs/external css/etc... from this one central location.\r\n\r\nso a rundown of the changes required\r\n\r\nphpbb/phpBB/assets/css -> phpbb/phpBB/styles/all/css\r\n\r\nphpbb/phpBB/assets/javascript-> phpbb/phpBB/styles/all/js\r\n\r\nphpbb/phpBB/assets/pupload/plupload.full.min.js-> phpbb/phpBB/styles/all/js/plupload.full.min.js\r\n\r\nphpbb/phpBB/assets/cookieconsent/cookieconsent.min.css-> phpbb/phpBB/styles/all/css\r\nphpbb/phpBB/assets/cookieconsent/cookieconsent.min.js-> phpbb/phpBB/styles/all/js\r\n\r\nalso should go without saying but will need to rework all links to these in the template files and the template variables that point to them.\r\n\r\nwe can probably simplify everything into a single template variable of template_asset possibly? As the only thing that would change is an industry standard folder for each type of asset\n---\n## References\n**JIRA Issue Key:** PHPBB-17016\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17016",
    "jira_type": "Improvement",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Auto generate avatars for users without them",
    "body": "Going forward avatars will be required and there will no longer be an option to disable them. It should also be able to backfill all current users without an avatar.\r\n\r\nThis is because they are a useful tool for handling responsive display of interactions with users. Its also a standard for all social apps these days. Not to mention it causes layout issues if we do not standardize everything related to avatars.\r\n\r\nAs such we need to include something to accommodate anyone who does not have or want an avatar during registration. Something similar to GitHub where its a graphical identity icon representation of their username.\r\n\r\nsomething like\r\n\r\nhttps://github.com/splitbrain/php-ringicon (my personal preference)\r\n\r\nor this\r\n\r\nhttps://github.com/rmhdev/identicon\r\n\r\nwhere it can generate an svg avatar that can be stored in the database to load if they do not have a custom one.\n---\n## References\n**JIRA Issue Key:** PHPBB-17018\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17018",
    "jira_type": "New Feature",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Some constants don't work from controllers",
    "body": "Some constants like SKIP_CHECK_BAN and SKIP_CHECK_DISABLED don't work from controllers, because the check is done when the session starts, which is before the controller is loaded.\n---\n## References\n**JIRA Issue Key:** PHPBB-15812\n",
    "type": "Bug",
    "jira_key": "PHPBB-15812",
    "jira_type": "Bug",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Is not possible to start a session without update session page from controllers",
    "body": "Currently, app.php start the session management, so the session page is updated.\r\n\r\nThis is a problem for download controllers, because there is no way to don't update session page when executing those controllers.\n---\n## References\n**JIRA Issue Key:** PHPBB-15804\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15804",
    "jira_type": "Bug",
    "priority": "Blocker",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "PHP warning on viewing a topic page with avatars as bot",
    "body": "When viewing a topic page with avatars as bot and there're avatars. PHP warning is being thrown:\r\n\r\n \r\n{noformat}[phpBB Debug] PHP Warning: in file [ROOT]/vendor/twig/twig/src/Template.php on line 345: Array to string conversion\r\nArray{noformat}\r\nNo further details in webserver's error log.\r\n\r\n \r\n\r\nReport: https://www.phpbb.com/community/viewtopic.php?t=2666524\n---\n## References\n**JIRA Issue Key:** PHPBB-17581\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17581",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Downloading files with a byte range of 8192 bytes causes fatal error",
    "body": "Partial downloads of a file from phpBB, such as an attachment, using content ranges of 8192 bytes or a multiple thereof causes a fatal error in php. This can be reproduced using curl and the --range option.\r\n{code:java}\r\n// Fetch the first 8192 bytes of a file\r\ncurl --range 0-8191 https://example.com/phpBB/download/file.php?id=1234{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17580\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17580",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "CodeSniffer ruleset (PPSSE) not fully compatible with CS 4",
    "body": "I'm currently updating phpBB Ext Check for CodeSniffer 4.0. Before 4.0, I was using CS 3.13.2. In addition to various necessary adjustments for CS 4, I also noticed a problem with PPSSE.\r\n\r\nAt first, I suspected my specially constructed test ext, but then I tested one ext each from different developers, and the problem appeared with every ext. Suddenly, a file that hadn't been detected before is reported. However, the cause of the report isn't an error with the developer, but with PPSSE:\r\n\r\nExample for the About Us 2.1.4 ext:\r\n{code}CS ruleset    : phpBB PHP Strict Standard Extensions\r\nExtensions    : php\r\nFiles found   : 15\r\nFiles affected: 1\r\n\r\nFILE: phpbb3-about-us-2.1.4\\event\\main_listener.php\r\n--------------------------------------------------------------------------------\r\nFOUND 4 ERRORS AFFECTING 4 LINES\r\n--------------------------------------------------------------------------------\r\n  1 | ERROR | An error occurred during processing; checking has been aborted.\r\n    |       | The error message was: Uninitialized string offset 0 in\r\n    |       | \\lib\\phpbb\\php-strict-standard-extensions_3\\phpbb\\Sniffs\\Namespaces\\UnusedUseSniff.php\r\n    |       | on line 106\r\n    |       | The error originated in the phpbb.Namespaces.UnusedUse sniff on\r\n    |       | line 106.\r\n 54 | ERROR | Either use statement or full name must be used.\r\n 68 | ERROR | Either use statement or full name must be used.\r\n 86 | ERROR | Either use statement or full name must be used.\r\n-------------------------------------------------------------------------------\r\n{code}\r\nTested with:\r\n\r\nphpBB Ext Check 1.10\r\nPHP 8.4.8 and 8.4.13\r\nCodeSniffer 4.0 (Release)\r\nPPSSE 2025.5.14 [7268859] \r\n\r\nMatt, as additional information: I briefly downgraded CS from 4.0 to 3.13.4, which is two versions further than what I had before upgrading to 4.0. This made PPSSE work perfectly again. This means the problem must be directly related to CS 4.0.\r\n\r\n \r\n\r\nedit: Added the full EC report for the TFP extension for rxu. This is the sixth extension I've tested.\n---\n## References\n**JIRA Issue Key:** PHPBB-17563\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17563",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "user_delete should anonymize posts, PMs and poll votes",
    "body": "The function user_delete in functions_user.php does not delete poll votes, as previously reported here: https://tracker.phpbb.com/browse/PHPBB3-9838\r\n\r\nWhile that was closed as \"won't fix\", anonymizing poll vote user IDs and especially IP addresses should still be done.\r\n\r\nSimilarly, posts and PMs retained after user deletion still keep IP addresses.\r\n\r\nUsers often request account deletion out of privacy concerns. It is reasonable for users and board administrators to expect that user deletion removes all personal data that can be removed automatically.\r\n\r\nEspecially when retaining posts under their original username, having IP addresses associated with those posts can be a privacy concern.\n---\n## References\n**JIRA Issue Key:** PHPBB-17578\n**Affects Versions:** 3.0.14, 3.1.12, 3.2.11, 3.3.15, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17578",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.0.14",
      "3.1.12",
      "3.2.11",
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Wrap all front controllers by HttpKernel",
    "body": "Wrapping all front controllers by HttpKernel will ease the integration of new features and the refactoring of transversal features (like the auth system)\n---\n## References\n**JIRA Issue Key:** PHPBB-14435\n**Affects Versions:** 3.2.0-a2\n",
    "type": "Feature",
    "jira_key": "PHPBB-14435",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-a2"
    ]
  },
  {
    "title": "Update storage configuration options to include adapter name",
    "body": "As discussed with rxu, I think is better to update configuration options from\r\n{code:java}\r\nstorage\\avatars\\config\\path{code}\r\nto something like\r\n{code:java}\r\nstorage/avatars/config/local/path{code}\r\nThis way extension can set default values for configurations when installing them, also they can clean their configuration options after they are removed.\r\n\r\nAlso, currently configuration options are shared between adapters, so they are overwriten every time.\n---\n## References\n**JIRA Issue Key:** PHPBB-17574\n**Affects Versions:** 4.0.0-a2\n",
    "type": "Feature",
    "jira_key": "PHPBB-17574",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a2"
    ]
  },
  {
    "title": "Allow to run phpunit in local again",
    "body": "[https://github.com/phpbb/phpbb/pull/6273]\r\n\r\n \r\n\r\nAfter this PR, phpunit stoped working in local for me reporting a lot of database errors.\n---\n## References\n**JIRA Issue Key:** PHPBB-17573\n**Affects Versions:** 4.0.0-a2\n",
    "type": "Bug",
    "jira_key": "PHPBB-17573",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a2"
    ]
  },
  {
    "title": "Diff engine causes PHP fatal error",
    "body": "Report: [https://www.phpbb.com/community/viewtopic.php?p=16082743#p16082743]\r\n\r\n \r\n\r\nDiff engine declares $final1 and $final2 properties of class diff3_op as protected:\r\n\r\n[https://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L771]\r\n\r\nhttps://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L776\r\n\r\n \r\n\r\nbut refers them dynamically from outside:\r\n\r\n[https://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L570]\r\n\r\n \r\n\r\nHence the error in advanced update package:\r\n\r\nPHP Fatal error: Uncaught Error: Cannot access protected property diff3_op::$final1 in [ROOT]/install/update/new/includes/diff/diff.php:570\n---\n## References\n**JIRA Issue Key:** PHPBB-17560\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17560",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Extension Catalog can be installed without repositories",
    "body": "Depending on how you are installing a new forum, the extension repositories in the extension catalog is missing the expected repositories that allow the catalog to work as intended.\n---\n## References\n**JIRA Issue Key:** PHPBB-17559\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17559",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "CPF Skype",
    "body": "The Skype CPF is still available in phpbb even though it was retired in May 2025\n---\n## References\n**JIRA Issue Key:** PHPBB-17558\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17558",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Remove skype from phpbb",
    "body": "Microsoft has closed skype, so it don't exist anymore.\r\n\r\nThis can be used as base\r\n\r\nhttps://github.com/phpbb/phpbb/pull/5923/files\n---\n## References\n**JIRA Issue Key:** PHPBB-17505\n**Affects Versions:** 3.3.16-RC1, 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-17505",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.16-RC1",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Bug: Topic merge view count is not merged after a merger",
    "body": "Dear phpBB team,\r\n\r\nI have found a bug, I have merged two topics but the viewer counter has not been updated with number addition.\r\n\r\nCan you solve it?\r\n\r\nThanks in advance.\n---\n## References\n**JIRA Issue Key:** PHPBB-17482\n**Affects Versions:** 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17482",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Upgrade to Symfony 7.4",
    "body": "We should upgrade to Symfony 7.4 for the LTS version coming at the end of this year.\n---\n## References\n**JIRA Issue Key:** PHPBB-17556\n",
    "type": "Feature",
    "jira_key": "PHPBB-17556",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "at a minimum we should start including a minified version of the style",
    "body": "We can determine how and what to do with it in a separate ticket, but we should at least include it for those who wish to manually use it.\n---\n## References\n**JIRA Issue Key:** PHPBB-15405\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15405",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Offer a way for extensions to configure the text_formatter.parser service for a given user",
    "body": "Some extensions such as ABBC3 want to toggle some features based on a post's author. Currently, this is done through the {{core.text_formatter_s9e_parser_setup}} event. However, this event triggers only once during setup and with current user, who is not necessarily the post's author. It also adds a weak dependency to the parser service. There's got to be a better way.\n---\n## References\n**JIRA Issue Key:** PHPBB-13802\n**Affects Versions:** 3.2.0-dev\n",
    "type": "Feature",
    "jira_key": "PHPBB-13802",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-dev"
    ]
  },
  {
    "title": "Add method for displaying location of routes in viewonline",
    "body": "Viewonline should correctly display the location of routes without us having to treat those in a special manner. See related change and comment: https://github.com/phpbb/phpbb/pull/3434/files#diff-6a60e6a12bd4417e26a9c7e7fd9bef1aR359\n---\n## References\n**JIRA Issue Key:** PHPBB-13671\n**Affects Versions:** 3.2.0-dev\n",
    "type": "Feature",
    "jira_key": "PHPBB-13671",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-dev"
    ]
  },
  {
    "title": "m_report should properly imply f_read for reported posts",
    "body": "Previously reported in https://tracker.phpbb.com/browse/SECURITY-179\r\n\r\nm_report already implies f_read for reported posts, but such reports are only accessible if the forum_id is removed from the URL.\n---\n## References\n**JIRA Issue Key:** PHPBB-13676\n**Affects Versions:** 3.1.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-13676",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.3"
    ]
  },
  {
    "title": "Separate option for forcing path/server vars on front controller or revert forcing settings",
    "body": "Otherwise front controllers in other locations have problems generating routes, this brought down titania and was a BC break to fix a bug.\r\n\r\nhttps://github.com/phpbb/phpbb/commit/1a5fbd4bd06e7ae7a89637c0977da2fed8cd62fb#diff-56688d0c8efc8fb2f9ee96495fbdc976R151\r\n\r\nhttps://tracker.phpbb.com/browse/PHPBB3-13683\n---\n## References\n**JIRA Issue Key:** PHPBB-14723\n",
    "type": "Bug",
    "jira_key": "PHPBB-14723",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Private Message Search Inbuilt",
    "body": "I guess all will agree that a PM Search is Needed for any forum. It doesnt make sense to not have a way to search on the private messages.\r\n\r\nI saw this extension: https://github.com/satanasov/pmsearch\r\n\r\nBut this really should exist on the phpbb core!\n---\n## References\n**JIRA Issue Key:** PHPBB-14582\n",
    "type": "Feature",
    "jira_key": "PHPBB-14582",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Attachments Dissapears From Post",
    "body": "I am a moderator of phpbbportugal forum and if I edit this post from an admin:\r\n\r\n[http://i.imgur.com/Q0jmjfM.png|http://i.imgur.com/Q0jmjfM.png]\r\n\r\nSince I don't have permissions to add attachments, after fix any error on the text and then submit. It will delete the attachment from the post, and the attachment was already there, sended by the admin.\r\n\r\nI know I don't have permissions to add attachments, but since it was added by other user then me the user that is editing that post, it should send the post without losing the attachment, since it was added not by me. \r\n\r\nBasically, phpbb should save who adds the attachments for each post, and if someone that is not the author edits that post and without having permission to add attachments, it should keep the attachment and not remove it from post...\r\n\r\nWe can see that on viewforum it still appears the icon of the existance of attachment:\r\n[https://i.imgur.com/dCJFzag.png|https://i.imgur.com/dCJFzag.png]\r\n\r\nBut inside, we can't see nothing no more:\r\n[https://i.imgur.com/ZvzYDMP.png|https://i.imgur.com/ZvzYDMP.png]\n---\n## References\n**JIRA Issue Key:** PHPBB-15281\n**Affects Versions:** 3.1.10, 3.2.1, 3.2.2, 3.3.7\n",
    "type": "Bug",
    "jira_key": "PHPBB-15281",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.1",
      "3.2.2",
      "3.3.7"
    ]
  },
  {
    "title": "Improve handling of DDoS/brute force attacks on login form",
    "body": "Ticket number for this PR: [https://github.com/phpbb/phpbb/pull/6383]\r\n\r\n \r\n{panel:title=rob006 wrote}\r\nBackground:\r\n\r\nI had a DDoS attack on login form. It quickly filled the sessions table with tens of thousands of sessions for the anonymous user. A lot of sessions for this user dramatically decreased the performance of {{SELECT COUNT(session_id) AS sessions FROM  SESSIONS_TABLE  ...}} query, since the efficiency of {{session_user_id}} index was almost non-existent (99% of sessions was for anonymous user, so the query needed to count almost all rows in table). I excluded this query for the anonymous user, since it was not needed anyway. This significantly improved performance of forum, but...\r\n\r\n...sessions were still created and the sessions table was growing. I ignored this, but after a few days I realized that cron does not work correctly. It turns out that task for clearing old sessions tried to load hundreds of thousands of sessions in one query, which exceeded the memory limit, and the whole process failed (and this was repeated over and over since old sessions were never removed). I added a limit to this query, so sessions could be cleaned up in smaller batches (I'm still not sure if this limit is optimal, but it worked for me).\r\n{panel}\n---\n## References\n**JIRA Issue Key:** PHPBB-17545\n**Affects Versions:** 3.3.15\n",
    "type": "Task",
    "jira_key": "PHPBB-17545",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Use virtual filesystem in tests",
    "body": "Try to mock the filesystem using https://github.com/bovigo/vfsStream\r\nSo tests wont modify filesystem, also wont be necesary to clean the filesystem modifications before/after the test is run\n---\n## References\n**JIRA Issue Key:** PHPBB-16961\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16961",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Ext Mgr Version Check Should Respect Branches",
    "body": "The version check feature of the extension manager is not branch-aware.\r\n\r\nThis means, a user of phpBB 3.1.x would be notified an extension is out of date and needs updating, if that extension happens to have a new release just for phpBB 3.2.x, while in fact the 3.1.x release may be current and up to date.\r\n\r\nThis could cause some users to install incompatible extensions on their 3.1.x boards. At the very least it will also prevent users from knowing when their extensions truly are out of date.\r\n\r\nThe extension manager should be able to dicern the difference so it can tell users when the extension from the branch they are using is the one that's been updated.\r\n\r\nVersion info files from titania will contain branches if the extension has separate downloads/revisions for the 3.1.x line and 3.2.x line. For example:\r\n{code}\r\n{\r\n    \"stable\": {\r\n        \"1.0\": {\r\n            \"current\": \"1.0.3\",\r\n            \"download\": \"https://www.phpbb.com/customise/db/download/xxx\",\r\n            \"announcement\": \"https://www.phpbb.com/customise/db/extension/xxx/\",\r\n            \"eol\": null,\r\n            \"security\": false\r\n        },\r\n        \"2.0\": {\r\n            \"current\": \"2.0.0\",\r\n            \"download\": \"https://www.phpbb.com/customise/db/download/xxxx\",\r\n            \"announcement\": \"https://www.phpbb.com/customise/db/extension/xxx/\",\r\n            \"eol\": null,\r\n            \"security\": false\r\n        }\r\n    }\r\n}\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-15004\n**Affects Versions:** 3.1.10, 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15004",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Confirmed",
    "affects_versions": [
      "3.1.10",
      "3.2.0"
    ]
  },
  {
    "title": "Doctrine DBAL",
    "body": "Nuke Current DBAL\r\nExpose doctrine DBAL through a new service\r\nAdd a wrapper for the doctrine dbal to prevent BC breaks.\r\n\r\nRFC: https://area51.phpbb.com/phpBB/viewtopic.php?f=108&t=44487\n---\n## References\n**JIRA Issue Key:** PHPBB-14463\n",
    "type": "Feature",
    "jira_key": "PHPBB-14463",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "Temp Admin Account",
    "body": "There is at least two topics I have seen where user report duplicate entry for admin1 which is presumably because they didn't follow directions and delete it previously. I would also guess that the hackers/exploiters are aware of that account.  \r\n\r\nFor a long term solution I suggested in the Ideas forum it be part of my \"phpBB Safe mode\" idea.\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=436&t=2655673]\r\n\r\nShort term perhaps the password should be changed occasionally in canned message and retroactively change existing posts to something different than \"admin\".\n---\n## References\n**JIRA Issue Key:** WEBSITE-1442\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1442",
    "jira_type": "Security Issue",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Unsubscribe from emails without logging in",
    "body": "There is currently no way to unsubscribe from a phpBB board's emails without first logging in. Whenever an old topic on a board gets bumped and/or becomes active again, there will likely be a number of users who no longer care about the site (and don't remember their credentials) and yet receive notification emails. To unsubscribe, they have to login, which means resetting their password.\n---\n## References\n**JIRA Issue Key:** PHPBB-10282\n**Affects Versions:** 3.1.0-dev\n",
    "type": "Feature",
    "jira_key": "PHPBB-10282",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-dev"
    ]
  },
  {
    "title": "Custom Profile Field type date has inconsistent format",
    "body": "At the moment Custom Profile Field type DATE is saved in the DB in the string format of d-m-Y where the leading zero to the days and months are not written to DB.\r\n\r\nThe DB column in the DB is of the type VARCHAR. \r\n\r\nThis creates an issue when we want to search date range in the Custom Profile Fields as the DB engine doesn't recognize the dates as dates, but as arbitrary strings.\n---\n## References\n**JIRA Issue Key:** PHPBB-12556\n**Affects Versions:** 3.1.0-b3\n",
    "type": "Feature",
    "jira_key": "PHPBB-12556",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-b3"
    ]
  },
  {
    "title": "Use a lazy service to delay the construction of the template engine",
    "body": "The template engine is build on each page because of the compatibility_globals stuff, but it is not used on every page (feed, console, some extensions...) so it should be construct only when it is used (http://symfony.com/doc/current/components/dependency_injection/lazy_services.html)\n---\n## References\n**JIRA Issue Key:** PHPBB-12578\n**Affects Versions:** 3.1.0-b3\n",
    "type": "Task",
    "jira_key": "PHPBB-12578",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-b3"
    ]
  },
  {
    "title": "Wrap all the globals in a proxy (in includes/compatibility_globals.php)",
    "body": "includes/compatibility_globals.php contains the definition of some globals used by the legacy code. Because these variables aren't used everywhere (ie: $template in the cli, $phpbb_log on the index etc...) they should be wrapped in a proxy.\n---\n## References\n**JIRA Issue Key:** PHPBB-12587\n**Affects Versions:** 3.1.0-b3\n",
    "type": "Task",
    "jira_key": "PHPBB-12587",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-b3"
    ]
  },
  {
    "title": "Review/Rewrite Registration Terms",
    "body": "The FAQ needs serious looking at as well.\n---\n## References\n**JIRA Issue Key:** PHPBB-12868\n**Affects Versions:** 3.1.0-RC2\n",
    "type": "Bug",
    "jira_key": "PHPBB-12868",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-RC2"
    ]
  },
  {
    "title": "View unread PMs only",
    "body": "So far, the single biggest source of complaints has been the change to the PM count behavior. People have an unread PM on page 17 and the count never goes to 0, which they assume is a bug.\r\n\r\nIt seems that the simplest solution would be to offer a button to mark all PMs as read, thus dropping the count to 0.\r\n\r\nIt would also be helpful to have a view for unread PMs.\r\n\r\nProbably not realistic for 3.1.0, but all the same.\r\n\r\n\r\nExamples:\r\nhttps://tracker.phpbb.com/browse/WEBSITE-1134\r\nhttps://www.phpbb.com/community/viewtopic.php?p=13762216#p13762216\n---\n## References\n**JIRA Issue Key:** PHPBB-13196\n**Affects Versions:** 3.1.0-RC5\n",
    "type": "Feature",
    "jira_key": "PHPBB-13196",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.0-RC5"
    ]
  },
  {
    "title": "Add user id to login/logout urls",
    "body": "This allows to identify the user someone logged in when digging through access logs.\n---\n## References\n**JIRA Issue Key:** PHPBB-13443\n**Affects Versions:** 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13443",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "Implement two factor authentication using google authenticator",
    "body": "We should implement two factor authentication into phpBB using the Time-based One-time Password Algorithm (TOTP). This can be used with Google Authenticator for a proper two factor authentication. Similar implementations already exist for example on Github.\n---\n## References\n**JIRA Issue Key:** PHPBB-13458\n**Affects Versions:** 3.2.0-dev\n",
    "type": "Feature",
    "jira_key": "PHPBB-13458",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-dev"
    ]
  },
  {
    "title": "Move front facing files to controllers",
    "body": "A few rules to make it consistent:\r\n\r\n* The routes should be prefixed (/feed/, /api/, /help/ etc...)\r\n* The main routing file goes to /config/routing/<prefix>.yml and if it has to be split the other files goes to /config/routing/<prefix>/<name>.yml\r\n* The services should be prefixed by <prefix>.\r\n* The main service file goes to /config/container/<prefix>.yml and if it has to be split the other files goes to /config/container/<prefix>/<name>.yml\r\n* The controllers goes to /phpbb/<prefix>/controller/<name>.php\n---\n## References\n**JIRA Issue Key:** PHPBB-13646\n**Affects Versions:** 3.2.0-dev\n",
    "type": "Task",
    "jira_key": "PHPBB-13646",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-dev"
    ]
  },
  {
    "title": "Move viewtopic to controller",
    "body": "## References\n**JIRA Issue Key:** PHPBB-13889\n**Affects Versions:** 3.2.0-dev\n",
    "type": "Task",
    "jira_key": "PHPBB-13889",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-dev"
    ]
  },
  {
    "title": "Add Restart link to installer",
    "body": "During installation, if you need to change any of your previously entered settings or want to restart for any reason, you must manually delete /store/install_config.php. This is confusing for new users and they must come post in the support forum asking how to go back a step. It would nice if there could be a way to go back to a previous step, or at least a link/button that deletes the file to restart the installation process.\n---\n## References\n**JIRA Issue Key:** PHPBB-15007\n**Affects Versions:** 3.2.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-15007",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Improve explanations in ACP extensions page and remove HTML",
    "body": "Some of the explanations do not work very well with how they're currently being used. As described by Matt on GitHub:\r\n\r\nSmall issue. The EXTENSION_***_EXPLAIN language keys being used as href titles isn't working because they contain HTML:\r\n[!https://user-images.githubusercontent.com/303711/147126086-0c556b24-cf34-4a97-9c3e-74139a2883cc.png|width=368!|https://user-images.githubusercontent.com/303711/147126086-0c556b24-cf34-4a97-9c3e-74139a2883cc.png]\r\n\r\nComposer based extension \"Update\" should say:\r\n{quote}Updating an extension will disable the currently installed extension and delete the extension’s files from the filesystem. The extension's most recent compatible release will be uploaded to your board and re-enabled.\r\n{quote}\r\nComposer based extension \"Remove\" should say:\r\n{quote}Removing an extension will remove all of its data and settings and delete the extension’s files from the filesystem.\r\n{quote}\r\n \r\n\r\nIn general, we should aim at removing the HTML from these help lines to prevent similar issues from occuring.\n---\n## References\n**JIRA Issue Key:** PHPBB-16957\n",
    "type": "Feature",
    "jira_key": "PHPBB-16957",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Add support for stateless routes",
    "body": "Similar to the support in Symfony's routing, we should have support for stateless routes:\r\n[https://symfony.com/doc/current/routing.html#stateless-routes]\r\n\r\nThis will essentially prevent creating a full session when matching a request for a route and reducing the resources needed. This can especially make sense for static routes that can and should be cached as well as routes that do not require session info to serve a semi-static page like cron tasks.\n---\n## References\n**JIRA Issue Key:** PHPBB-17474\n",
    "type": "Feature",
    "jira_key": "PHPBB-17474",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Uncaught Exception on installation when using mysql (non-PDO) Doctrine driver",
    "body": "Attempt to use non-PDO Doctrine driver causes installer to fail with error:\r\n{noformat}\r\nUncaught Exception: An exception occurred while executing a query: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':lang_iso, :lang_dir, :lang_english_name, :lang_local_name, :lang_author)'{noformat}\r\nThe issue is that original query string uses named parameters which only comply with PDO:\r\n\r\n[https://github.com/phpbb/phpbb/blob/30ee379576dc44cadc26c72f430a0c92da7b437b/phpBB/phpbb/install/module/install_data/task/add_languages.php#L84-L86]\r\n\r\n[https://github.com/phpbb/phpbb/blob/30ee379576dc44cadc26c72f430a0c92da7b437b/phpBB/phpbb/install/module/install_data/task/setup_languages.php#L112-L114]\r\n{noformat}\r\n\t\t$sql = 'INSERT INTO ' . $this->lang_table\t\t\t. ' (lang_iso, lang_dir, lang_english_name, lang_local_name, lang_author)'\t\t\t. ' VALUES (:lang_iso, :lang_dir, :lang_english_name, :lang_local_name, :lang_author)';{noformat}\r\nActually this issue doesn't affect the current code as the core for now uses only pdo_* Doctrine drivers. To make it compatible with any kind of drivers, question marks should be used instead:\r\n{noformat}\r\n $sql = 'INSERT INTO ' . $this->lang_table . ' (lang_iso, lang_dir, lang_english_name, lang_local_name, lang_author)' . ' VALUES (?, ?, ?, ?, ?)';{noformat}\n---\n## References\n**JIRA Issue Key:** PHPBB-17534\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17534",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Empty password hash after phpBB upgrade",
    "body": "After upgrade from phpBB 2.0.x/3.0.x, phpBB performs password hashes conversion to newer format (usually to some of Argons). This also happens if a user logs in phpBB account having password hash convert flag set.\r\n\r\nIn case password driver's hash() method doesn't return valid hash due to error (f.e. memory allocation error etc), password hash gets updating to an empty string.\r\n\r\nNeither \"update_hashes cron\" nor \"db\" auth provider performs the check for the new hash emptiness.\r\n\r\nAdditionally, since PHP 8.0.0 no longer returns false on failure, instead a ValueError will be thrown if the password hashing algorithm is not valid, or an Error if the password hashing failed for an unknown error. This is also changed since PHP 8.3.0 (see https://www.php.net/manual/en/function.password-hash.php).\n---\n## References\n**JIRA Issue Key:** PHPBB-17531\n**Affects Versions:** 3.3.15, 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17531",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Add possibility to use index key length in migrations",
    "body": "In phpBB 3.3.x, it is possible to add index key length in migrations, f.e.\r\n\r\n \r\n{noformat}\tpublic function update_schema()\r\n\t{\r\n\t\treturn [\r\n\t\t\t'add_index'\t=> [\r\n\t\t\t\t$this->table_prefix . 'my_table'\t\t=> [\r\n\t\t\t\t\t'my_index'\t=> ['column1', 'column2(191)'],\r\n\t\t\t\t],\r\n\t\t\t]\r\n\t\t];\r\n\t}\r\n{noformat}\r\nIndex length is a mandatory in some cases, f.e. in MySQL for the TEXT data type index, otherwise it will throw MySQL exceptions like \"An exception occurred while executing a query: BLOB/TEXT column \\'column_name\\' used in key specification without a key length\".\r\n\r\nCurrently specifying index key length in migration won't work in phpBB 4.\n---\n## References\n**JIRA Issue Key:** PHPBB-17524\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17524",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Symfony auth.provider_collection\" service is private",
    "body": "The \"auth.provider_collection\" service is private, getting it from the container is deprecated since Symfony 3.2 and will fail in 4.0. You should either make the service public, or stop using the container directly and use dependency injection instead.\r\n\r\nBACKTRACE\r\n\r\nFILE: /var/www/html/phpBB3/vendor/symfony/dependency-injection/Container.php\r\nLINE: 282\r\nCALL: trigger_error()\r\n\r\nFILE: /var/www/html/phpBB3/phpbb/session.php\r\nLINE: 403\r\nCALL: Symfony\\Component\\DependencyInjection\\Container->get()\n---\n## References\n**JIRA Issue Key:** PHPBB-17523\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17523",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Installer won't recognize available non-pdo DBMS drivers",
    "body": "When installing phpBB 4.0, installer won't recognize available DBMS drivers when they aren't pdo, and will throw error:\r\n\r\n \r\n{noformat}\r\nSupported databases\r\nYou must have support for at least one compatible database within PHP. If no database modules are shown as available you should contact your hosting provider or review the relevant PHP installation documentation for advice.{noformat}\r\nDoctrine DBAL 3.9 has built-in drivers for both type of interfaces (see [https://www.doctrine-project.org/projects/doctrine-dbal/en/3.9/reference/configuration.html#configuration),] which should become available after merging the patch for PHPBB-17509.\n---\n## References\n**JIRA Issue Key:** PHPBB-17520\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17520",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Problems with egosearch after the update to version 3.3.13",
    "body": "Hi,\r\n\r\nI am a user at https://debianforum.de. We use phpBB and are very happy with it. Unfortunately, since the upgrade to version 3.3.13, the search for user posts no longer works correctly. The latest posts are missing.\r\n\r\nThe effect occurs when you click on the post counter of a user under the avatar picture next to the post, or when you search for a user in the advanced search. However, the search works correctly as soon as you limit the time period. The search also works correctly if you only search individual sub-forums. Only if you do an unlimited search for all posts by a user, the most recent posts are missing. Example: search.php?author_id=13014&sr=posts\r\n\r\nIf you search for some users, the last two days are missing, for others only the last day is missing. For still others, the latest posts are also found (example: search.php?author_id=23574&sr=posts). The effects are identical, no matter which user starts the search. (Only moderators see posts in hidden sub-forums, of course, but the effect is the same).\r\n\r\nWith the upgrade to phpBB version 3.3.14 the search worked correctly again for a short time, but now the latest posts no longer appear for some users. The search results are frozen.\r\n\r\nSo far, our research has not uncovered any other such problems in other forums. To our knowledge our setup is standard. We use a vanilla phpBB and MySQL Fulltext as search backend.\r\n\r\nHere is some more information (it's a German forum, so it's in German, but we can translate if needed):\r\nhttps://debianforum.de/forum/viewtopic.php?t=190559\r\nhttps://debianforum.de/forum/viewtopic.php?t=191036\r\nhttps://wiki.debianforum.de/September2024-Update-Challenge\r\n\r\nWe would be very happy if you could help us.\r\n\r\n \r\n\r\nTranslated with DeepL.com (free version)\n---\n## References\n**JIRA Issue Key:** PHPBB-17456\n**Affects Versions:** 3.3.13, 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17456",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.13",
      "3.3.14"
    ]
  },
  {
    "title": "Notification/Confirmation of email/password changes",
    "body": "We should notify users about email/password changes on their current email address.\r\nThis helps to prevent accounts being stolen by others.\r\n\r\nFor passwords an email like the one from github could be used:\r\n{quote}Hello xyz,\r\n\r\nWe wanted to let you know that your GitHub password was changed.\r\n\r\nIf you did not perform this action, you can recover access by entering security@phpbb.com into the form at https://github.com/password_reset.\r\n\r\nTo see this and other security events for your account, visit https://github.com/settings/security.\r\n\r\nIf you run into problems, please contact support by visiting https://github.com/contact or replying to this email.{quote}\r\n(the named reset password action would need to be added thou).\r\n\r\nFor emails I would even require a validation of the new address (send activation link or something similar, currently you can lock yourself out of your account), before changing it and also notify the old email when the action has been performed.\n---\n## References\n**JIRA Issue Key:** PHPBB-13446\n**Affects Versions:** 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13446",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "Lazy load images from img bbcode",
    "body": "In many cases, forum posts contain images inserted via bbcode. With pages showing 10 or most posts per page, it doesn't make much sense to load all these images at once, but rather only when scrolling down.\r\n\r\nThis could be especially beneficial for initial page load.\r\n\r\nTherefore, the img bbcode should generate an img tag with attribute loading=\"lazy\".\r\n\r\nBrowsers are increasingly supporting this: [https://caniuse.com/#feat=loading-lazy-attr]\n---\n## References\n**JIRA Issue Key:** PHPBB-16385\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16385",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Disable Custom BBcode on Demo Board",
    "body": "According to main demo page it's restricted to IP but multiple users can be coming from same IP thus is exploitable with JS etc.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1439\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1439",
    "jira_type": "Security Issue",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Web Push Notifications can fatal error",
    "body": "The webpush uses *sql_in_set* with an array of users that could be unexpectedly empty, particularly after removing banned users from the users to notify array in the *notify_using_webpush()* method.\r\n\r\nSuggest early return if *$notify_users* is empty after doing the array_diff to it with {*}$banned_users{*}.\r\n\r\nReport from the extension:\r\n\r\n[https://www.phpbb.com/customise/db/extension/webpushnotifications/support/topic/250144?p=893200#p893200]\r\n\r\nError message from phpBB 4.0.0-a2\r\n{code:java}ErrorException:\r\nUser Error: SQL ERROR [ mysqli ]<br /><br /> [0]<br /><br />SQL<br /><br />No values specified for SQL IN comparison\r\n\r\n  at /Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/driver.php:1094\r\n  at phpbb\\db\\driver\\driver->sql_error('No values specified for SQL IN comparison')\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/driver.php:629)\r\n  at phpbb\\db\\driver\\driver->sql_in_set('user_id', array(), false, false)\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/factory.php:467)\r\n  at phpbb\\db\\driver\\factory->sql_in_set('user_id', array())\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:411)\r\n  at phpbb\\notification\\method\\webpush->get_user_subscription_map(array())\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:204)\r\n  at phpbb\\notification\\method\\webpush->notify_using_webpush()\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:168)\r\n  at phpbb\\notification\\method\\webpush->notify()\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:434)\r\n  at phpbb\\notification\\manager->add_notifications_for_users('notification.type.quote', array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:\"Your first category\";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'), array(array('notification.method.board', 'notification.method.webpush')))\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:321)\r\n  at phpbb\\notification\\manager->add_notifications('notification.type.quote', array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:\"Your first category\";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'), array('ignore_users' => array()))\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:292)\r\n  at phpbb\\notification\\manager->add_notifications(array('notification.type.mention', 'notification.type.quote', 'notification.type.bookmark', 'notification.type.post', 'notification.type.forum'), array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:\"Your first category\";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'))\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/includes/functions_posting.php:2477)\r\n  at submit_post('quote', 'Re: Test', 'admin', 0, array(), array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 58, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:\"Your first category\";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=\"user1\" post_id=\"5\" time=\"1739814824\" user_id=\"58\"><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1'), true, true)\r\n     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/posting.php:1561)    {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17472\n**Affects Versions:** 4.0.0-a2\n",
    "type": "Bug",
    "jira_key": "PHPBB-17472",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a2"
    ]
  },
  {
    "title": "Attachments controller: Use BinaryFileResponse when adapter is local",
    "body": "Also remove dead code\n---\n## References\n**JIRA Issue Key:** PHPBB-17447\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17447",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "User Guide: Sphinx search configuration instructions out of date",
    "body": "The instructions in [Sphinxsearch Installation Instructions|https://www.phpbb.com/support/docs/en/3.3/ug/serverguide/server_sphinx_installation/] are likely out of date. A decent reference source is [How To Install and Configure Sphinx on Ubuntu 16.04 | DigitalOcean|https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-sphinx-on-ubuntu-16-04#step-4-managing-the-index]. \r\n\r\nAt a minimum the instructions in 6.1.2.6. Incremental Updates should have the admin check if their distributions pre-configured cron setup for Sphinxsearch.\r\n\r\nFor example, Ubuntu 24.04 ships with /etc/cron.d/sphinxsearch that contains:\r\n{code:java}\r\n# Rebuild all indexes daily and notify searchd.\r\n@daily      sphinxsearch . /etc/default/sphinxsearch && if [ \"$START\" = \"yes\" ] && [ -x /usr/bin/indexer ]; then /usr/bin/indexer --quiet --rotate --all; fi# Example for rotating only specific indexes (usually these would be part of\r\n# a larger combined index).# */5 * * * * sphinxsearch [ -x /usr/bin/indexer ] && /usr/bin/indexer --quiet --rotate postdelta threaddelta{code}\n---\n## References\n**JIRA Issue Key:** WEBSITE-1436\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1436",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "acp_icons.php incorrectly handles SVG images",
    "body": "The acp_icons.php script incorrectly handles SVG smilies or topic icons that use viewBox without explicit width/height attributes. Most SVG images are in this format to insure the image will automatically fill the available area.\r\n\r\nRight now, such SVG images will be set by phpBB to be 32x32 regardless of their aspect ratio. In addition, such images will be displayed incorrectly in the ACP and on the frontend. Attached is a ZIP containing a sample SVG file that can be added to the images/smilies or images/icons directory that demonstrates the issue in either the ACP icons or smilies area, and also when the image is displayed on the frontend.\r\n\r\nThe ZIP also contains a DIFF that fixes the issue.\n---\n## References\n**JIRA Issue Key:** PHPBB-17441\n**Affects Versions:** 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17441",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Prosilver v2 design for Triton (4.0)",
    "body": "Prosilver requires a fresh look for phpBB v4 for a couple of reasons;\r\n # The codebase is extremely old and has had possibly hundreds of people chop and change it over the years which has caused the codebase to be messy and difficult to build upon.\r\n # Prosilver looked great back in the early 00s but now looks outdated and phpBB v4 needs to come with a new, fresher look.\r\n # phpBB v4 is a perfect opportunity to incorporate a new design structure to allow style authors to build new, more exciting styles with a solid foundation to work from.\r\n # From a marketing perspective, prosilver as it is currently cannot be the face of a new version of phpBB because it does not send a positive message that the software is improving and evolving if it looks exactly the same.\r\n\r\nProsilver v2 should remain as 'prosilver' in the codebase for compatibility reasons but for all intents and purposes be a different style. It needs a proper foundation of HTML elements, better CSS and minimal JavaScript now that modern browsers are capable of lots of things that previously heavily relied on JavaScript functions to achieve.\r\n\r\nDesign discussion will take place on the phpBB forums where appropriate but material will also be shared here too for consistency. The idea for this 'new style' is that it should look familiar to classic / current prosilver but clearly be a new iteration of it to support the new features included within phpBB 4.0.\r\n\r\nFeel free to whimsically refer to this as {_}Operation Cold Friday{_}.\n---\n## References\n**JIRA Issue Key:** PHPBB-17437\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17437",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Old text in the ‘Development’ drop-down on .com",
    "body": "!image-2023-07-16-17-28-19-399.png!\n---\n## References\n**JIRA Issue Key:** WEBSITE-1425\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1425",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Add more control to the users/board admins to handle guest permissions, hide all profile/user data",
    "body": "Die Berechtigungen für Gäste (und anonyme Benutzer) lauten wie folgt: \r\n„Kann Profile, Mitgliederliste und wer online ist anzeigen = *NIE* “\r\n\r\nWenn ich als Gast ein 3.1.x-Board besuche, sehe ich in den Themen im Profil die Kontaktinformationen für Messenger und Websites von Benutzern. Nicht cool. \r\nJeder Gast kann Ihre Messenger-IDs, Ihren Skype-Namen und Ihren Weblink sehen. Wenn Sie beispielsweise auf ICQ-Kontaktinformationen klicken, wird das Profil dieses Benutzers angezeigt. Dasselbe gilt für Skype oder andere Messenger.\r\n\r\nsiehe Thema [https://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=49001]\r\n\r\nWenn Mitgliederlisten *nicht öffentlich* sind , müssen wir meiner Meinung nach auch alle Benutzerdaten und Messenger-Kontakte schützen. Alle Profildaten der Mitglieder sollten standardmäßig ausgeblendet sein, mit Ausnahme der Administration, wenn die Mitgliederliste für Gäste nicht sichtbar ist. Wenn ein Mitglied sie teilen möchte, sollte er dies selbst aktivieren können, wie es auf Social-Media-Plattformen der Fall ist.\r\n\r\nMan weiß nicht, was morgen mit den EU-Gesetzen zum Datenschutz passiert. Jedes Jahr werden neue Gesetze zum Datenschutz erlassen. Außerdem sind sie in jedem Land unterschiedlich, in Deutschland ist es ein heißes Thema. Viele Anwälte sind auf der Jagd nach Leuten, die auf ihren Websites gegen Gesetze verstoßen und mit wenig Aufwand viel Geld verdienen.\r\n\r\nDaten, die wir vor 10 Jahren in unsere Profile geschrieben haben, sind jetzt sichtbar und werden mit anderen Websites (Skype, Facebook ...) verknüpft, wo jemand unsere echten Daten herausfinden kann. Vor 10 Jahren hatten wir ein anderes Verständnis von Sicherheit (und wir hatten kein Facebook oder Google). Mit einem Namen, einem Ort und einem Geburtsdatum kann man viel anfangen ...\r\n\r\nUnd bei phpBB 2.x/3.0.x haben wir selbst Änderungen an Kerndateien vorgenommen. Bei 3.1.x/3.2.x wollen wir das Bearbeiten von Kerndateien vermeiden.\r\n\r\nDie öffentliche Anzeige von Benutzerprofildaten ist heutzutage gefährlich. Daher möchte ich Gästen die Berechtigung geben, auch benutzerdefinierte Profilfelder auszublenden. Um Namen, Avatare, Standorte, Messenger, wer online ist, Geburtstage, Ranglisten und alles andere über Benutzer auf einem Board auszublenden.\r\n\r\nEs sollte eine Kernfunktion und keine Erweiterung sein, denn wenn ein Entwickler von Erweiterungen seine Software nicht aktualisieren möchte, kann er das Sicherheitsniveau seines Boards nicht aufrechterhalten, sofern phpBB auf dem neuesten Stand gehalten wird.\r\n\r\nIch hoffe, ich bin nicht allein und schlage Ihnen vor, für diese wichtige Erweiterung der Berechtigungen zu stimmen.:)\n---\n## References\n**JIRA Issue Key:** PHPBB-14543\n**Affects Versions:** 3.1.8, 3.1.9, 3.2.0-RC1, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-14543",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.8",
      "3.1.9",
      "3.2.0-RC1",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Users have PM notification displayed while they have no PM in their reception box",
    "body": "Hello,\r\n\r\nI'm using phpBB v3.3.10 on my website and for multiple months now (and on older phpBB versions too) some users reports to me that they see the inbox notification badge while they have no new PM in their inbox.\r\n\r\nAfter some researches in the database, I've found out that these users had some \"ghosts\" PM with an author_id = 0 remaining in the table {*}forum_privmsgs_to{*}{*}{{*}}\r\n\r\n*!image-2024-09-06-09-32-35-087.png!*\r\n\r\nFor example this user have 2 unread ghost messages, that he can't see nor open because the author_id = 0 and I don't know how it came in this situation. In the table {*}forum_users{*}, this user have also the column user_new_privmsg and user_unread_privmsg equals to 2.\r\n\r\nThe 2 msg_id, still exists in the table *forum_privmsgs,*  for example the message 953637 has this data\r\n\r\n \r\n{code:java}<table name=\"forum_privmsgs\">\r\n            <column name=\"msg_id\">953637</column>\r\n            <column name=\"root_level\">0</column>\r\n            <column name=\"author_id\">0</column>\r\n            <column name=\"icon_id\">0</column>\r\n            <column name=\"author_ip\">REDACTED</column>\r\n            <column name=\"message_time\">1725577153</column>\r\n            <column name=\"enable_bbcode\">1</column>\r\n            <column name=\"enable_smilies\">1</column>\r\n            <column name=\"enable_magic_url\">1</column>\r\n            <column name=\"enable_sig\">1</column>\r\n            <column name=\"message_subject\">REDACTED</column>\r\n            <column name=\"message_text\">REDACTED</column>\r\n            <column name=\"message_edit_reason\"></column>\r\n            <column name=\"message_edit_user\">0</column>\r\n            <column name=\"message_attachment\">0</column>\r\n            <column name=\"bbcode_bitfield\"></column>\r\n            <column name=\"bbcode_uid\"></column>\r\n            <column name=\"message_edit_time\">0</column>\r\n            <column name=\"message_edit_count\">0</column>\r\n            <column name=\"to_address\">u_230795</column>\r\n            <column name=\"bcc_address\"></column>\r\n            <column name=\"message_reported\">0</column>\r\n        </table>\r\n \r\n{code}\r\nThe user that have the bug can see in his notifications also this \r\n\r\n!https://cdn.discordapp.com/attachments/960239719051055164/1281515592490291281/image.png?ex=66dbffe6&is=66daae66&hm=396fa91a83b31a512e64d04bb8e30ffbd4481bc1fe47a81b456e94dd90ff349f&=!\r\n\r\nAnd when he clicks he's redirected to this :\r\n\r\n!image-2024-09-06-09-40-21-843.png!\r\n\r\n \r\n\r\nUPDATE : We found out the author/user that wrote the message above, the account still exists and told us :\r\n\r\n??The message has been sent this night, but it has disappeared from his \"Pending Sending box\" and he can't see it in is \"Sent box\"??\r\n\r\nThank you for your consideration.\n---\n## References\n**JIRA Issue Key:** PHPBB-17392\n",
    "type": "Bug",
    "jira_key": "PHPBB-17392",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "The 503 HTTP status should be sent to bots in the update process",
    "body": "When an administrator disables the board through the ACP, the 503 HTTP status is sent to bots.\r\n\r\nThat status sending is achieved thanks to that code in phpbb/user.php\r\n\r\n \r\n{code:java}        // Is board disabled and user not an admin or moderator?\r\n        if ($config['board_disable'] && !defined('IN_INSTALL') && !defined('IN_LOGIN') && !defined('SKIP_CHECK_DISABLED') && !$auth->acl_gets('a_', 'm_') && !$auth->acl_getf_global('m_'))\r\n        {\r\n            if ($this->data['is_bot'])\r\n            {\r\n                send_status_line(503, 'Service Unavailable');\r\n            }{code}\r\n \r\n\r\nWhen a directory named _install_ is located at the board root (= someone is updating the board to a newer version of phpbb), the board is automatically disabled. However, the reported HTTP status for bots is 200 (everything is OK, there is currently no maintenance according to the HTTP status).\r\n\r\n \r\n\r\n*The 503 HTTP status should be sent to bots in the update process.*\r\n\r\n \r\n\r\nThat code in phpbb/user.php...\r\n{code:java}        if (!$phpbb_container->getParameter('allow_install_dir') && !defined('ADMIN_START') && !defined('IN_INSTALL') && !defined('IN_LOGIN') && file_exists($phpbb_root_path . 'install') && !is_file($phpbb_root_path . 'install'))\r\n        {\r\n            // Adjust the message slightly according to the permissions\r\n            if ($auth->acl_gets('a_', 'm_') || $auth->acl_getf_global('m_'))\r\n            {\r\n                $message = 'REMOVE_INSTALL';\r\n            }\r\n            else\r\n            {\r\n                $message = (!empty($config['board_disable_msg'])) ? $config['board_disable_msg'] : 'BOARD_DISABLE';\r\n            }\r\n            trigger_error($message);\r\n        } {code}\r\n... should be replaced by this one:\r\n{code:java}        if (!$phpbb_container->getParameter('allow_install_dir') && !defined('ADMIN_START') && !defined('IN_INSTALL') && !defined('IN_LOGIN') && file_exists($phpbb_root_path . 'install') && !is_file($phpbb_root_path . 'install'))\r\n        {\r\n            if ($this->data['is_bot'])\r\n            {\r\n                send_status_line(503, 'Service Unavailable');\r\n            }\r\n            // Adjust the message slightly according to the permissions\r\n            if ($auth->acl_gets('a_', 'm_') || $auth->acl_getf_global('m_'))\r\n            {\r\n                $message = 'REMOVE_INSTALL';\r\n            }\r\n            else\r\n            {\r\n                $message = (!empty($config['board_disable_msg'])) ? $config['board_disable_msg'] : 'BOARD_DISABLE';\r\n            }\r\n            trigger_error($message);\r\n        } {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17378\n**Affects Versions:** 3.3.12, 3.3.13-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17378",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.12",
      "3.3.13-RC1"
    ]
  },
  {
    "title": "Use thephpleague oauth 2.0 client for oauth",
    "body": "The no longer supported oauth library will be replaced with thephpleague oauth 2.0 client library.\r\n\r\nMake sure that login is possible from all pages (see https://tracker.phpbb.com/browse/PHPBB-13505).\n---\n## References\n**JIRA Issue Key:** PHPBB-17197\n",
    "type": "Feature",
    "jira_key": "PHPBB-17197",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "get_submitted_attachment_data causes fatal error when attachments are gone on the server",
    "body": "Currently the {{parse_message::get_submitted_attachment_data}} function calls {{trigger_error('NO_ACCESS_ATTACHMENT', E_USER_ERROR)}} if any attachment from the POST data is not found in the database. This approach makes it very difficult for users to recover their post content if an attachment happens to be deleted before the final form submission. There appear to be multiple past reports about this problem (PHPBB3-4238, PHPBB3-9048, PHPBB3-9789, PHPBB3-11944, PHPBB3-12914), but they’re all closed, even though the bug still exists.\r\n\r\nThis bug can be triggered in multiple ways:\r\n\r\n1. The board is set up to purge orphaned attachments in some way;\r\n2. A post is being edited simultaneously in two windows, and one of them deletes an attachment;\r\n3. With plupload enabled, an attachment is deleted by XHR and then the form is submitted before the row containing the form fields for that attachment is actually removed from the DOM.\r\n\r\nThere is no reason for {{get_submitted_attachment_data}} to trigger an error, since all the call sites have access to error arrays for sending errors to the user in the normal way. Instead of calling {{trigger_error}}, this function should just process all the attachments at once, and then at the end of the function return whether or not all incoming attach_ids were successfully handled. The caller can then add errors which will prevent form submission while giving the user an opportunity to make corrections in the normal way.\r\n\r\nReproduction:\r\n\r\n1. Go to posting form\r\n2. Upload an attachment\r\n3. Remove the record for that attachment from the database\r\n4. Submit the form\r\n\r\nExpected: A normal inline error that some attachments are not available any more. User can re-upload files or save the rest of their post content without attachments.\r\n\r\nActual: “General Error: You are not allowed to access this file”. Post content is probably lost since the user can’t get back to the form.\r\n\r\nAttached is one possible patch. I have no idea why the original code was iterating over non-orphans (which may have included orphans since the query did not actually filter out orphaned files!) separately from orphans since the end result was always the same so this patch also gets rid of that duplicate code.\n---\n## References\n**JIRA Issue Key:** PHPBB-16355\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16355",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Update docs/ to PHP version 8.2/8.3",
    "body": "E.g. docs/INSTALL.html \r\nhttps://github.com/phpbb/phpbb/blob/e195e2ad82523418dcefbc7b1596efbd926eabc8/phpBB/docs/INSTALL.html#L150\r\n\r\nLimits to max. PHP 8.1\n---\n## References\n**JIRA Issue Key:** PHPBB-17311\n**Affects Versions:** 3.3.12-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17311",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.12-RC1"
    ]
  },
  {
    "title": "Enlarge session_browser field in sessions table to detect Googlebot",
    "body": "In sessions table, session_browser is varchar(150).\r\n\r\nGooglebot Smartphone (the most frequent) is not detected because user-agent is truncated.\r\n\r\nGooglebot Smartphone user-agent:  Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36 (compatible; Googlebot/2.1; +[http://www.google.com/bot.html)]\n---\n## References\n**JIRA Issue Key:** PHPBB-17290\n**Affects Versions:** 3.3.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-17290",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix RTL Postbody Issue - Broken RTL Search Results Layout And RTL Topic Review Quote Button Wrong Position",
    "body": "This bug is not minor but not exactly major, however it is important if phpBB wants to be \"RTL ready\" out of the box for people who use RTL languages too.\r\n\r\n \r\n\r\nI had previously posted this bug but it got mixed up with another bug because that bug needs to be fixed in order to fix this bug, with that in mind I have closed those bug tickets and this one ticket will be the fix for both bugs.\r\n\r\n \r\n\r\n*Bug 1:*\r\n\r\nWhen using an RTL language... if you are viewing search results and you make the screen smaller to about 912px, the postbody will break out of the layout.\r\n\r\n \r\n\r\n*Bug 2:*\r\n\r\nWhen using an RTL language... if you view a topic and press reply, the topic review panel at the bottom of the screen shows previous posts in the topic - but the quote button is almost in the middle of the post rather than at the end of the post. \r\n\r\n \r\n\r\nI have added LTR and RTL screen shots of both issues and used red arrows to make it clear,\r\n\r\n \r\n\r\n*The Fix:*\r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .has-profile .postbody h3 {\r\n    margin-right: 0;\r\n    margin-left: 180px;\r\n}{code}\r\n*Add Below:*\r\n{code:java}\r\n.rtl .search .postbody {\r\n    width: 68%;\r\n}{code}\r\n*Find:*\r\n{code:java}\r\n    .rtl .postprofile, .rtl .postbody, .rtl .search .postbody {\r\n        float: none;\r\n    }{code}\r\n*Change To:*\r\n{code:java}\r\n    .rtl .postprofile, .rtl .postbody, .rtl .search .postbody {\r\n        width: auto;\r\n        float: none;\r\n    }{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n    .rtl .postbody {\r\n        margin-right: 0;\r\n        margin-left: 16px;\r\n    }{code}\r\n*Change To:*\r\n{code:java}\r\n    .rtl .postbody {\r\n        width: calc(100% - 16px - 1px - 200px);\r\n    }{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .topicreview {\r\n    padding-right: 0;\r\n    padding-left: 5px;\r\n}{code}\r\n*Add Below:*\r\n{code:java}\r\n.rtl .topicreview .postbody {\r\n    width: auto;\r\n    float: none;\r\n    margin: 0;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17263\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17263",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Move viewprofile page to controller",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15814\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-15814",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Move viewonline.php to controller",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15823\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-15823",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Inconsistent default bots permissions",
    "body": "At the installation of a phpBB board, a specific forum role is created for bots.\r\n\r\n \r\n\r\n*Bot Access*\r\n * Can see forum\r\n * Can see topics\r\n * Can read forum\r\n * Can print topics\r\n * Can download files\r\n\r\n \r\n\r\nThe two last permissions are problematic.\r\n\r\n \r\n\r\nCan print topics : links to print topics are hidden due to a template file (condition *not S_IS_BOT* in viewtopic_topic_tools.html). Moreover, there is a meta tag with robots as name and *noindex* as content in viewtopic_print.html. Therefore, it doesn't make sense to enable the print topics permission to bot. It's even misleading, as an administrator may believe that it's accessible to bots by testing their permissions.\r\n\r\n \r\n\r\nCan download files : this permission is even more problematic and that's why I set the priority of this issue as major instead of minor. The problem is that permission isn't actually enabled due to the user permissions assigned to the group. In fact, all user permissions are set at \"No\" for bots, including \"Can download files\". That user permission overrides the forum one. *As a result, no (image) attachment can be indexed by Google or other identified search engines if the administrator doesn't fix the inconsistent bot permissions.*\r\n\r\n \r\n\r\nThe fix should be simple for future boards.\r\n\r\nIn install\\schemas\\schema_data.sql, two user permissions are set for guests\r\n{code:java}\r\n# GUESTS - u_download and u_search ability\r\nINSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) SELECT 1, 0, auth_option_id, 0, 1 FROM phpbb_acl_options WHERE auth_option IN ('u_', 'u_download', 'u_search'); {code}\r\n*u_download* should be enabled for bots.\r\n\r\nFor existing boards, a fix could be added too.\n---\n## References\n**JIRA Issue Key:** PHPBB-17156\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17156",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Add exception handler for unhandled exceptions",
    "body": "When exceptions are thrown and not caught, these will result in:\r\n * display_Errors = Off: 500 error page (so called white page)\r\n * display_Errors = On: Fatal error displayed by PHP default exception handler\r\n * Environment \"development\": Symfony exception handler displays nice to view exceptions page (not specific to phpBB)\r\n\r\nIn order to improve this, we should implement our own exception handler that displays a better looking exception display similar to Symfony's own exceptions page. This should be adapted for phpBB and only display exception details when it should (similar to error handler), e.g. for admins or when debug is enabled on purpose.\n---\n## References\n**JIRA Issue Key:** PHPBB-16958\n",
    "type": "Feature",
    "jira_key": "PHPBB-16958",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "BBCode UID Throwing Deprecation Errors",
    "body": "We can't do this anymore:\r\n{code:java}$this->bbcode_uid = substr(base_convert(unique_id(), 16, 36), 0, BBCODE_UID_LEN);  {code}\r\nAs of PHP 7.4.0 supplying any invalid characters to *base_convert()* is deprecated (it only accepts numeric strings). Our *unique_id()* is creating alpha-numerical strings. The result is the following deprecation errors like:\r\n{code:java}Deprecated: Invalid characters passed for attempted conversion,\r\nthese have been ignored in string(7) \"efaoh79\"  {code}\r\n \r\nI have NO idea what bbcode UID's ever were, and I don't even think they are needed anymore with the new bbcode engine. But we certainly need an alternative to this *base_convert* method.\r\n \r\nThis is being done in the *message_parser* and *functions_convert* files.\n---\n## References\n**JIRA Issue Key:** PHPBB-17134\n**Affects Versions:** 3.3.10, 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17134",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.10",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Missing Display and Sorting options under Active Topics.",
    "body": "I don't know if this is a bug or a recent change to this, but I thought I'd report it anyways...\r\n\r\nIn phpBB 3.2 if you click on Active Topics and there hasn't been any new activity for a while, it will not show the \"Display and Sorting Options\" at the bottom of the page results in order to select a later date like 2 weeks, a month, a year and etc.\r\n\r\nSee screenshot 001 to understand what Option drop-down is missing. (screenshot taken from phpbb.com)\r\n\r\nSee screenshot 002 to learn where the above option is located. (screenshot taken from phpbb.com)\r\n\r\nSee screenshot 003 to see results from phpBB 3.2 when it could not find any recent results under Active Topics  -- notice that you can't find the drop-down option.  -- sorry my site is currently offline.\r\n\r\nThis doesn't happen to phpBB 3.1.10 -- it will still give you this option even if the first results were empty.\r\n\r\nSee screenshot 004 to see results from phpBB 3.1.10. You can test this yourself in my current active phpBB 3.1.10 forum: http://www.my15birthday.com/forum/search.php?search_id=active_topics\r\n\r\nNote that my custom theme inherits from prosilver.  So those templates are intact -- nothing has been edited in those HTML files.\n---\n## References\n**JIRA Issue Key:** PHPBB-15185\n**Affects Versions:** 3.2.0, 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-15185",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Confirmed",
    "affects_versions": [
      "3.2.0",
      "3.3.10"
    ]
  },
  {
    "title": "Sphinx search backend does not find soft-deleted or unapproved posts",
    "body": "I recently switched from the postgreSQL Fulltext to the Sphinx Fulltext search backend.\r\n\r\nWhen viewing a member's posts via the member profile, unapproved or soft-deleted posts were always visible with the postgreSQL Fulltext search backend (also the phpBB Native Fulltext search backend).\r\n\r\nThese posts are no longer visible with the Sphinx search backend.\r\n\r\nFor example, a new member submits a post for approval which is held for review in the Moderator Control Panel. When I view the member's profile, I see \"1 post in queue\", but \"Total posts: 0\". The post is not shown in the member's post search results.\r\n\r\nWhen a moderator soft-deletes a post, that post is not shown in the member's post search results. I can review soft-deleted topics and posts in the Moderator Control Panel, but there is no search function. It is nearly impossible to find soft-deleted posts in this manner.\r\n\r\nThe Sphinx search backend should display these posts consistent with the postgreSQL Fulltext and phpBB Native Fulltext backends.\r\n\r\nThis bug may have been present in prior phpBB versions, but this is my first use of the Sphinx search backend.\n---\n## References\n**JIRA Issue Key:** PHPBB-16993\n**Affects Versions:** 3.3.7, 3.3.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-16993",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.7",
      "3.3.9"
    ]
  },
  {
    "title": "Check MX doesn't work",
    "body": "With phpBB 3.3.10 and PHP Version 8.2.3 the MX record (security) check does not work.\r\n\r\nemail_check_mx is enabled.\r\n\r\nIf I try to register with the fake email test@aaaaaaa.ayeye, phpBB lets me register.\r\n\r\nTest file\r\n{code:java}<?php\r\n$result = dns_get_record(\"aaaaaaa.ayeye\");\r\nprint_r($result);\r\n?{code}\r\n says:\r\n{code:java}Array ( [0] => Array ( [host] => aaaaaaa.ayeye.server.net [class] => IN [ttl] => 3600 [type] => HINFO [cpu] => RFC8482 [os] => ) ) {code}\r\nSo checking with PHP works fine. Something is wrong with phpBB.\r\n\r\nWith dns_get_record php.net\r\n{code:java} Array ( [0] => Array ( [host] => php.net [class] => IN [ttl] => 60 [type] => A [ip] => 185.85.0.29 ) [1] => Array ( [host] => php.net [class] => IN [ttl] => 283 [type] => AAAA [ipv6] => 2a02:cb40:200::1ad ) ) \r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17111\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17111",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Missing information regarding updating vendor package with Changed files method.",
    "body": "I marked this as Major as it results in updates with the Changed Files package not being executed as intended (the /vendor not being replaced by a new /vendor.\r\n\r\nSee [https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_all]\r\n\r\nalso\r\n\r\n[https://www.phpbb.com/support/documents.php?mode=install&version=3.3#update_all]\r\n\r\nalso install.html in the download packages\r\n\r\n \r\n\r\nThe point is that the changed files version x to x+1 doesn't mention that the old /vendor has to be deleted and the new /vendor uploaded. This has resulted in a couple of failed updates.\n---\n## References\n**JIRA Issue Key:** PHPBB-17103\n",
    "type": "Bug",
    "jira_key": "PHPBB-17103",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Osano consent tool is out of date",
    "body": "About Cookie Consent (Open Source) - Osano consent tool is out of date\r\n\r\nPreliminary information discussion phpBB-com:\r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?p=15897326#p15897326\r\n\r\nIn the meantime, many things have changed and I am of the opinion that an adjustment / renewal should be applied in phpBB, as far as that tool concerns phpBB (GDPR / Jurisprudence and so on).\r\n\r\nExample: (GDPR) Look the newer version on the bottom this site please\r\n\r\n- https://www.osano.com/cookieconsent/documentation/javascript-api/\r\n\r\nThe new versions allow the management of cookie settings on the part of users / visitors. In terms of GDPR, this is imperative.\n---\n## References\n**JIRA Issue Key:** PHPBB-17057\n**Affects Versions:** 3.3.9-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17057",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.9-RC1"
    ]
  },
  {
    "title": "Database type mappings between 3.3.x and master are different",
    "body": "In phpBB 3.3.x, UINT from migrations was mapped to MEDIUMINT as you can see [here|https://github.com/phpbb/phpbb/blob/3.3.x/phpBB/phpbb/db/tools/tools.php#L50]\r\n\r\nIn master branch, because the change of the old dbal to doctrine, UNIT is mapped to Integer, source [here|https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/db/doctrine/type_converter.php#L30] \r\n\r\n \r\n\r\nThis causes the schema of the databases to be diferent between phpBB versions.\r\n\r\n[Forum thread|https://www.phpbb.com/community/viewtopic.php?t=2627491]\n---\n## References\n**JIRA Issue Key:** PHPBB-17035\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17035",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Enahnce Wrote variable",
    "body": "Hi there, \r\n\r\nthis is something that bothers me since 3.0, so yeah, very old!\r\n\r\n \r\n\r\nAt functions_content we've this line: \r\n\r\n`$message_parser->message = $quote_attributes['author'] . \" \" . $language->lang('WROTE') . \":\\n\" . $message . \"\\n\";`\r\n\r\nIn my language I don't want to have \"Author Wrote:\" but instead \"Wrote by Author\"\r\n\r\nSo I beleive this could be enhance to give the power to the translation file and not be hardcoded like that.\r\n\r\nBest regards\n---\n## References\n**JIRA Issue Key:** PHPBB-16132\n**Affects Versions:** 3.2.7, 3.2.8-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16132",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.7",
      "3.2.8-RC1"
    ]
  },
  {
    "title": "Topic Resynchronization Problem",
    "body": "Topic to look for: [https://www.phpbb.com/community/viewtopic.php?f=556&t=2479116]\r\n\r\nProblem: As recommended by mods community, I should resync the topics to fix wrong topic_first_post_id that are present in many of my topics, since I've made a lot of merges between topics. Those merges were made in phpBB 3.0 and 3.2, so I really don't know which of the merges are not taking in account the topic_first_post_id.\r\nBecause when merging 2 or more topics, it should fix the topic_first_post_id after the merge. (I still not check if thats happening at 3.2.2).\r\nThe problem here is when I want to fix this problem and I run the topic resync at ACP but it doesn't fix the topic_first_post_id.\n---\n## References\n**JIRA Issue Key:** PHPBB-15727\n**Affects Versions:** 3.2.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-15727",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "408 Request Time-out (Often)",
    "body": "As can be seen in Feedback [topic|https://www.phpbb.com/community/viewtopic.php?p=15873976#p15873976], it has been happening for some time now. Some experience random logouts on posting + slow loading while others get very slow loading.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1421\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1421",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Refactor search as a single mechanism",
    "body": "currently, search is handled differently for each way of searching. This leads to multiple seachfeilds on each page which is a UI nightmare. This needs to be completely overhauled for the new theme. We need a single search that is filterable or customizable to handle all of our searching across the entire forum\n---\n## References\n**JIRA Issue Key:** PHPBB-15797\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-15797",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Code blocks are incorrectly formatted in Atom feed",
    "body": "When a [code][/code] block is represented in an Atom feed, the lines are run-together as one single line, i.e. line breaks within the code block are discarded.  Here is an example:\r\n{code:xml}<div class=\"codebox\"><p>CODE: </p><pre><code> TIME = 0 FOR I% = 1 TO 10000000 a = PI NEXT PRINT TIME TIME = 0 FOR I% = 1 TO 10000000 LET a = PI NEXT PRINT TIME</code></pre></div>\r\n{code}\r\nThe original post looked like this:\r\n{code:java} TIME = 0\r\n FOR I% = 1 TO 10000000\r\n   a = PI\r\n NEXT\r\n PRINT TIME\r\n TIME = 0\r\n FOR I% = 1 TO 10000000\r\n   LET a = PI\r\n NEXT\r\n PRINT TIME{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-16999\n**Affects Versions:** 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16999",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "CSS style for BBCodes",
    "body": "Following the update of the text-formatter to its latest version in phpBB 3.3.5...\r\nhttps://tracker.phpbb.com/browse/PHPBB3-16867\r\n...and JoshyPHP's comment regarding the <style> element not allowed any more in BBCodes...\r\nhttps://tracker.phpbb.com/browse/PHPBB3-16884?focusedCommentId=64625&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-64625\r\n...I have a suggestion.\r\n\r\nIndeed, 3Di's workaround (to move the style code to inline style) works fine in some cases...\r\nhttps://tracker.phpbb.com/browse/PHPBB3-16884?focusedCommentId=64626&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-64626\r\n...but it can't when the CSS code involves pseudo-elements.\r\nAnother side effect would be to prevent from using classes to shorten the code and ease the maintenance & personalisation.\r\n\r\nSo an alternative could be to remove the CSS code from the BBCode and copy/paste it manually into a stylesheet, like common.css, or directly in the header.\r\n\r\nBut this is something we all try to avoid nowadays.\r\nIt was all the purpose of moving from Mods to Extensions, to stop modifying phpBB core files.\r\n\r\nThen, the only other alternative is to transform those BBCodes into Extensions.\r\nBut it looks like a bit too much to leave the BBCode engine and the easiness of setting up  BBCodes in the ACP just to fix a CSS code location. It's also a heavy process and I'm not sure all BBCode authors affected by the issue will have the skills and will to do it.\r\n\r\nSo here is my suggestion: why not adding a \"BBCode CSS style\" field in the BBCode setting page?\r\n\r\n!image-2022-05-18-11-23-08-727.png!\r\n\r\nBBCode authors would have the possibility to:\r\n - keep using the ACP and BBCode engine for their BBCodes\r\n - keep using CSS for pseudo-elements\r\n - keep using CSS classes in their code to shorten it and ease the maintenance & personalisation\r\n - they would just need to copy/paste the CSS associated to their BBCode in this new field\r\n - and this CSS would be automatically loaded by phpBB in the header\r\n\r\nWhat do you think about this option?\r\nTo me, it looks like the easiest option to fix the consequences of the ban of the <style> element in BBCodes.\n---\n## References\n**JIRA Issue Key:** PHPBB-16998\n**Affects Versions:** 3.3.7, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16998",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.7",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Error if data in profilefield bypass the database field max value",
    "body": "When introducing some special characters that are larger when they are html encoded, the maximum length of the database field can be bypassed.\r\nProbably there should be an aditional check to see if the data will fit in the database field.\r\n\r\n !image-2022-04-29-19-10-51-333.png|thumbnail!\n---\n## References\n**JIRA Issue Key:** PHPBB-16992\n**Affects Versions:** 3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-16992",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Visting a topic in the styles demo returns 500 error",
    "body": "# Visit the 3.2 styles demo (I couldn't find a 3.3 demo at all).\r\n # Visit any topic, like the '[normal topic|https://www.phpbb.com/styles/demo/3.2/board/viewtopic.php?style=1486&f=2&t=1]'.\r\n # You should see a white page. In my console it states there was an 500 Internal Server Error when the page was requested.\r\n\r\nI've tried on Safari & Chrome and both produce the same result.\r\n\r\nOriginal report was made in the phpBB.com forums: [community/viewtopic.php?f=64&t=2613871|https://www.phpbb.com/community/viewtopic.php?f=64&t=2613871]\n---\n## References\n**JIRA Issue Key:** WEBSITE-1412\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1412",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Support sphinx tests with PostgreSQL in unit tests",
    "body": "PHPBB3-16935 added tests for sphinx search in unit tests as well as on GitHub Actions. These do currently not support using postgres for testing. As part of this ticket, this should be added to our testing suite.\n---\n## References\n**JIRA Issue Key:** PHPBB-16954\n",
    "type": "Feature",
    "jira_key": "PHPBB-16954",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Use exceptions to handle errors in sqlite3",
    "body": "The current implementation of sqlite3 throws warnings if there are errors. Until PHP 8, these could be silenced with @ but this will no longer work that easily with PHP 8. Instead, we should be using [https://www.php.net/manual/en/sqlite3.enableexceptions.php]. \r\n\r\nIt's also possible that use doctrine will make this ticket obsolete.\n---\n## References\n**JIRA Issue Key:** PHPBB-16903\n",
    "type": "Feature",
    "jira_key": "PHPBB-16903",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Memory exhaustion in topic, forum, and overall feeds due to loading all attachments for all posts",
    "body": "Similar to PHPBB3-14838, calls to {{phpbb\\feed\\attachments_base::fetch_attachments}} that try to load the attachments from a forum, topic, or list of topics are not properly bounded. If a topic has a large number of attachments, it can lead to memory exhaustion. The query for attachments needs to be _always_ limited to load only the attachments from the specific posts that are going to be displayed in the feed.\n---\n## References\n**JIRA Issue Key:** PHPBB-16876\n**Affects Versions:** 3.2.10, 3.3.4\n",
    "type": "Bug",
    "jira_key": "PHPBB-16876",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.10",
      "3.3.4"
    ]
  },
  {
    "title": "Topic Icons Knowledge Base article would be useful",
    "body": "The information in KevC's excellent post [phpBB • 3.3.1 - Topic Icons...What do they mean...?|https://www.phpbb.com/community/viewtopic.php?p=15756286#p15756286] would be extremely useful as a knowledge base article.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1406\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1406",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Use dropzone for uploading files",
    "body": "We should start replacing plupload with a library that is more well maintained, e.g. https://github.com/dropzone/dropzone.\n---\n## References\n**JIRA Issue Key:** PHPBB-16855\n",
    "type": "Feature",
    "jira_key": "PHPBB-16855",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Pretty URLs support",
    "body": "The *only* forum system that does not support this feature is phpBB... \r\n For example with *smf* there were already ways to do it *15 years ago*.\r\n\r\nSo for some time I have been thinking of some workaround to have that feature without so much work.\r\n\r\nI share my idea about it:\r\n\r\n1) All urls go through append_sid(), so I think the best thing would be to massively rename the function to url_generation()\r\n\r\n2) The $params parameter support string and array. This way the old code would still work.\r\n\r\n3) Gradually add where the url_generation() function is used the new values of params that can be used to make our url configurable.\r\n\r\n+Example+:\r\n if I want to transform\r\n{code:java}viewtopic.php?t=1&f=1 {code}\r\nIn this\r\n{code:java}/f1-your-first-forum/t1-my-topic-titl{code}\r\nyou only need to have the name of the forum and the topic in this url_generation() calls\r\n\r\nI think that with an approach like this you could have the feature quickly and it can be gradually improved\n---\n## References\n**JIRA Issue Key:** PHPBB-16827\n",
    "type": "Feature",
    "jira_key": "PHPBB-16827",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Extension Management with Composer Does Not Work",
    "body": "Trying to install an extension from the extension manager fails. First, the extension fails to install for some reason, so then it wants to throw an exception, but fatally dies because it can't find the exception.\n---\n## References\n**JIRA Issue Key:** PHPBB-16231\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16231",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Review the phpbb\\db\\migration\\data\\v320\\allowed_schemes_links migration",
    "body": "I wrote it a long time ago, made it depend on phpbb\\db\\migration\\data\\v320\\dev for no specific reason (it's probably what the migration I used as a base depended on) but there is an abnormally high number of users who have apparently not run it and I don't know why. It could also be that some users somehow skip some migrations for reasons unknown.\r\n\r\nThe file is there, it's only 15 lines: [https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/db/migration/data/v320/allowed_schemes_links.php#L16-L31]\r\n\r\nI should add, no need to actually review the file or spend too much time on it, take a quick look and close that ticket if it seems ok.\n---\n## References\n**JIRA Issue Key:** PHPBB-16807\n",
    "type": "Task",
    "jira_key": "PHPBB-16807",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Search.php to services",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16756\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16756",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Create / remove search index logic",
    "body": "When you create a search index, then you can only delete it if you want to recreate it again.\r\n\r\nBut, if there is no search index, and a post is created, then the post is indexed and in acp it show like if the search index is created, you can't index the previous posts without delete the search index.\r\n\r\nI have added a few checks to launch an exception or just do nothing when there is an index already created to avoid that, but it causes some errors in the tests.\r\n\r\nI think that only the posts should be indexed if there is an index created, if there isn't an index, the posts should not be indexed. Explained in other way: Have all posts indexed or none, but not only the last posts created since the index was cleared the last time.\n---\n## References\n**JIRA Issue Key:** PHPBB-16755\n**Affects Versions:** 3.3.4-RC1, 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16755",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.4-RC1",
      "4.0.0-a1"
    ]
  },
  {
    "title": "[phpBB Debug] FastImageSize Failed to open stream",
    "body": "I'm receiving this error in a topic with an attachment.\r\n It's strange, because it's only that 1 topic that gives this error...\r\n All others with attachments are fine...\r\n{code:java}\r\n[phpBB Debug] PHP Warning: in file [ROOT]/vendor/marc1706/fast-image-size/lib/FastImageSize.php on line 189: file_get_contents(https://www.phpbbnl.be/download/file.php?id=15&amp;mode=view): Failed to open stream: HTTP request failed! HTTP/1.1 403 Forbidden\r\n [phpBB Debug] PHP Warning: in file [ROOT]/vendor/marc1706/fast-image-size/lib/FastImageSize.php on line 189: file_get_contents(https://www.phpbbnl.be/download/file.php?id=16&amp;mode=view): Failed to open stream: HTTP request failed! HTTP/1.1 403 Forbidden {code}\r\nYou can see the error here: https://www.phpbbnl.be/viewtopic.php?f=5&t=8\r\n\r\n*I use PHP 8.0.3*\r\n +The error is gone with PHP 7.4+\n---\n## References\n**JIRA Issue Key:** PHPBB-16742\n**Affects Versions:** 3.3.4-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16742",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Confirmed",
    "affects_versions": [
      "3.3.4-RC1"
    ]
  },
  {
    "title": "Language choose while register",
    "body": "Choosing a language in the register procedure, lead you back to the register page.\r\n\r\nThis is very annoying.\r\n\r\nBetter would be to let you choose the language in a earlier moment.\n---\n## References\n**JIRA Issue Key:** PHPBB-16702\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16702",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "plupload will not work correctly with rotated images in newer browsers",
    "body": "Plupload will not work correctly if rotated images are being uploaded and running in any one of the newer browsers implementing auto-image rotation in their canvas. This applies to most, if not all, versions of phpBB since this is new browser thing.\r\n\r\nIt is very tricky to test this visually since not only can some browsers auto-rotate images, the OS file manager may or may not depending on what version you're using. To be sure, I inserted debug code in plupload.php and in plupload.js . I've tested this on 3 current browsers that implement auto image rotation (Chrome, Edge, and Firefox) and an older Chromium version that does not. I used 4 images with orientation = 1 (normal), 6 and 8 (both 90 degrees), and 3 (180 degrees). I mixed and matched test uploads between browsers in my local test environment.\r\n\r\nThe incorrect operation is a double rotation, first by virtue of the browser's canvas and second by plupload's rotate code.\r\n\r\nA possible solution is (1) put a switch in plupload.js which engages its auto-rotation if the browser does not do it already, and does not auto-rotate if the browser already did it and (2) add some one-time js code somewhere that produces the test variable needed by plupload. I implemented these two, tested it locally, and am currently running it on my forums.\r\n\r\nBTW this issue persists whether the EXIF stripping feature is selected or not (since plupload always uses the canvas regardless).\r\n\r\nI also posted in a relevant forum thread [here|https://www.phpbb.com/community/viewtopic.php?f=64&t=2429206&start=45]\n---\n## References\n**JIRA Issue Key:** PHPBB-16682\n",
    "type": "Bug",
    "jira_key": "PHPBB-16682",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "System cron is resending notification",
    "body": "I have enabled system cron and every time cron runs it is sending reminder for \"Topic moderation notification\" for the same topic even after topic has been moderated.  Then deleted the topic and still got the message.  Also get repeated email subscription to a post.  This also happens after the post has been deleted! And this did not go away after clearing cache on the system menu.  Finally after clearing cache by deleting the files in the cache folder the emails stopped. \r\n\r\nI tried again with another moderation and post and it had the same effect.\n---\n## References\n**JIRA Issue Key:** PHPBB-16647\n**Affects Versions:** 3.3.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-16647",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.2"
    ]
  },
  {
    "title": "Undefined variable",
    "body": "The following variable isn't defined (config_file)\r\n\r\n \r\n\r\n[https://github.com/phpbb/phpbb/blob/ed9cbc89c19bc6321bfdd540f241683b71ea9a6e/phpBB/phpbb/search/sphinx/config.php#L108]\n---\n## References\n**JIRA Issue Key:** PHPBB-16303\n**Affects Versions:** 3.2.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-16303",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9"
    ]
  },
  {
    "title": "Conflicts when using Autowire in Extensions",
    "body": "With the ability to now use autowire in extensions there is a conflict where another extension uses a FQCN\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=461&t=2569716]\r\n\r\nOne possible solution (and there may be other better solutions) is to add all services as aliases in config\\default\\container\\services.yml\n---\n## References\n**JIRA Issue Key:** PHPBB-16609\n**Affects Versions:** 3.3.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16609",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.1"
    ]
  },
  {
    "title": "Issues with Forum Subscriptions",
    "body": "Forum version 3.2.8\r\nMember A belongs to Usergroup A that has access to Forum A. They subscribe to forum A and receive emails as expected. Six months down the road, they are no longer part of Usergroup A, and therefore lose access to Forum A.\r\n\r\nThey did not unsubscribe to Forum A. They still do receive email notifications on new topics created in Forum A, though, after no longer having permissions to view Forum A, the permissions being thoroughly verified.  They click on the links in the notification email and get the not authorized notice, but still do receive the email notification, complete with topic subject.\r\n\r\nThis is a problem. Whilst they can't actually access Forum A by clicking the notification link in the email, it still does send a notification and the topic subject.\n---\n## References\n**JIRA Issue Key:** PHPBB-16624\n**Affects Versions:** 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16624",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Clarify which browsers are officially supported for style authors",
    "body": "The problem was previously described in https://tracker.phpbb.com/browse/PHPBB3-16393, for phpBB 3.2/3.3, but create a ticket here - for Website project - should be a better idea.\r\n\r\n \r\n\r\nA Front-End Dev Team Member replied : https://tracker.phpbb.com/browse/PHPBB3-16393?focusedCommentId=62917&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-62917\r\n\r\nedit: I replied him, about IE11, after creating that ticket : https://tracker.phpbb.com/browse/PHPBB3-16393?focusedCommentId=62920&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-62920\r\n\r\nThe previous ticket is now closed, as the issue will be adressed here.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1381\n",
    "type": "Task",
    "jira_key": "WEBSITE-1381",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Mass email notification on some server configuration",
    "body": "'+Problem+: I enabled email notification about private messages and sent a test PM. Then I started getting the same notification email in my server syslog every 5 minutes, but I wanted only one email.\r\n\r\n+Investigation+: I have full Debian server with phpBB 3.3. I have user *webmaster* for the CLI access and my web-server run as *www-data* user, both users are in group *www-data*. Every 5 minutes crond runs _bin/phpbbcli.php_ as user *webmaster*. Syslog shows that crond is trying to send extra emails using _mail()_ in _includes/functions_messenger.php:1929_. Futher investigation shows that phpBB email queue is stored in the cache-file _cache/production/queue.php_. This cache-file was created by web-server (user *www-data*) and is processing by crond (user *webmaster*). After every processing phpBB tries to unlink this cache-file unsuccessfully because of permission problem. It is possible for user *webmaster* to write anything to this cache-file (for instance empty queue) but it is impossible to unlink this file because of parent dir permission: *drwxr-xr-x 3 www-data www-data*. So my personal solution is changing _cache/production/_ permissions to *drwxrwxr-x*.\r\n\r\n+Proposed solutions+:\r\n1) Change initial _cache/production/_ permissions to *drwxrwxrwx*.\r\n2) Replace _unlink()_ by writing empty queue.\r\n3) Еnforce customers to use the same user for web-server and external crond (bad idea in my mind).\n---\n## References\n**JIRA Issue Key:** PHPBB-16490\n**Affects Versions:** 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16490",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "CP Common code and tests",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16219\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16219",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "CP Services and items",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16218\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16218",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Search user posts BBCode not always parsed which can misattribute quoted material",
    "body": "When someone clicks on the number of posts shown in the members profile, the output shows the first 300 characters with a 'Jump to post' link.\r\n\r\nDepending on where BBCodes fall in the first 300 characters of the post, sometimes the search results render with the BBCodes processed but for longer posts the BBCodes are NOT processed. This can lead to the case where a posted quoted someone else at the start of a post but the search results output doesn't show the quoted material, thus misrepresenting who said what. \r\n\r\nSee [https://www.phpbb.com/community/viewtopic.php?f=556&t=2547851] for discussion.\n---\n## References\n**JIRA Issue Key:** PHPBB-16427\n**Affects Versions:** 3.2.9\n",
    "type": "Feature",
    "jira_key": "PHPBB-16427",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9"
    ]
  },
  {
    "title": "EPV page doesn't work",
    "body": "Hi team,\r\n\r\nOn the following page : [https://www.phpbb.com/extensions/epv/]\r\n\r\nIf we tried to use EPV via Github, it result the following error:\r\n\r\n \r\n{noformat}\r\nAn error occured\r\nOopsies… what you have requested is gone!I’m only a computer server and can only give you what I’ve got. I’ve searched and search and searched, yet there was no document of this name. So as they say… “this page is an ex-parrot”, perhaps you should use the search?{noformat}\r\nAnd, the link ( https://tracker.phpbb.com/browse/EXTTOOLS) provided to reports bugs, is not accessible.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1382\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1382",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "BBCode in parts not parsed",
    "body": "Hi,\r\n\r\nI have a post with the following structure:\r\n{code:java}\r\n[b]Name[/b]\r\n[list][*]from User xy: [url=https://www.phpbb.com/]Link to post[/url][/list]\r\n\r\n[b]Name2[/b]\r\n[list][*]from User xyz: [url=https://www.phpbb.com/]Link to post[/url][/list]\r\n{code}\r\nThis sections gets repeated a few times, with more list-items etc.\r\n\r\nThis posting is quite long, since the update to 3.2.0  this post was not parsing the BBCodes in the whole post completely. It stucks at same point.\r\n\r\nThis lead to:\r\n\r\n[b]Name[/b] --> gets parsed until the end of the post\r\n\r\n\r\nThe list + URL does not get parsed anymore beginning in a specific line (see attachment).\r\n\r\nThis does not affect phpBB 3.1.10.\n---\n## References\n**JIRA Issue Key:** PHPBB-15272\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15272",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Contact email address can be visible when you click on \"I forgot my password\" link",
    "body": "Consider a board where the feature \"Allow password reset\" is disabled.\r\n\r\n \r\n\r\nThe link \"I forgot my password\" is still visible. When an user clicks on it, he or she receives that message :\r\n{code:java}The password reset functionality has been disabled. If you need help accessing your account, please contact the Board Administrator.{code}\r\nThe link \"Board Administrator\" doesn't redirect to the Contact Page (if enabled) or an error (if disabled), like the login page when there is a login problem. Instead, it redirects to m{color:#172b4d}ai{color}+l+{color:#403294}t{color}o:xxxx, where xxxx is the contact email address defined in the ACP. Even if the administrator decided to hide email addresses, the contact email address is still visible. It's definitely a flaw.\r\n\r\n EDIT 5/03/20 : the bug appears also when you try to link an existing account with an external service (oauth). If you type a wrong password, you get that message\r\n\r\n \r\n{code:java}You have specified an incorrect password. Please check your password and try again. If you continue to have problems please contact the Board Administrator.\r\n{code}\r\nUnlike the \"Board Administrator\" link of the standard login page, that link doesn't redirect to the Contact page (if enabled) or an error (if disabled). Instead, it redirects to mail to:xxxx, where xxxx is the contact email address defined in the ACP. Even if the administrator decided to hide email addresses, the contact email address is still visible. Same flaw.\r\n\r\n \r\n\r\n If you fails again to find the correct password, you get that message:\r\n{code:java}You have specified an incorrect password. Please check your password and try again. If you continue to have problems please contact the %sBoard Administrator%s.\r\n{code}\r\nThere is no link at all. {color:#de350b}*%sBoard Administrator%s*{color} is displayed as such.\n---\n## References\n**JIRA Issue Key:** PHPBB-16353\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16353",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Patch for PHPBB3-14559 does not correctly handle all inline attachments inside quotes",
    "body": "The patch added for PHPBB3-14559 only fixes the single case where someone uses the quote-reply button to quote a post containing an inline attachment. It does not fix:\r\n # Posts which add a quote containing an inline attachment by using the quote button in the message history in the editor\r\n # Posts which were already created before the patch which contained an attachment tag inside of a quote tag\r\n # Any other scenario where a user manually copies and pastes BBCode containing attachment tags\r\n\r\nA more correct solution for this problem is to associate the nested attachment tag with the post ID on the parent {{[quote]}} tag, if one exists, and load attachment data that way using a {{(post_id, index)}} composite key. (Using indexes for attachments is pretty much always wrong since they aren’t unique or immutable, unlike {{attach_id}}, but whatever.)\r\n\r\nA less good alternative—which would be needed anyway for quotes which don’t include the original post ID—is for the template for {{<ATTACHMENT>}} to look in the ancestor axis for a {{<QUOTE>}} element, and if there is one, don’t output the comment hack which is used to process and replace the inline attachment at render time.\n---\n## References\n**JIRA Issue Key:** PHPBB-16364\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16364",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Patch for PHPBB3-11453 causes external notifications to be sent to banned users or Anonymous",
    "body": "The patch in https://github.com/phpbb/phpbb/pull/5300 deletes the check of whether a notification is going to banned or ignored users, and there are no other checks in the notification system to remove banned users.\r\n\r\nAs a result, at best, the notification system tries to send notifications to Anonymous since that’s the user account which {{$this->user_loader->get_user($notification->user_id)}} returns when there is no account loaded, which results in wasted time rendering templates for the wrong account (since nothing checks whether an email address actually exists until the call to {{messenger::msg_email}} at the very end of {{messenger::send}}). At worst, notifications continue to be sent to banned users because the banned users were loaded by some other earlier call to load users into the global user_loader object during the same request.\r\n\r\nThe original short-circuiting checks which existed and were removed by the patch should be restored.\n---\n## References\n**JIRA Issue Key:** PHPBB-16347\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16347",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Notification manager does not check if a notification type is available before creating or updating notifications",
    "body": "Various functions in {{\\phpbb\\notification\\manager}} blindly call {{\\phpbb\\notification\\type\\type_interface}} functions without first checking that the given notification type is actually available.\r\n\r\nFor example, when {{\\phpbb\\notification\\manager::add_notifications}} is called, it calls straight through to {{\\phpbb\\notification\\type\\type_interface::find_users_for_notification}}:\r\n\r\n{{$notify_users = $this->get_item_type_class($notification_type_name)->find_users_for_notification($data, $options)}}\r\n\r\nThis means that if e.g. bookmarks are initially enabled, users add bookmarks, then bookmarks are disabled later, users will continue to receive bookmark notifications and will have no ability to control these notifications.\r\n\r\nThere is no written contract in the type_interface API that states the type needs to be aware of its own availability state and not return data if it is unavailable, so this implies that these checks should be happening in the notification manager. However, just checking {{type_interface::is_available}} is not sufficient since that function is designated to be used only for deciding whether or not a type is available to the *current* user, not whether or not a type is available *at all*.\n---\n## References\n**JIRA Issue Key:** PHPBB-16340\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16340",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Poor inefficient SQL on reading the notifications table",
    "body": "In phpbb/notification/method folder there is the Board.php file.\r\n\r\nThere is a public function in it called get_notified_users that reads the Notifications table.\r\n\r\nIf the site admin chooses to not have Notifications removed from their forum, then the Notifications table will constantly increase. \r\n\r\nThe SQL in this public function appears to be inefficient as the Notifications table doesn't include the column 'item_parent_id' as an index. Its possible that other columns may need to be indexed.\n---\n## References\n**JIRA Issue Key:** PHPBB-16280\n**Affects Versions:** 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16280",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Refactor template object",
    "body": "See https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=50881\n---\n## References\n**JIRA Issue Key:** PHPBB-15069\n**Affects Versions:** 3.2.0, 3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-15069",
    "jira_type": "New Feature",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0",
      "3.3"
    ]
  },
  {
    "title": "Incorrect installation path for SQLite3",
    "body": "phpBB installation procedure with SQLite3 has several issues:\r\n\r\n1) Full path to the database should be entered, while the code gets it as a server name with optional port value, see [https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/phpbb/db/driver/sqlite3.php#L39.]\r\n\r\n2) There's a \"Database name\" field on the database configuration page during installation, but the value is never used in the code to connect with the database.\r\n\r\n3) Connection uses SQLITE3_OPEN_CREATE flag, which means database to create if doesn't exist, but it will create 2 database files in /install and board root folders. This is pointless as /install folder is to be deleted/renamed as well as it's not safe like that. Also it's not documented anywhere. See https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/phpbb/db/driver/sqlite3.php#L50\n---\n## References\n**JIRA Issue Key:** PHPBB-16166\n**Affects Versions:** 3.2.8, 3.3, 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16166",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.8",
      "3.3",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Move viewforum to a controller",
    "body": "Move the viewforum endpoint into a controller.\r\n\r\nSince this is a rather complicated task with many parts to refactor it is/will be broken up into multiple smaller tickets (see the links) which should help reviewing this and reduce the risk of introducing bugs.\n---\n## References\n**JIRA Issue Key:** PHPBB-15934\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-15934",
    "jira_type": "Sub-task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "SQL statements in move_topics should be part of transaction",
    "body": "Lots of functions infunctions_admin.php contain multiple queries that update data, so they should all be combined within a transaction to avoid data inconsistensies on failure:\r\n * move_posts()\r\n * move_topics()\r\n * delete_topics()\r\n * delete_topic_shadows()\n---\n## References\n**JIRA Issue Key:** PHPBB-16162\n",
    "type": "Bug",
    "jira_key": "PHPBB-16162",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Database Update  and ACP version check should check for maximum PHP version",
    "body": "Like introduced with the solution for https://tracker.phpbb.com/browse/PHPBB3-15926, the database update should also check for the minimum and maximum PHP versions.\r\n\r\n \r\n\r\nAs the manual update with the full package is the recommended method for upgrading, the database updater is the only script to run after file replacement.. So board owner doing an upgrade get the same informations like on a fresh install.\r\n\r\n \r\n\r\nAdditionally, a check should be implemented on the acp main page if there are any version conflicts with the current PHP version.\n---\n## References\n**JIRA Issue Key:** PHPBB-16077\n**Affects Versions:** 3.2.7\n",
    "type": "Bug",
    "jira_key": "PHPBB-16077",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.7"
    ]
  },
  {
    "title": "Need a central and therefore consistent documentation of upgrade procedure",
    "body": "Within the phpbb.com website, there are a number of instances where the phpBB 3.x upgrade procedure is documented and unfortunately there are differences between each one. This makes it hard for a newer admin to find and follow the upgrade instructions. There should be *one documented location* and a common method (KB BBCode?) to link to it so that all other instances should refer to this one. \r\n\r\nIt is made more difficult because many phpBB posters, including support team members, post instructions without a link to the *documented location*, thus increasing the number of sets of instructions that an admin may find. \r\n\r\nWith the release of phPBB 3.2 the support forums are once again filling with reports of upgrade problems. The same happened in the phpBB 3.1 timeframe. \r\n\r\nHere are some examples that I've found. In particular there is a difference between the :\r\n*  [ReadMe Before Posting in 3.2.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=556&t=2376856#faq]\r\n* [ReadMe Before Posting in 3.1.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=466&t=2232411#faq]\r\n* [Downloads - Install or Update phpBB link|https://www.phpbb.com/support/documents.php?mode=install&version=3#update30_31]\r\n* [Forum post - Support team member|https://www.phpbb.com/community/viewtopic.php?p=14591176#p14591176]\r\n* [Forum post - significant contributor|https://www.phpbb.com/community/viewtopic.php?p=14562601#p14562601]\r\n\r\nThe differences between the [Downloads - Install or Update phpBB link|https://www.phpbb.com/support/documents.php?mode=install&version=3#update30_31] and the [ReadMe Before Posting in 3.2.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=556&t=2376856#faq] caused me some trouble testing the upgrade to phpBB 3.2.\r\n\r\nA common documentation of the procedure/steps would go a long way to smoothing the upgrade process when a new feature release comes out IMHO.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1309\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1309",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Error message when upload 0 bytes attachment",
    "body": "When you upload a file of 0 bytes, you get the error: \"File too large\".\r\n\r\nI haven't check in 3.2.x\n---\n## References\n**JIRA Issue Key:** PHPBB-15993\n**Affects Versions:** 3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15993",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Unable to find template \"acp_ext_enable.html\" after renaming \"adm\" folder.",
    "body": "Hi,\r\n\r\nIf we rename the 'adm' folder and try to enable an extension, we encounter the following error:\r\n\r\nFatal error: Uncaught exception 'Twig_Error_Loader' with message 'Unable to find template \"acp_ext_enable.html\" (looked into: ).' in /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php:232 Stack trace:\r\n#0 /var/www/clients/client3/web24/web/forums/phpbb/template/twig/loader.php(135): Twig_Loader_Filesystem->findTemplate('acp_ext_enable....')\r\n#1 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php(150): phpbb\\template\\twig\\loader->findTemplate('acp_ext_enable....')\r\n#2 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Environment.php(329): Twig_Loader_Filesystem->getCacheKey('acp_ext_enable....')\r\n#3 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Environment.php(419): Twig_Environment->getTemplateClass('acp_ext_enable....')\r\n#4 /var/www/clients/client3/web24/web/forums/phpbb/template/twig/environment.php(277): Twig_Environment->loadTemplate('acp_ext_enable....', NULL)\r\n#5 /var/www/clients/client3/web24/web/forums/ve in /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php on line 232\r\n\r\nThis error only appears when an extension is enabled.\r\nNo errors during disabling or deletion.\n---\n## References\n**JIRA Issue Key:** PHPBB-15487\n**Affects Versions:** 3.2.2-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15487",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.2-RC1"
    ]
  },
  {
    "title": "Invalid UTF-8 encoding on mssqlnative driver",
    "body": "The previous version of PHPBB used this code to construct a connection string and connect to a MSSQL database inside mssqlnative.php:\r\n\r\n \r\n{code:java}\r\n//connect to database\r\n$this->db_connect_id = sqlsrv_connect($this->server, array(\r\n\t'Database' => $this->dbname,\r\n\t'UID' => $this->user,\r\n\t'PWD' => $sqlpassword\r\n));\r\n{code}\r\n \r\n\r\nThe latest release of PHPBB adds a UTF-8 characterset declaration line:\r\n{code:java}\r\n//connect to database\r\n$this->db_connect_id = sqlsrv_connect($this->server, array(\r\n\t'Database' => $this->dbname,\r\n\t'UID' => $this->user,\r\n\t'PWD' => $sqlpassword,\r\n\t'CharacterSet' => 'UTF-8'\r\n));\r\n{code}\r\nWhen I upgraded my site, every post on the site which included Unicode characters started showing invalid character sequences in place of the proper character. For instance, instead of the opening quote character “ the site would show the UTF-8 character sequence â€œ.\r\n\r\nThe post_text column in the phpbb_posts table stores that character in the post using the encoded UTF-8 character sequence â€œ. This is sent directly to the browser as is, declaring the page to be UTF-8, and the browser correctly displays the Unicode character.\r\n\r\nBy declaring the connection to the SQL Server as UTF-8, the connection/SQL Server encodes the already encoded UTF-8 character sequences that are stored in the post_text column. This is output to the browser, which decodes the second encoding, but then displays the post directly as it is stored in the database - which is still encoded.\r\n\r\nRemoving this CharacterSet parameter from the connection string stops the double UTF-8 encoding from occurring and returns proper functionality to the site under SQL Server.\n---\n## References\n**JIRA Issue Key:** PHPBB-15847\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15847",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "Error during create fulltext search index",
    "body": "If I'm trying to create fulltext index for search i'e got an error:\r\n{code:java}\r\nSQL ERROR [ mysqli ]Lost connection to MySQL server during query [2013]SQLALTER TABLE phpbb_posts ADD FULLTEXT post_text (post_text)BACKTRACEFILE: (not given by php)\r\nLINE: (not given by php)\r\nCALL: msg_handler()FILE: [ROOT]/phpbb/db/driver/driver.php\r\nLINE: 997\r\nCALL: trigger_error()FILE: [ROOT]/phpbb/db/driver/mysqli.php\r\nLINE: 193\r\nCALL: phpbb\\db\\driver\\driver->sql_error()FILE: [ROOT]/phpbb/db/driver/factory.php\r\nLINE: 329\r\nCALL: phpbb\\db\\driver\\mysqli->sql_query()FILE: [ROOT]/phpbb/search/fulltext_mysql.php\r\nLINE: 1058\r\nCALL: phpbb\\db\\driver\\factory->sql_query()FILE: [ROOT]/includes/acp/acp_search.php\r\nLINE: 369\r\nCALL: phpbb\\search\\fulltext_mysql->create_index()FILE: [ROOT]/includes/acp/acp_search.php\r\nLINE: 46\r\nCALL: acp_search->index()FILE: [ROOT]/includes/functions_module.php\r\nLINE: 676\r\nCALL: acp_search->main()FILE: [ROOT]/adm/index.php\r\nLINE: 82\r\nCALL: p_master->load_active(){code}\r\nI have this problem since 3.1 was released\n---\n## References\n**JIRA Issue Key:** PHPBB-15834\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15834",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "Move make_jumpbox to twig function",
    "body": "I'm not sure if is the correct way to do it, but i think is better than call the function from lots of controllers to inject the variables to the template.\r\n\r\nI think it should be a twig function or something like that, so the jumpbox is generated when inserting that piece of code in the template, leaving the controllers more clean.\n---\n## References\n**JIRA Issue Key:** PHPBB-15822\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15822",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "BBCode Code Nested",
    "body": "Its not possible as once it was to nest bbcode [code]\r\n\r\nExample:\r\n [code]This is how you should add a code: [code]$testing=failing_at_life;[/code] See wasn't hard![/code]\r\n\r\n\r\nResult:\r\n!https://i.gyazo.com/ea2865377a9731f765eeced5e4180ca2.png!\n---\n## References\n**JIRA Issue Key:** PHPBB-15551\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15551",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "Events for file deletion are not working with plupload",
    "body": "For clarity, create file named _*result.txt*_ in root directory of your forum.\r\n\r\nWrite next code in _*event/listener.php*_ of your extension:\r\n\r\n \r\n{code:java}\r\n            'core.delete_attachments_from_filesystem_after'            => 'delete_file',{code}\r\n \r\n{code:java}\r\n    public function delete_file($event)\r\n    {\r\n        $new_file = 'result.txt';\r\n        $content = $event['space_removed'];\r\n\r\n        file_put_contents($new_file, $content);\r\n    }\r\n{code}\r\nYou will see the number written as a result after deleting the file along with the message, but you will not see anything after deleting via plupload.\r\n\r\nSame for other events in _*phpbb/attachment/delete.php*_\n---\n## References\n**JIRA Issue Key:** PHPBB-15490\n**Affects Versions:** 3.2.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15490",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "mssqlnative does not handle unicode text",
    "body": "mssql native driver does not insert or update unicode text.\r\nalso unicode strings in WHERE clause does not compared correctly\n---\n## References\n**JIRA Issue Key:** PHPBB-15820\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15820",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "mssql_odbc does not store utf8 stings as unicode",
    "body": "mssql_odbc does not store utf8 stings as unicode.It is storing it like binary, so string SQL functions give wrong return when unicode text passed to.\n---\n## References\n**JIRA Issue Key:** PHPBB-15821\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15821",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "phpbb_login_attempts and some other tables without a PRIMARY index",
    "body": "I recently moved my servers to a MySQL Galera cluster, and I am getting loads of these:\r\n\r\n[Warning] WSREP: Percona-XtraDB-Cluster doesn't recommend use of DML command on a table (talk3.phpbb_login_attempts) without an explicit primary key with pxc_strict_mode = PERMISSIVE\r\n\r\nThere must exist PRIMARY keys in every index. My MySQL cluster works only because I set pxc_strict_mode = PERMISSIVE, which should be avoided in a cluster.\r\n\r\nAffected tables:\r\n\r\n* phpbb_login_attempts\r\n* phpbb_topics_watch\r\n* phpbb_user_group\r\n* phpbb_poll_votes\r\n* phpbb_poll_options\r\n* phpbb_user_notifications\n---\n## References\n**JIRA Issue Key:** PHPBB-15032\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15032",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Birthday list",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15778\n",
    "type": "Bug",
    "jira_key": "PHPBB-15778",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "core.modify_notification_message does not actually allow modification of notification message",
    "body": "The {{core.modify_notification_message}} hook is executed prior to template execution, so it is impossible to actually modify the notification message since the message gets replaced by the template immediately _after_ the hook. The subject is also impossible to modify if a template contains a subject header which is extracted by regular expression for the same reason.\n---\n## References\n**JIRA Issue Key:** PHPBB-15761\n**Affects Versions:** 3.2.2, 3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15761",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.2",
      "3.3"
    ]
  },
  {
    "title": "Attachment download deny behavior not working propertly",
    "body": "In the option \"Allow/Deny list\", when the Deny option is selected, it will always allow download.\r\n\r\n \r\n\r\nPS: Im not sure about this, because i didnt found anyone to confirm.\r\n\r\nI think this condition is wrong:\r\n\r\n[https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/includes/functions_download.php#L385]\r\n\r\n \r\n\r\nThe code will be in phpBB/phpbb/storage/controller/attachment.php when the pr is accepted\n---\n## References\n**JIRA Issue Key:** PHPBB-15264\n**Affects Versions:** 3.1.11-RC1, 3.2.1-RC1, 3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15264",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.11-RC1",
      "3.2.1-RC1",
      "3.3"
    ]
  },
  {
    "title": "Private Message Created Folder Counts Wrong and Does not Provide Paging to View All",
    "body": "Hi,\r\n\r\nI just moved 91 private messages form my Inbox to a folder I created (Inbox Overflow #1).  I did likewise with a different folder (Sent Overflow #1) for the sent messages; 94 moved.  When I click on the the \"Inbox Overflow #1\" link to view the messages in that folder it tells me that there are 11 out of 500 messages stored and shows a single page with 25 messages.  It shows at the bottom \"11 messages • Page 1 of 1* and provides no way to get to more than the 25 showing.  When I click on the \"Sent Overflow #1\" link it tells me there are 24 out of 500 messages in the folder but shows 25; and likewise does not provide a way to get beyond the \"Page 1 of 1\".  Queries of the phpbb_privmsgs_folder and phpbb_privmsgs_to tables show that there are the 91 and 94 messages in the specified folders.  So they did move properly.  It is just that the pm_count value in phpbb_privmsgs_folder is not correctly populated for some reason and thereby causing problems.\r\n\r\nThanks,\r\n\r\nClifford Bass\n---\n## References\n**JIRA Issue Key:** PHPBB-14632\n**Affects Versions:** 3.1.6\n",
    "type": "Bug",
    "jira_key": "PHPBB-14632",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "Forum won't install correctly with SQL master-master configuration",
    "body": "phpBB won't install correctly on webhosting with SQL master-master configuration because it expects auto-increment by 1, which is impossible on such configuration.\r\n\r\nIt results in adding users to incorrect user groups which causes completely mess in user groups rights.\n---\n## References\n**JIRA Issue Key:** PHPBB-15658\n",
    "type": "Bug",
    "jira_key": "PHPBB-15658",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "ACP / Prosilver doesn't accept SVG  images",
    "body": "On ACP if we select a .svg image for forumicon, no image will be shown on ACP - Forums page, it accepts png, jpg, jpeg, gif, webp, but not svg.\r\n\r\nThe same for prosilver on index page. The forumicons svg will not be shown.\r\n\r\nIt would be great to have svg image support for this\n---\n## References\n**JIRA Issue Key:** PHPBB-15493\n**Affects Versions:** 3.2.1, 3.2.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-15493",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.1",
      "3.2.2"
    ]
  },
  {
    "title": "Install SQL schema expects style_id to be '1'",
    "body": "Hello,\r\n\r\nWe're using a MariaDB Galera cluster which decide automatically what the next auto_increment id will be.\r\n\r\nThe current installer always expects the default_style id to be 1 while it relies on the systems auto_increment id on insert:\r\n\r\n{code:title=phpBB3/install/schemas/schema_data.sql|borderStyle=solid}\r\n96: INSERT INTO phpbb_config (config_name, config_value) VALUES ('default_style', '1');\r\n473: INSERT INTO phpbb_styles (style_name, style_copyright, style_active, style_path, bbcode_bitfield, style_parent_id, style_parent_tree) VALUES ('prosilver', '&copy; phpBB Limited', 1, 'prosilver', 'kNg=', 0, '');\r\n{code}\r\n\r\nBetter (easy) is to assign 1 to the record like this:\r\n{code}\r\nINSERT INTO phpbb_styles (style_id, style_name, style_copyright, style_active, style_path, bbcode_bitfield, style_parent_id, style_parent_tree) VALUES (1, 'prosilver', '&copy; phpBB Limited', 1, 'prosilver', 'kNg=', 0, '');\r\n{code}\r\n\r\nOr change the code that it will add the default style dynamically. I don't know if the default install relies on other fixed IDs (which is bad practice of course).\r\n\r\nLet me know if you need any more information.\r\n\r\nRegards,\r\nDaan\n---\n## References\n**JIRA Issue Key:** PHPBB-14728\n**Affects Versions:** 3.1.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-14728",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "Poll Edit Looses Votes",
    "body": "If you create a poll which has some votes cast and then edit the options any votes that have been cast are deleted.\r\n\r\nI cannot recall this happening in previous versions.\n---\n## References\n**JIRA Issue Key:** PHPBB-15136\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15136",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Allow disabling ip-based login-attempt counter",
    "body": "I understand that as of phpBB 3.0.9-RC1 the handling of login attempts was changed from a per-user account basis to a per-IP basis (as described in PHPBB3-9992).\r\n\r\nAs the comment by maniac 2 on that issue already pointed out, this change can be quite counter productive in certain environments. The user suggested this in cases of using phpBB in (or from) larger organization where all attempts would come from the same IP address and hence a failure of user x to login would impact user y's login attempts.\r\n\r\nThis is bad because of two reasons IMO:\r\n1. User y being presented with the login-failure message would incorrectly assume that someone tried to hack into his account (i.e. entered the wrong password) while actually the login attempts were done for a completely different user(name).\r\n2. It's causing inconvenience because suddenly all users from that company would have to solve the captcha just because a single user mistyped his password.\r\n\r\nThe matter becomes even worse in scenarios where the phpBB is run in a privacy focused environment where IP addresses would not be recorded at all (and rather always be reported as 127.0.0.1 --- f.e. by using the removeip Apache 2 mod). In my case this is exactly what I'm doing and basically every user of my board will always have to enter the captcha now.\r\n\r\nI do understand the rational behind the original change and I won't argue that it's in general a better behavior than the older username-based login attempt counters.\r\nStill, I'd like to see this to get improved one way or another. Providing a config setting to disable ip-based-login-attempt counters (which then fall back to username-based login counters as it was pre 3.0.9-RC1) might be an option. Alternatively an IP-whitelist could be added, so for the IP addresses on that list, the username-based login counters would always be used.\r\nA third alternative would be to at least disable the IP-based-counters for the 127.0.0.1 IP (localhost) and at least in this case fall back to the username based login attempt counters.\n---\n## References\n**JIRA Issue Key:** PHPBB-15482\n**Affects Versions:** 3.0.9-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15482",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.0.9-RC1"
    ]
  },
  {
    "title": "Improve handling of deleting users with thousands of posts.",
    "body": "Trying to clean up some spam user accounts which flooded my forum, I ran into several issues when trying to remove these spam accounts and selecting to also delete their posts in the user administration panel.\r\n\r\nNote that these users had around 8k-25k posts.\r\n\r\nExamples of how the issue is experienced by users (depending on the environment) after confirming the deletion of the user:\r\n * white page of death (with no hint in the php error log on what went wrong)\r\n * \"MySQL server has gone away [2006]\" output\r\n * huge delay (up to more than an hour where the confirmation dialog stays on screen)\r\n\r\nAfter a day's work I traced down the problem to be caused by the pure amount of posts these users had and the way phpbb is handling the deletion of these requests. Ultimately I figured out that the WpoD is caused by php running out of the max memory (was 128 MB - increased to 1GB solved the issue) and the MySQL server errror 2006 being caused by phpBB creating a deletion query which is larger than the max-package-size set up in MySQL (fixed by raising the package size limit from 16 MB to 32 MB).\r\n\r\nI certainly understand that this is quite an exceptional use-case of deleting users with so many posts, still I would have assumed that phpBB handles this more performant/reasonable and don't create a single huge SQL statement which is consuming so much memory/CPU cycles. Can't this be somehow improved?\r\n\r\nAt the very least I'd imagine a big warning showing up, if the user/admin tries to remove user accounts which >500-1000 posts, making him aware of the possible failure of the operation.\r\n\r\nBetter of course would be to one way or the other split up the operation in multiple chunks (f.e. per cycle remove only 500-1000 posts).\n---\n## References\n**JIRA Issue Key:** PHPBB-15479\n**Affects Versions:** 3.1.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-15479",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.11"
    ]
  },
  {
    "title": "Add the ability to auto-prune logged IPs etc.",
    "body": "At the moment IP of users, who wrote a posts or got an log-entry in the ACP a getting stored endless. \r\n\r\nWhich leads to >10 years old information to IPs. This is a little waste of space, because a too old IP won't help anyone.\r\n\r\nAt the other hand, this can lead to problems with eh privacy policy in some countries, e.g. Germany. \r\n\r\nSo an option in the ACP would be nice, which allows:\r\n- don't store IP adresses at all\r\n- store, but\r\n-- remove them never\r\n-- remove them after x years, months, weeks, days\n---\n## References\n**JIRA Issue Key:** PHPBB-15441\n**Affects Versions:** 3.1.11, 3.2.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15441",
    "jira_type": "Improvement",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.11",
      "3.2.1"
    ]
  },
  {
    "title": "On hold message when inbox is full",
    "body": "You are not authorised to read private messages that are on hold.\r\n\r\n \r\n\r\nFirst off there is a typo it's \"authorized\" so go and poke some fun at the person where that one slipped by!!\r\n\r\n \r\n\r\nOK but I am getting that message. I know it happens when the inbox gets full.. The actual bug is I have now changed the size of allowed messages from 100 to 1000 and yet the message persists. I have tried opening up some slots in my inbox. yet the problem is still there. The messages do not show in the inbox. they only appear in the notifications drop down. The only thing i could find reference to is the inbox being full. and mine was. So I am not 100% sure what the problem is at this point.\r\n\r\n \r\n\r\nJust a suggestion. a less cryptic message like \"Empty your inbox, it's full\" would be more informative for the user as well.\r\n\r\n \r\n\r\nI am the board founder as well.\r\n\r\n \r\n\r\nThanks again\r\n\r\nKevin\n---\n## References\n**JIRA Issue Key:** PHPBB-15386\n**Affects Versions:** 3.2.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15386",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "[PHP] core.memberlist_contactadmin",
    "body": "Identifer: core.memberlist_contactadmin\r\nLocation: /memberlist.php?mode=contactadmin\r\nParameters: event\r\nExplanation: we build an anti-spam plugin and we need to hook some data from this contact form to prevent spam\n---\n## References\n**JIRA Issue Key:** PHPBB-15268\n**Affects Versions:** 3.1.11-RC1, 3.2.0, 3.2.1-RC1\n",
    "type": "Task",
    "jira_key": "PHPBB-15268",
    "jira_type": "Task",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.11-RC1",
      "3.2.0",
      "3.2.1-RC1"
    ]
  },
  {
    "title": "Administrative permission 'Can manage extensions' missing after upgrade",
    "body": "For some, apparently very intermittent reason, after an upgrade, the Administrative permission 'Can manage extensions' is not available. The database query {code}SELECT * FROM `phpbb_acl_options` WHERE `auth_option` LIKE '%extension%';{code} returns no rows.\r\n\r\nThis seems to be a very intermittent problem, but has been reported on a number of upgraded boards. Examples are: https://www.phpbb.com/community/viewtopic.php?f=556&t=2419806; https://www.phpbb.com/community/viewtopic.php?f=556&t=2417926 and possibly https://www.phpbb.com/community/viewtopic.php?p=14702946#p14702946\n---\n## References\n**JIRA Issue Key:** PHPBB-15189\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15189",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Inconsistency: all_configured is not a subset of is_available",
    "body": "See https://area51.phpbb.com/phpBB/viewtopic.php?f=126&t=50876 for full description and discussion\n---\n## References\n**JIRA Issue Key:** PHPBB-15009\n**Affects Versions:** 3.1.10, 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15009",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.1.10",
      "3.2.0"
    ]
  },
  {
    "title": "Can not click/tap notification links landscape mode",
    "body": "If I have my iPhone turned to landscape mode I can not tap on notifications to be taken to that topic. If I have my phone in portrait mode I can tap them. \r\n\r\nTested on the phpbb.com website and can be replicated there.\r\n\r\nI would have changed the bug to minor but this tracker site does not work good at all on mobile.\n---\n## References\n**JIRA Issue Key:** PHPBB-15164\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15164",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Change the $phpbb_adm_relative_path is not supported by the installer",
    "body": "Hi,\r\n\r\nIn _config.php_,  If we change the value of *_$phpbb_adm_relative_path_* , the installation system is not able to load the template files.\r\n\r\nAs on line [119|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/install/startup.php#L119] in /install/startup.php, the admin_path will never be set, the admin_path will always be set with *_adm/_*\r\n\r\nTo fix that point, i suggest to add the following code before the line 119\r\n{code:php}\r\n$phpbb_config_php_file = new \\phpbb\\config_php_file($phpbb_root_path, $phpEx);\r\nextract($phpbb_config_php_file->get_all());\r\n{code}\r\n\r\nAfter adding this code, this will allow to load the template.\r\n\r\nBut the CSS fails to be loaded, because *_adm/_* is hardcoded in *_phpbb\\install\\controller\\helper.php_* on line [124|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/phpbb/install/controller/helper.php#L124]\r\n\r\nFor this point, I don't know how to fix it.\r\n\r\nThanks in advance for taking this bug into account.\r\nRegards.\r\n\r\n--- Edit ---\r\n\r\nAnother instance of *_adm/_* located on line [260|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/phpbb/install/installer.php#L260] in phpbb/installer/install.php\r\n\r\nMaybe *_adm/_* is present in other place.\n---\n## References\n**JIRA Issue Key:** PHPBB-15013\n**Affects Versions:** 3.2.1-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15013",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.1-RC1"
    ]
  },
  {
    "title": "Function submit_post",
    "body": "When using submit_post from a script it will insert post but sends wrong username, user_id and user_colour to topics- and forum table as last poster. \r\nExample: In ACP I import with a extension a post from Facebook. As username I use the name from the Facebook author and post under username anonymous. The post is added in post table without a problem but in topic and forum table it used my login name and user_id resulting in a wrong display at forumlevel.\r\n\r\nPossible solution in function submit_post:line 1809\r\n{CODE}\r\n   $sql_data[TOPICS_TABLE]['sql'] = array(\r\n    'topic_last_post_id'  => $data_ary['post_id'],\r\n    'topic_last_post_time'  => $current_time,\r\n    'topic_last_poster_id'  => $sql_data[POSTS_TABLE]['sql']['poster_id'],\r\n   // 'topic_last_poster_name' => ($user->data['user_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username'],\r\n    'topic_last_poster_name' => ($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username'],\r\n   // 'topic_last_poster_colour' => $user->data['user_colour'],\r\n    'topic_last_poster_colour' => ($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data['poster_colour'] : $user->data['user_colour'],\r\n    'topic_last_post_subject' => (string) $subject,\r\n   );\r\n{CODE}\r\n\r\nand line 1827\r\n{CODE}\r\n  if ($post_visibility == ITEM_APPROVED)\r\n  {\r\n   if ($post_mode == 'post')\r\n   {\r\n    $config->increment('num_topics', 1, false);\r\n   }\r\n   $config->increment('num_posts', 1, false);\r\n\r\n   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_post_id = ' . $data_ary['post_id'];\r\n   $sql_data[FORUMS_TABLE]['stat'][] = \"forum_last_post_subject = '\" . $db->sql_escape($subject) . \"'\";\r\n   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_post_time = ' . $current_time;\r\n  // $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_poster_id = ' . (int) $user->data['user_id'];\r\n   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_poster_id = ' . (int) $sql_data[POSTS_TABLE]['sql']['poster_id'];\r\n   \r\n  // $sql_data[FORUMS_TABLE]['stat'][] = \"forum_last_poster_name = '\" . $db->sql_escape((!$user->data['is_registered'] && $username) ? $username : (($user->data['user_id'] != ANONYMOUS) ? $user->data['username'] : '')) . \"'\";\r\n   $sql_data[FORUMS_TABLE]['stat'][] = \"forum_last_poster_name = '\" . (($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username']) . \"'\";\r\n   \r\n //  $sql_data[FORUMS_TABLE]['stat'][] = \"forum_last_poster_colour = '\" . $db->sql_escape($user->data['user_colour']) . \"'\";\r\n   $sql_data[FORUMS_TABLE]['stat'][] = \"forum_last_poster_colour = '\" . (($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data['poster_colour'] : $user->data['user_colour']) . \"'\";\r\n  }\r\n{CODE}\n---\n## References\n**JIRA Issue Key:** PHPBB-14866\n**Affects Versions:** 3.1.10, 3.1.9, 3.2.0-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-14866",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.1.9",
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Permission problem in the mcp",
    "body": "I believe there is the following inconsistency with moderator's permissions.\r\n\r\nSuppose moderators have a permissions to softdelete posts (m_softdelete), but not to delete posts (m_delete).\r\n\r\nThat means that they have access to delete button on each post in viewtopic, since in viewtopic.php the permission is checked this way:\r\n{code:java}\r\n\t$delete_allowed = $force_delete_allowed || ($user->data['is_registered'] && (\r\n\t\t($auth->acl_get('m_delete', $forum_id) || ($auth->acl_get('m_softdelete', $forum_id) && $row['post_visibility'] != ITEM_DELETED)) ||\r\n\t\t(!$s_cannot_delete && !$s_cannot_delete_lastpost && !$s_cannot_delete_time && !$s_cannot_delete_locked)\r\n\t));\r\n{code}\r\n\r\nMeanwhile, should they need to delete many posts instead, they go to the MCP (as they used to in 3.0.x). There they can see the topic with checkboxes on each post, but there is no option in the bottom selector for them to delete marked posts (only to merge/split topics, etc). This is because in mcp_topic permissions are checked differently and m_softdelete is ignored there:\r\n\r\n{code:java}\r\n\t\t'S_CAN_DELETE'\t\t=> ($auth->acl_get('m_delete', $topic_info['forum_id'])) ? true : false,\r\n{code}\r\n\r\nThis is inconsistent both with 3.0 behavior (with softdelete mod ofc) and with viewtopic behavior. Please consider fixing this and allowing moderators to mass soft delete messages from mcp.\n---\n## References\n**JIRA Issue Key:** PHPBB-14800\n**Affects Versions:** 3.1.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-14800",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "CLI updater not documentated in docs/INSTALL.html",
    "body": "Currently, the CLI updater is not documented at all in the included INSTALL.html, making the use of it very hard.\n---\n## References\n**JIRA Issue Key:** PHPBB-14779\n**Affects Versions:** 3.2.0-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-14779",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Error: \"The requested feed is not available.\" while feed settings are enabled",
    "body": "I have enabled feeds (top circle) and selected a News Feed (bottom circle):\r\n\r\n!http://i.imgur.com/axvTJwI.png!\r\n\r\nAnd yet I get this when browsing to /feed.php:\r\n\r\n!http://i.imgur.com/jdzAe2L.png!\r\n\r\nStrangely enough, the feed will only work if I enable this option:\r\n\r\n!http://i.imgur.com/jGy5WT7.png!\r\n\r\nExtensions: \r\n* Advanced BBCode Box\r\n* Auto Database Backup\r\n* gn36 - Customize first post edit permissions\r\n* mChat Extension\r\n* Pages\r\n* Permission: Read other users' topics\r\n* Posting Template\r\n* Sortables Captcha\r\n\r\nHappens on two environments - a XAMPP localhost server and a remote web server.\r\n\r\nOn a side note, since https://wiki.phpbb.com/Practical.Displaying_posts_and_topics_on_external_pages is convoluted, outdated, and meant only for phpBB experts, the community will rely more on external Feed RSS widgets and such that require these Feed part of phpBB to work well.\n---\n## References\n**JIRA Issue Key:** PHPBB-14768\n**Affects Versions:** 3.1.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-14768",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "phpBB 3.1.7pl1 to 3.1.8 migration issue (MSSQL)",
    "body": "Hello,\r\n\r\nI had an issue with the migration happening at the increase_size_of_dateformat.php level.\r\n\r\nThis migration step was triggering the following SQL query:\r\n\r\nALTER TABLE [dbo].[phpbb3_users] ADD CONSTRAINT [DF_phpbb3_users_user_dateformat_1] DEFAULT (\"d M Y H:i\") FOR [user_dateformat]\r\n\r\nMSSQL is complaining about the \" before d M Y H:i, as it should really be a '.\r\nIs this probably happening only with MSSQL and not with MySQL?\r\n\r\nI had to work around it by doing this step manually (executing the query manually myself with the correct sintax) instead of going though increase_size_of_dateformat.php.\r\n\r\nNow I have the forum working and up to date with the latest version, but I had to spend some time investigating this :).\r\n\r\nAny thoughts about this?\n---\n## References\n**JIRA Issue Key:** PHPBB-14504\n",
    "type": "Bug",
    "jira_key": "PHPBB-14504",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Adding a new attachment extensions group in the ACP can cause SQLServer integer overflow",
    "body": "In certain circumstances when SQLServer is the database, if a new attachment group is added, the result can cause a database integer overflow error trying to store the integer to the database. See attachment. I developed a workaround which is not portable which involves using the SQL CAST statement, similar to issue PHPBB3-14209 for /phpbb/db/driver/driver.php. I modified these lines starting at line 687:\r\n\r\n\r\n{code:java}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Patch by Mark D. Hamill, phpbbservices.com, as a workaround for SQLServer\r\n\t\t\t//return (is_bool($var)) ? intval($var) : $var;\r\n\t\t\treturn (is_bool($var) || is_numeric($var)) ? 'CAST (' . (int) $var . ' AS bigint)' : $var;\r\n\t\t}\r\n{code}\r\n\r\nIn addition, a similar error can occur if the manage attachments link is clicked on in the ACP and SQLServer is the database. I was able to patch it with this code in /includes/acp/acp_attachments.php around line 1273:\r\n\r\n{code:java}\r\n\t\t// Patch by Mark D. Hamill, phpbbservices.com, as a workaround for SQLServer\r\n\t\t//$sql = 'SELECT COUNT(a.attach_id) AS num_files, SUM(a.filesize) AS upload_dir_size\r\n\t\t$sql = 'SELECT COUNT(CAST(a.attach_id AS bigint)) AS num_files, SUM(CAST (a.filesize AS bigint)) AS upload_dir_size\r\n\t\t\tFROM ' . ATTACHMENTS_TABLE . \" a\r\n\t\t\tWHERE a.is_orphan = 0\r\n\t\t\t\t$limit\";\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-14245\n**Affects Versions:** 3.1.6\n",
    "type": "Bug",
    "jira_key": "PHPBB-14245",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "cast_expr_to_bigint does not work with large values and SQLServer",
    "body": "When SQLServer is the database updates to the phpbb_config table for \"upload_dir_size\" can fail, it appears if the value being added to config_value exceeds some value, likely 2^16. The only solution seems to be to use a CAST as a bigint. See the attachment for an example. It appears that the problem is occurring because an explicit SQL CAST function needs to be implemented for SQLServer in the DBAL. Please see the topic where the problem is described in more detail and some patch code I added to db.php for my client to temporarily get around the problem.\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=466&t=2338041]\n---\n## References\n**JIRA Issue Key:** PHPBB-14209\n**Affects Versions:** 3.1.6\n",
    "type": "Bug",
    "jira_key": "PHPBB-14209",
    "jira_type": "Bug",
    "priority": "Major",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "Not working lang vars in acp_ext_list.html",
    "body": "At the moment is usses the lang vars like:\r\n<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP1 }}</li>\r\n<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP2 }}</li>\r\n<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP3 }}</li>\r\nwhich does not lead to any output to the user in the ACP.\n---\n## References\n**JIRA Issue Key:** PHPBB-17582\n",
    "type": "Bug",
    "jira_key": "PHPBB-17582",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "Mass user deletion - add database indexes for improved performance",
    "body": "On very large boards with hundreds of thousands of users or more, pruning inactive users is very difficult, because the user_delete function scans tables via columns that are not used for enumerating data, e.g. message_edit_user in PRIVMSGS_TABLE, and hence have no indexes.\r\n\r\nAdding table indexes for the following columns helps avoid full table scans and speeds up mass user deletion by an order of magnitude:\r\n\r\npost_edit_user in POSTS_TABLE\r\nmessage_edit_user in PRIVMSGS_TABLE\r\nuser_id in REPORTS_TABLE\r\nuser_id in SESSIONS_KEYS_TABLE\r\n\r\nThis prevents excessive table locking during user pruning, which slows down a board noticeably, regardless of whether it is done manually or by cron. Without these indexes, pruning a few thousand users on a board with more than a million users took several hours. With these indexes, a few minutes at most.\n---\n## References\n**JIRA Issue Key:** PHPBB-17579\n**Affects Versions:** 3.0.14, 3.1.12, 3.2.11, 3.3.15, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17579",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.0.14",
      "3.1.12",
      "3.2.11",
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Set From and Reply-To e-mail addresses separately",
    "body": "It is common to send out automated mail with a From address that does not have an inbox that is checked by a human. To make this clear, such addresses are often of the form \"noreply@example.org\".\r\n\r\nHowever, spam filters punish when a mail contains \"noreply\" in the Reply-To header (we have even seen bounces caused by this). Please allow setting different addresses for these headers, because they have distinct purposes, or allow disabling the Reply-To header entirely.\n---\n## References\n**JIRA Issue Key:** PHPBB-17576\n**Affects Versions:** 3.0.14, 3.1.12, 3.2.11, 3.3.15, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17576",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.0.14",
      "3.1.12",
      "3.2.11",
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Web Manifest scope path is likely invalid",
    "body": "The web manifest's scope and start_url parameters are not really correct.\r\n\r\nThe scope should be a path starting from the site's root up to the forum's root. So example site urls and scope paths should look like:\r\n{code}\r\nurl: http://myforum.com/index.php\r\nscope: /\r\n{code}\r\n----\r\n{code}\r\nurl: http://mysite.com/community/index.php\r\nscope: /community/\r\n{code}\r\n \r\nCurrently our scope's are looking like relative paths like ./../ which is not correct and is based on the location of the manifest controller (and also affected by app.php) rather than just a set in stone value - essentially what the script_path value is or would be if the user filled out that field in the ACP.\n---\n## References\n**JIRA Issue Key:** PHPBB-17575\n**Affects Versions:** 4.0.0-a1, 4.0.0-a2, 4.0.0-b1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17575",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1",
      "4.0.0-a2",
      "4.0.0-b1"
    ]
  },
  {
    "title": "pm inline attachment not showing",
    "body": "with latest GitHub files when viewing a pm with a attachment and placing it inline the image does not show or zip file wont download comes up with a error however both work correctly on viewtopic\n---\n## References\n**JIRA Issue Key:** PHPBB-17571\n**Affects Versions:** 4.0.0-a2\n",
    "type": "Bug",
    "jira_key": "PHPBB-17571",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a2"
    ]
  },
  {
    "title": "meta apple-mobile-web-app-capable depreciated",
    "body": "<meta name=\"apple-mobile-web-app-capable\" content=\"yes\"> is deprecated. Please include <meta name=\"mobile-web-app-capable\" content=\"yes\">\r\n\r\nadd <meta name=\"mobile-web-app-capable\" content=\"yes\"> to overall_header.html\n---\n## References\n**JIRA Issue Key:** PHPBB-17572\n**Affects Versions:** 4.0.0-a2\n",
    "type": "Feature",
    "jira_key": "PHPBB-17572",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a2"
    ]
  },
  {
    "title": "Replace an old CSS accessibility hack with a modern, recommended and W3C compliant method",
    "body": "The *<dfn>* used in definition lists (.topiclist) is not used for a true semantic definition, but to provide a useful text label (\"Answers\", \"Views\", etc.) for screen readers.\r\n\r\nThe text is removed from the screen, while keeping it present in the code and accessible using this old accessibility hack in content.css:\r\n{code:css}ul.topiclist dfn {\r\n\t/* Labels for post/view counts */\r\n\tposition: absolute;\r\n\tleft: -999px;\r\n\twidth: 990px;\r\n}\r\n{code}\r\nSuggestions:\r\n * *Simplest solution:* declare the accessibility method directly on the element by replacing:\r\n{code:css}ul.topiclist dfn {\r\n\t/* Labels for post/view counts */\r\n\tposition: absolute;\r\n\tleft: -999px;\r\n\twidth: 990px;\r\n}\r\n{code}\r\nwith:\r\n{code:css}ul.topiclist dfn {\r\n\tborder: 0;\r\n\tposition: absolute;\r\n\toverflow: hidden;\r\n\tclip: rect(0, 0, 0, 0);\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\tmargin: -1px;\r\n\tpadding: 0;\r\n}\r\n{code}\r\nAnd remove in bidi.css:\r\n{code:css}\r\n.rtl ul.topiclist dfn {\r\n\tleft: auto;\r\n\tright: -999px;\r\n}\r\n{code}\r\n\r\n * Or add the class 'sr-only' to all relevant <dfn> elements (15 in 7 different files).\r\n * Or add an aria-label attribute to all parents of these <dfn> elements.\n---\n## References\n**JIRA Issue Key:** PHPBB-17570\n**Affects Versions:** 3.3.15, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17570",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Responsive bug in footer navbar",
    "body": "The right-hand links and the responsive dropdown are hidden between >=701px and <= 750px in the footer navbar.\n---\n## References\n**JIRA Issue Key:** PHPBB-17569\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17569",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Page width exceeds the screen width in responsive mode",
    "body": "Reported by another user. Page width exceeds the screen width on mobile device (screenshot attached).\r\n\r\nDevice: Honor 9X.\r\n\r\nDisplay resolution: 2340x1080.\r\n\r\nbrowser: Chrome (for Android) v.141.0.7390.70\n---\n## References\n**JIRA Issue Key:** PHPBB-17567\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17567",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Small edit on attachments",
    "body": "On the AdminCP, avatar settings upload size name its got bytes. but when you go to user control panel its got KiB name for upload size.\n---\n## References\n**JIRA Issue Key:** PHPBB-17568\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17568",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Add default avatars based on username",
    "body": "Instead of other proposed implementations, we should generate avatars based on the username where possible.\n---\n## References\n**JIRA Issue Key:** PHPBB-17566\n",
    "type": "Feature",
    "jira_key": "PHPBB-17566",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "Incorrect exporting PM as CSV for Excel",
    "body": "Excel requires BOM mark to correctly open UTF-8 encoded CSV files.\r\n\r\n[https://support.microsoft.com/en-us/office/opening-csv-utf-8-files-correctly-in-excel-8a935af5-3416-4edd-ba7e-3dfd2bc4a032]\r\n\r\n \r\n\r\nOtherwise it displays non-ASCII characters incorrectly, f.e.\r\n{noformat}\r\nRe: 111,111,2025-10-07T11:14:09+07:00,,РџСЂРѕРІРµСЂСЏРµРј СЂСѓСЃСЃРєРёР№ СЏР·С‹Рє РїСЂРё СЌРєСЃРїРѕСЂС‚Рµ.,{noformat}\n---\n## References\n**JIRA Issue Key:** PHPBB-17565\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17565",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "The base.css file contains a font-size declaration that is overridden in the common.css file.",
    "body": "Hello,\r\n\r\nThe *base.css* file declares a base font size of 16px:\r\n{code:css}:root {\r\n\t/* Base font size */\r\n\t--ps-font-base: 16px;\t\t\t\t\t\t\t\t/* [1] */\r\n\t--ps-line-height: 1.5rem;\t\t\t\t\t\t\t/* [2] */\r\n\r\n\t/* Headings */\r\n\t--ps-font-h1: 1.5rem;\t\t\t\t\t\t\t\t/* 24px */\r\n\t--ps-font-h2: 1.5rem;\t\t\t\t\t\t\t\t/* 24px */\r\n\t--ps-font-h3: 1.25rem;\t\t\t\t\t\t\t\t/* 20px */\r\n\t--ps-font-h4: 1.125rem;\t\t\t\t\t\t\t\t/* 18px */\r\n\r\n\t/* Text and Paragraphs */\r\n\t--ps-font-normal: 1rem;\t\t\t\t\t\t\t\t/* 16px */\r\n\t--ps-font-small: 0.875rem;\t\t\t\t\t\t\t/* 14px */\r\n\t--ps-font-tiny: 0.75rem;\t\t\t\t\t\t\t/* 12px */\r\n}\r\n{code}\r\nThe *common.css* file, loaded after the previous one, overrides this declaration:\r\n{code:css}html {\r\n\tfont-size: 100%;\r\n\r\n\t/* Always show a scrollbar for short pages - stops the jump when the scrollbar appears. non-IE browsers */\r\n\theight: 101%;\r\n}\r\n{code}\r\nThe 100% value on the root element takes the default size of the user agent (usually 16px, unless configured differently). Consequently, the final size applied will be that provided by the agent (100%) and not the value declared in {*}base.css{*}. The rem units will be calculated from this final size.\r\n\r\nReproduction of the bug:\r\ndeclare a different value on *--ps-font-base* => no change in font size or derived values is applied.\r\n\r\nSuggestion:\r\nRemove the font-size declaration in common.css\n---\n## References\n**JIRA Issue Key:** PHPBB-17562\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17562",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "file upload name check fails on some ios files",
    "body": "Some iOS files contain invalid characters because the file name, for some reason is a date.\r\n\r\nphpBB rejects these from being uploaded as invalid file names. Looks like there's code that checks for this here:\r\n\r\n[https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/files/upload.php#L266]\r\n\r\nHowever, this code is irrelevant because file names pass through clean_filename('unique') which means that it will be cleaned up anyway, so if you remove this code, nothing actually breaks and uploads with invalid file names works as expected.\n---\n## References\n**JIRA Issue Key:** PHPBB-17499\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17499",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Convert all keyword and author search queries of phpbb\\search into built queries",
    "body": "This will also make adding new events an easier task.\n---\n## References\n**JIRA Issue Key:** PHPBB-13673\n**Affects Versions:** 3.1.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-13673",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.3"
    ]
  },
  {
    "title": "Attachments: seperate maximum file size for images.",
    "body": "Images get downsized at client side when the maximum dimensions for images are set, but the maximum filesize (applies to all attachments) gets checked to the original size of the images. Because the images get downsized, the original size is less important to check on. For example you want to allow non-image attachments up to 1M but images to 10M (they get downsized at the client side)  Why 10M? Many people try to upload directly from their camara.\n---\n## References\n**JIRA Issue Key:** PHPBB-13482\n**Affects Versions:** 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13482",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "User account setting defaults should be editable in the ACP",
    "body": "In many cases, the board admin wishes to change some sort of default setting of his new users accounts. For example, he might wish to disable the default to notify the user upon replies or change the default post order for newly registered users. Currently, this can only be realized using an extension, which in my opinion is a total overkill. \r\n\r\nInstead of defining defaults somewhere in the PHP code, the anonymous user (or potentially an additional special user for more flexibility) should be copied for each new user to determine what default values are used. This also ensures that the newly registered users receives the same default settings as he saw when browsing the board as a guest, while giving the administrator full control of the default values for a user.\n---\n## References\n**JIRA Issue Key:** PHPBB-13452\n**Affects Versions:** 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13452",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "Problem with PM inbox full workflow",
    "body": "When a user receives an email notification about having a new PM they can click on the PM link in the email to purportedly read the message.  This presents a problem when that user's inbox is full as the messages are held until the user frees up some space and then releases the on-hold message(s).  This process is not clear in those cases because the user is merely presented with a message that says: _You are not authorised to read private messages that are on hold._\r\n\r\nThis also marks the message as read even though it really hasn't been read.\r\n\r\nA way to make it clear on how the user can actually read their message should be provided.  Even a link to take the user to the Inbox for further details might be enough.\n---\n## References\n**JIRA Issue Key:** PHPBB-13355\n**Affects Versions:** 3.1.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-13355",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.1"
    ]
  },
  {
    "title": "Denied/Removed group joining requests not recorded",
    "body": "When a user requests to join an open group the following is added to the user's notes:\r\n*User joined group and needs to be approved*\r\n» Jr. Extension Validators\r\n\r\nThis is fine as it is but there is no note added when the request is denied, i.e. the group leader removes the request.  A follow-up note should be added when either the user is approved or denied, something along the lines of:\r\n*User added to group*\r\n» Jr. Extension Validators\r\n\r\n*User removed from group*\r\n» Jr. Extension Validators\r\n\r\nThe action would obviously have the correct user ID of the user that took the action.\n---\n## References\n**JIRA Issue Key:** PHPBB-13379\n**Affects Versions:** 3.1.1, 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13379",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.1",
      "3.1.2"
    ]
  },
  {
    "title": "When not installed, Sphinx displays succesful search index",
    "body": "I do not have the Sphinx search engine installed. For testing purposes, I intentionally selected Sphinx Fulltext as the active search backend (General --> Search Settings).\r\n\r\nI then selected Create Index. Sphinx completed index creation in less than 1 second with the following result:\r\n\r\nNumber of posts in main index: \t0\r\nNumber of posts in frequently updated delta index: \t2076719\r\nTotal number of indexed posts: \t2076719\r\n\r\nThe total post count is correct.\r\n\r\nI performed a search using the /search.php search engine, which then displayed with the following error:\r\n\r\nSearch failed: connection to localhost:9312 failed (errno=101, msg=Network is unreachable)\r\n\r\nThe issue is that a site administrator should be presented with an error message inside the ACP. The correct active index can then be selected and the user will not see this error.\n---\n## References\n**JIRA Issue Key:** PHPBB-13394\n**Affects Versions:** 3.1.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-13394",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "Add docker dev script to the phpBB repo",
    "body": "Add a development docker script to the phpBB repo.\n---\n## References\n**JIRA Issue Key:** PHPBB-17551\n",
    "type": "Feature",
    "jira_key": "PHPBB-17551",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "nginx sample config (nginx.sample.conf) improvements and updates",
    "body": "The in phpBB 3.3.15 at docs/nginx.sample.conf shipped nginx config files could receive some minor improvements / updates:\r\n\r\nh3. Suggestion 1\r\n\r\nThere is a comment:\r\n\r\n{code}\r\n# phpBB uses index.htm\r\n{code}\r\n\r\nbut phpBB is actually using index.php or am i'm wrong?\r\n\r\nh3. Suggestion 2\r\n\r\nThen:\r\n\r\n{code}\r\nlocation ~ /(config|\r\n{code}\r\n\r\ncould be:\r\n\r\n{code}\r\nlocation ~ ^/(config|\r\n{code}\r\n\r\nto make the pattern more strict.\r\n\r\nh3. Suggestion 3\r\n\r\nFurthermore the same block got changed in the scope of PHPBB-16890 from:\r\n\r\n{code}\r\nlocation ~ /(config\\.php|\r\n{code}\r\n\r\nto:\r\n\r\n{code}\r\nlocation ~ /(config|\r\n{code}\r\n\r\nbut wouldn't it make sense to use the following instead (only deny access to config.php and config folder) to not \"overblock\" too much:\r\n\r\n{code}\r\nlocation ~ /(config(\\.php|/)|\r\n{code}\r\n\r\nh3. Suggestion 4\r\n\r\nFinally the two\r\n\r\n{code}\r\nlocation @rewriteapp {\r\n...\r\nlocation @rewrite_installapp {\r\n{code}\r\n\r\nare using:\r\n\r\n{code}\r\n^(.*)$\r\n{code}\r\n\r\n(zero or more times match) which could use:\r\n\r\n{code}\r\n^(.+)$\r\n{code}\r\n\r\n(one or more times match) as otherwise an empty string could be evaluated as well.\n---\n## References\n**JIRA Issue Key:** PHPBB-17500\n**Affects Versions:** 3.3.15\n",
    "type": "Feature",
    "jira_key": "PHPBB-17500",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Use no-store in Cache-Control instead of no-cache",
    "body": "If you go to unread post and click the back button it's still marked as unread. no-store will force browser to refresh page correctly marking it as read assuming it's not multi page topic with unread posts.\n---\n## References\n**JIRA Issue Key:** PHPBB-17409\n",
    "type": "Bug",
    "jira_key": "PHPBB-17409",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Efficiency of Guest Sessions Needs Improvement",
    "body": "Guest sessions can have a significant impact on performance caused by scraper bots. Even with legitimate bots if they have not been added to bots list they can cause issues.\n---\n## References\n**JIRA Issue Key:** PHPBB-17484\n**Affects Versions:** 3.3.14\n",
    "type": "Feature",
    "jira_key": "PHPBB-17484",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Rewrite gen_sort_selects() function to allow styling",
    "body": "Styling of the _select_ tags for sorting topics is not possible without changing *functions_content.php*.\r\n\r\nThe evil seems to lie within the function *gen_sort_selects()*, where an array containing the HTML tags is returned. I would like to create a dropdown menu with a button, so the _select_ tag would have to go, but for that I need to edit a file that I shouldn't have to edit for a template.\r\n\r\nI think something like a loop would be much better for styling purposes. I would do it myself, but unfortunately my PHP knowledge isn't good enough.\n---\n## References\n**JIRA Issue Key:** PHPBB-13224\n**Affects Versions:** 3.1.0-RC6\n",
    "type": "Feature",
    "jira_key": "PHPBB-13224",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.0-RC6"
    ]
  },
  {
    "title": "Change UCP display option selects from being hardcoded",
    "body": "The various select options present in the Edit display options page of the UCP is hardcoded, with the template variable creating the full select option.\r\n\r\nThis is rather problematic for people who wish to completely re-style their phpBB forum. Currently styling the select fields means altering a core file; there are no classes present so you are unable to use a pre-defined css class name either.\r\n\r\nMuch like the rest of the software (user profile group select springs to mind!) the options of the select should be sent to the template to allow for full stylistic control.\r\n\r\nAffected Template: ucp_prefs_view\r\n\r\nAffected Script: includes/ucp/ucp_prefs.php (lines 343 to 370ish)\n---\n## References\n**JIRA Issue Key:** PHPBB-16846\n**Affects Versions:** 3.3.4, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16846",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Feed Topic Link Problem",
    "body": "Hi,\r\nFor a while now, I've been doing research and works on why Google indexes topics with the p parameter. I think I found the culprit-maybe,i'm not sure. In all feeds, including New Topics, the p parameter is used instead of the topic parameter t for a topic. I think it does this for the first post. I think the t parameter should be used. At least that should be the case for topics.\n---\n## References\n**JIRA Issue Key:** PHPBB-17526\n**Affects Versions:** 3.3.15, 3.3.16-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17526",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15",
      "3.3.16-RC1"
    ]
  },
  {
    "title": "Support for utf8mb4 encoding",
    "body": "Add support for utf8mb4 encoding to make possible use (direct storing) of the unicode characters outside of the Basic multilingual plane range (such as Emoji).\r\n\r\n \r\n\r\nJust for the info, some BB utf8mb4 use stats (which I could get):\r\n\r\nInvision Community - utf8mb4\r\nXenForo - utf8mb4\r\nFlarum - utf8mb4\r\nVanilla Forums - utf8mb4\r\nvBulletin - utf8 (default), utf8mb4 (supported)\r\n\r\nmyBB - utf8 (default), utf8mb4 (supported)\r\nSimple Machines - utf8\r\nPunBB - utf8\r\nphpBB - utf8\n---\n## References\n**JIRA Issue Key:** PHPBB-16137\n**Affects Versions:** 3.3, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16137",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Add dispatcher instance to the Symfony Mailer transport",
    "body": "Adding dispatcher instance to the Symfony Mailer transport should allow using built-in Mailer events for different purposes (f.e. extensions and tests).\n---\n## References\n**JIRA Issue Key:** PHPBB-17521\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17521",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Notify users when a friend posts new content",
    "body": "Adding a user as a friend doesn't actually do anything practical. I propose adding a new notification for when a friend of a user posts new content. The user should be notified (with the standard choices of notification, email etc...) about the new content so they can view it.\r\n\r\nThis would add a little bit of extra functionality into the friend or foe feature and essentially turn the friend option into a user subscribe feature (like a follower on social media).\n---\n## References\n**JIRA Issue Key:** PHPBB-17518\n**Affects Versions:** 3.3.15\n",
    "type": "Feature",
    "jira_key": "PHPBB-17518",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "nginx sample config for phpBB installation in subfolder",
    "body": "The shipped nginx.sample.conf of phpBB is great but won' work out of the box for the quite common use-case to run phpBB in a sub-folder like e.g. /forum/ side by side with other software like e.g. a blog at /blog/.\r\n\r\n \r\n\r\nIt would be great if phpBB could ship such a sample config for a subfolder as well. Maybe the following one could be used as an inspiration:\r\n\r\n \r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?p=15235601#p15235601\n---\n## References\n**JIRA Issue Key:** PHPBB-16312\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16312",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Extensions requirements have changed for composer.json",
    "body": "Unexpected behavior\r\n\r\nLicense, authors are required, if not included in the composer.json the extension is skipped.\r\n\r\nI expected that this would work\r\n{\r\n    \"name\": \"thecanyons/homecontent\",\r\n    \"type\": \"phpbb-extension\",\r\n    \"description\": \"Strict minimal phpBB 3.3.15 compatible extension\",\r\n    \"version\": \"1.0.0\",\r\n    \"extra\": {\r\n        \"display-name\": \"Home Content Official Minimal\",\r\n        \"soft-require\": {\r\n            \"phpbb/phpbb\": \">=3.3.0\"\r\n        }\r\n    }\r\n}\r\n\r\nThis works, so there must be some requirements for the extension that are now with composer 2.5+\r\n\r\nDocumentation needs to be updated.\n---\n## References\n**JIRA Issue Key:** PHPBB-17497\n**Affects Versions:** 3.3.15\n",
    "type": "Bug",
    "jira_key": "PHPBB-17497",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.15"
    ]
  },
  {
    "title": "Switch from WHOIS to RDAP",
    "body": "ICANN is officially moving to RDAP over WHOIS: [https://www.icann.org/en/announcements/details/icann-update-launching-rdap-sunsetting-whois-27-01-2025-en]\r\n\r\nThis is a RESTful implementation, which will be much better than parsing text like we do now for things like referral links. Also, it looks like RDAP endpoints tend to fully resolve the chain for you.\r\n\r\nICANN has a lookup service but don't advertise the endpoint itself. We can continue to use ARIN's: {{https://rdap.arin.net/registry/ip/<ip>}} (ex. [https://rdap.arin.net/registry/ip/8.8.8.8])\r\n\r\nA {{GET}} request with an {{Accept}} header of {{application/json}} will get back a JSON response.\n---\n## References\n**JIRA Issue Key:** PHPBB-17483\n",
    "type": "Feature",
    "jira_key": "PHPBB-17483",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Sphinx: Update shipped includes/sphinxapi.php",
    "body": "Hi,\r\n\r\nthe current version of the includes/sphinxapi.php is dating to 2012:\r\n\r\nhttps://github.com/phpbb/phpbb/blob/master/phpBB/includes/sphinxapi.php#L4\r\n\r\nPlease consider updating this file to a recent one to benefit from possible bugfixes and improvements.\n---\n## References\n**JIRA Issue Key:** PHPBB-14399\n**Affects Versions:** 3.1.6\n",
    "type": "Feature",
    "jira_key": "PHPBB-14399",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "Explain in ACP Attachment settings images get resized (at client-side)",
    "body": "In ACP > Attachment settings there is the setting maximum image size. It's not really explained here that images get resized client side before upload when trying to upload an image with exceding dimensions. (People are requesting an extension for resizing image attachments. https://www.phpbb.com/community/viewtopic.php?f=496&t=2275566)\n---\n## References\n**JIRA Issue Key:** PHPBB-13481\n**Affects Versions:** 3.1.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-13481",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.2"
    ]
  },
  {
    "title": "Display NO_TOPICS_TIME_FRAME in viewforum",
    "body": "Inside topics (viewtopic.php), an user can define a time frame (ex: if the option \"7 days\" is selected, only the posts published within the last 7 days are displayed). If there is no recent post, the board returns that message:\r\n{code:java}No posts exist inside this topic for the selected time frame.\r\n{code}\r\nInside topics lists (viewforum.php), an user can also define a time frame. If there is no recent topic/reply, the board returns *either* only the announcements (regardless when these and their last replies have been published) *or* that message:\r\n{code:java}There are no topics or posts in this forum.\r\n{code}\r\nThe board should include the announcements in the time frame (display these only if they have recent posts, just like in the search results with a time frame) and return that other message if there is no recent announcement/post and reply:\r\n{code:java}No topics exist inside this forum for the selected time frame\r\n{code}\r\nThat language string exists in common.php (NO_TOPICS_TIME_FRAME) but it isn't used.\r\n\r\nTo display NO_TOPICS_TIME_FRAME, it isn't needed to edit viewforum.php. Using that code in viewforum_body.html, at the end of topicrow loop, is enough (the S_SORT_DAYS template variable is defined in viewforum.php):\r\n{code:java}<!-- BEGINELSE --> <!-- IF S_IS_POSTABLE --> <div class=\"panel\"> <div class=\"inner\"> <strong><!-- IF S_SORT_DAYS -->{L_NO_TOPICS_TIME_FRAME}<!-- ELSE -->{L_NO_TOPICS}<!-- ENDIF --></strong> </div> </div> <!-- ELSE IF not S_HAS_SUBFORUM --> <div class=\"panel\"> <div class=\"inner\"> <strong>{L_NO_FORUMS_IN_CATEGORY}</strong> </div> </div> <!-- ENDIF --><!-- END topicrow -->{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-16436\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Task",
    "jira_key": "PHPBB-16436",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Add support for encrypted DBAL connections",
    "body": "DBAL should have an option to connect to a database using encrypted connections.\r\nFor the reference:\r\nhttps://www.phpbb.com/community/viewtopic.php?t=2408816\r\nhttps://www.phpbb.com/community/viewtopic.php?t=2660692\r\nhttps://www.doctrine-project.org/projects/doctrine-dbal/en/4.2/reference/configuration.html#connection-details\n---\n## References\n**JIRA Issue Key:** PHPBB-17476\n**Affects Versions:** 3.3.14, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17476",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Errors on search results page (Char 0xFFFE out of allowed range in Entity)",
    "body": "When a user includes the [U+FFFE character|https://unicode-table.com/en/FFFE/] or [U+FFFF character|https://unicode-table.com/en/FFFF/] in a post, forum search displays a bunch of errors at the top of the page when this post is in the search results. \r\n\r\nThe first error is:\r\n{quote}[phpBB Debug] PHP Warning: in file [ROOT]/vendor/s9e/text-formatter/src/Utils.php on line 161: DOMDocument::loadXML(): Char 0xFFFE out of allowed range in Entity, line: ...\r\n{quote}\r\nApparently users can enter these characters, but forum search cannot properly handle this.\r\n\r\nIt seems like an unsolved problem that has been around for a long time. See also [my forum post|https://www.phpbb.com/community/viewtopic.php?p=15924456#p15924456]. Doing a google search on \"Char 0xFFFE out of allowed range in Entity\" (include quotes) finds more forums with this issue.\n---\n## References\n**JIRA Issue Key:** PHPBB-17099\n**Affects Versions:** 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17099",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Demo Board has no SSL Cert",
    "body": "I realize this is  non issue since the username/password is known and available right in header but someone less knowledgeable may not understand that browser warning is non issue.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1438\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1438",
    "jira_type": "Security Issue",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Original time of last post when bump topic",
    "body": "The original time of last post should not be updated when bump topic\n---\n## References\n**JIRA Issue Key:** PHPBB-17345\n**Affects Versions:** 3.3.11, 3.3.12\n",
    "type": "Feature",
    "jira_key": "PHPBB-17345",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.11",
      "3.3.12"
    ]
  },
  {
    "title": "Errant Posting Pane When Loading Drafts and Some Other Issues",
    "body": "# If you load a draft from posting pane on the next page sandwiched between the draft selection and the review panel is a posting pane with no buttons to submit, preview or save as draft. \r\n # Editing and saving existing draft in posting pane creates another draft.\r\n # In UCP under manage drafts you can open the draft using basic editor in UCP. This does not create new draft when saved but it's redundant to the full posting pane.\r\n\r\nIn regards to 2 and 3 suggest removing the basic editor in favor of the full editor, edits to existing drafts regardless of where they are loaded from should not create new draft.\n---\n## References\n**JIRA Issue Key:** PHPBB-17473\n**Affects Versions:** 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17473",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "[phpBB debug] PHP Warning on KB Manage Your Articles",
    "body": "The page [https://www.phpbb.com/support/docs/en/3.3/kb/manage/] is throwing the following:\r\n{noformat}\r\n[phpBB Debug] PHP Warning: in file /var/www/www.phpbb.com/website-current/old/support/docs/kb/index.php on line 98: Use of undefined constant KB_READ_ONLY - assumed 'KB_READ_ONLY' (this will throw an Error in a future version of PHP){noformat}\n---\n## References\n**JIRA Issue Key:** WEBSITE-1437\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1437",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Admins should be able to disable email notifications for a member via ACP",
    "body": "Per [https://www.phpbb.com/community/viewtopic.php?t=2660029] when administrators notice repeated email bounce or undelivered email notices they should have the ability to administer the user and disable email notifications for the member. \r\n\r\nThe search [https://www.phpbb.com/search/?q=notification+emails+disable] shows this issue comes up repeatedly without a good and simple solution\n---\n## References\n**JIRA Issue Key:** PHPBB-17466\n**Affects Versions:** 3.3.14\n",
    "type": "Feature",
    "jira_key": "PHPBB-17466",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Log captcha attempts in the ACP",
    "body": "Ticket to follow-up this idea: [https://www.phpbb.com/community/viewtopic.php?f=436&t=2649826]\r\n\r\nAdd the ability for admins to log captcha attempts (whether successful or not) in the Admin Control Panel next to the other four log types (admin, mod, user and error logs). Each logged attempt should save the following information (similar to existing logs):\r\n * Username (or anonymous)\r\n * IP address\r\n * Date & time\r\n * The question presented with captcha type (qa or gdimg etc)\r\n * The answer given by the user\r\n\r\nWhatever the implementation, events should be present to allow extension developers to extend beyond this functionality to allow for various automations or filtering and such.\n---\n## References\n**JIRA Issue Key:** PHPBB-17349\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17349",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Predefined searches should have tooltips to explain them",
    "body": "The User Guide, specifically [Predefined searches|https://www.phpbb.com/support/docs/en/3.3/ug/userguide/user_search_predefined/] provides helpful information about the Quick links menu items.\r\n\r\nUnfortunately the Quick links themselves provide no additional tooltips to explain them and therefore the differences between them. \r\n\r\nParticularly for newcomers to phpBB the user experience would be improved if there were tooltips for each of the Quick links entries.\n---\n## References\n**JIRA Issue Key:** PHPBB-17458\n**Affects Versions:** 3.3.14\n",
    "type": "Feature",
    "jira_key": "PHPBB-17458",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Automatically set the secure cookie option based on connection type rather than require ACP setting",
    "body": "This seems to be one of the confusing parts of ACP->Cookie settings and requires a KB article [phpBB • Knowledge Base > Fixing incorrect cookie settings|https://www.phpbb.com/support/docs/en/3.3/kb/article/fixing-incorrect-cookie-settings/]. \r\n\r\nAccording to [PHP: setcookie - Manual|https://www.php.net/manual/en/function.setcookie.php]\r\n{quote}secure\r\n\r\nIndicates that the cookie should only be transmitted over a secure HTTPS connection from the client. When set to {*}{{[true|https://www.php.net/manual/en/reserved.constants.php#constant.true]}}{*}, the cookie will only be set if a secure connection exists. On the server-side, it's on the programmer to send this kind of cookie only on secure connection (e.g. with respect to [$_SERVER[\"HTTPS\"]|https://www.php.net/manual/en/reserved.variables.server.php]).\r\n{quote}\r\nIf the PHP documentation says it's on the programmer why does phpBB not automatically choose and therefore remove the configurable option in ACP?\n---\n## References\n**JIRA Issue Key:** PHPBB-17435\n**Affects Versions:** 3.3.14\n",
    "type": "Feature",
    "jira_key": "PHPBB-17435",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Unable to delete post via MCP queue",
    "body": "MCP->Moderation queue->Posts awaiting approval->[click post subject]->Approve details, attempt to delete a post awaiting approval via clicking \"Submit\" button beside the \"Delete post\" dropdown option in \"Moderator options\" block has no effect. The page just reloads without any action.\r\n\r\n \r\n\r\n!image-2024-11-25-23-40-14-087.png|width=452,height=210!\n---\n## References\n**JIRA Issue Key:** PHPBB-17444\n**Affects Versions:** 3.3.14\n",
    "type": "Bug",
    "jira_key": "PHPBB-17444",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.14"
    ]
  },
  {
    "title": "Design select box in BBCodes",
    "body": "The design of the select box in the bbcodes does not match the other buttons.\r\n \r\nLook to this topic [https://www.phpbb.com/community/viewtopic.php?p=16037338#p16037338]\n---\n## References\n**JIRA Issue Key:** PHPBB-17427\n**Affects Versions:** 3.3.13\n",
    "type": "Feature",
    "jira_key": "PHPBB-17427",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.13"
    ]
  },
  {
    "title": "Issue with installing child styles when parent style name is modified in ACP",
    "body": "Currently, if the name of a style is changed in the ACP, it is not possible to install the child styles that depend on it. This is particularly problematic for prosilver, the default, non-removable style, which is the parent/ancestor of the majority of inherited styles.\r\n\r\n \r\n\r\n*Problem Description:*\r\nFor style installation requirements, phpBB checks the name of the parent style based on the value of the parent key in the style.cfg file. This check depends on the {{style_name}} field stored in the database. If this name is modified from the PCA (which is possible for all styles, including prosilver), this causes an inconsistency and prevents the installation of child styles, as phpBB considers that the required parent style is not installed.\r\n\r\n \r\n\r\n*Suggested solutions:*\r\n # Disable style name modification from the PCA.\r\nPrevent the modification of style names via the APC, or at least for prosilver on which so many styles depend.\r\n # Add a ‘decorative/passive’ {{style_custom_name}} field.\r\n This field would return the default style name if unmodified, otherwise the one defined by the administrator in the PCA.\r\n # Ignore strict name checking.\r\nAdapt the style installation logic so that it is based solely on the {{style_path}} of the parent style instead of its {{style_name}} in the database. (But requires a style_path key to be added to the styles .cfg)\n---\n## References\n**JIRA Issue Key:** PHPBB-17420\n",
    "type": "Feature",
    "jira_key": "PHPBB-17420",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Remove gif smilies and topic icons",
    "body": "Since the old gif smilies and topic icons have been replaced by svg versions, they should be removed from the package.\n---\n## References\n**JIRA Issue Key:** PHPBB-17419\n",
    "type": "Feature",
    "jira_key": "PHPBB-17419",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Delete reason for soft deleted topics is not displayed",
    "body": "Unlike for soft deleted posts, delete reason for soft deleted topics is not displayed in topic or post lists.\r\n\r\nSee https://www.phpbb.com/community/viewtopic.php?t=2656954\n---\n## References\n**JIRA Issue Key:** PHPBB-17406\n**Affects Versions:** 3.3.13\n",
    "type": "Bug",
    "jira_key": "PHPBB-17406",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.13"
    ]
  },
  {
    "title": "Keyboard nav broken in registration form.",
    "body": "If someone is using keyboard navigation on the default phpBB registration form, they cannot access the two time zone selects (#tz_date and #timezone) nor can they access the \"Anti-Spammer/Bot Test\" select (#pf_antispam).\r\n\r\nThe reason is misuse of tabindex. The first five inputs, and the submit button at the end of the form, all have a positive tabindex set. Respectively: 1, 2, 3, 4 and 8 for the inputs, and 9 for the submit button.\r\n\r\nObviously, if the other inputs have tabindex set the selects should also have values set (5, 6 and 7) but since they don't they are inaccessible by keyboard. The result is that focus follows the artificial order forced by tabindex, so it skips from #email straight to #answer.\r\n\r\nThis is another case where the standard accessibility rule of not using tabindex values greater than 0 applies. If *none* of the inputs has tabindex set, the whole form will work perfectly. Prosilver includes a skipnav link, which will take a11y users straight to the start of the registration form. After that, focus will just follow the natural order of the form's markup. It would also be more maintainable and easier to customise.\r\n\r\nThere are two additional issues.\r\n1/ #tz_select_date does not have a label.\r\n2/ #answer does not have a label either. There *is* a label in the dt preceding #answer's dd parent, but it has no for attribute, so it is non-functional and from an accessibility perspective it's just confusing clutter.\r\n\r\n \r\n\r\nI have already fixed all of this for my own use. My suggestions are:\r\n # Remove all instances of tabindex from ucp_register.html\r\n # Where $CAPTCHA_TAB_INDEX is defined, set the defined value to 0.\r\n\r\nThese are minor changes that are easy to implement, and having $CAPTCHA_TAB_INDEX set to 0 will automatically deal with captcha_qa.html, etc.\r\n\r\n \r\n\r\nRegarding the missing/broken labels, I have used this in timezone_option.html:\r\n{code:java}\r\n// co<dl>\r\n    <!-- IF .timezone_date -->\r\n    <dt>\r\n        <label for=\"tz_date\">{L_SELECT_CURRENT_TIME}{L_COLON}</label>\r\n    </dt>\r\n    <dd id=\"tz_select_date\" style=\"display: none;\">\r\n        <select name=\"tz_date\" id=\"tz_date\" class=\"autowidth tz_select\">\r\n            <option value=\"\">{L_SELECT_CURRENT_TIME}</option>\r\n            <!-- BEGIN timezone_date -->\r\n            <option value=\"{timezone_date.VALUE}\"<!-- IF timezone_date.SELECTED --> selected=\"selected\"<!-- ENDIF -->>{timezone_date.TITLE}</option>\r\n            <!-- END timezone_date -->\r\n        </select>\r\n        <input type=\"button\" id=\"tz_select_date_suggest\" class=\"button2\" style=\"display: none;\" timezone-preselect=\"<!-- IF S_TZ_PRESELECT -->true<!-- ELSE -->false<!-- ENDIF -->\" data-l-suggestion=\"{L_TIMEZONE_DATE_SUGGESTION}\" value=\"{L_TIMEZONE_DATE_SUGGESTION}\">\r\n    </dd>\r\n    <!-- ENDIF -->\r\n    <dt>\r\n        <label for=\"timezone\">{L_BOARD_TIMEZONE}{L_COLON}</label>\r\n    </dt>\r\n    <dd>\r\n        <select name=\"tz\" id=\"timezone\" class=\"autowidth tz_select timezone\">\r\n            <option value=\"\">{L_SELECT_TIMEZONE}</option>\r\n            <!-- BEGIN timezone_select -->\r\n            <optgroup label=\"{timezone_select.LABEL}\" data-tz-value=\"{timezone_select.VALUE}\">\r\n                <!-- BEGIN timezone_options -->\r\n                <option title=\"{timezone_select.timezone_options.TITLE}\" value=\"{timezone_select.timezone_options.VALUE}\"<!-- IF timezone_select.timezone_options.SELECTED --> selected=\"selected\"<!-- ENDIF -->>{timezone_select.timezone_options.LABEL}</option>\r\n                <!-- END timezone_options -->\r\n            </optgroup>\r\n            <!-- END timezone_select -->\r\n        </select>        <!-- INCLUDEJS timezone.js -->\r\n    </dd>\r\n</dl>de placeholder\r\n{code}\r\nAnd have used this in captcha_qa.html:\r\n{code:java}\r\n// code placeholder<!-- IF S_TYPE == 1 -->\r\n<div class=\"panel captcha-panel\">\r\n    <div class=\"inner\">\r\n        <h3 class=\"captcha-title\">{L_CONFIRMATION}</h3>\r\n        <fieldset class=\"fields2\">\r\n<!-- ENDIF -->            <p>{L_CONFIRM_QUESTION_EXPLAIN}</p>\r\n            <dl>\r\n                <dt>\r\n                    <label for=\"qa_answer\">{QA_CONFIRM_QUESTION}{L_COLON}</label>\r\n                </dt>\r\n                <dd class=\"captcha\">\r\n                    <input type=\"text\" name=\"qa_answer\" id=\"qa_answer\" size=\"45\"  class=\"inputbox autowidth\" title=\"{L_ANSWER}\">\r\n                    <input type=\"hidden\" name=\"qa_confirm_id\" id=\"qa_confirm_id\" value=\"{QA_CONFIRM_ID}\">\r\n                </dd>\r\n            </dl><!-- IF S_TYPE == 1 -->\r\n        </fieldset>\r\n    </div>\r\n</div>\r\n<!-- ENDIF --> {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17395\n**Affects Versions:** 3.3.13\n",
    "type": "Bug",
    "jira_key": "PHPBB-17395",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.13"
    ]
  },
  {
    "title": "invalid upload file names",
    "body": "I use an iOS shortcut called \"Apple frames\", while it's very useful (it basically wraps screenshots with the right phone background that the screenshot was taken on), it has the peculiar behavior of changing the file name to the date. The file name is valid on iOS, but no where else (it uses the : for the time separator).\r\n\r\nAs I was trying to understand why I cant directly upload the file to phpbb, since files->common_check gives an INVALID_FILENAME error, I noticed something strange. The system actually now uses clean_filename('unique' but it still checks the common_check before that, despite it no longer being relevant as the realname later gets replaced with the hash anyway...\r\n\r\nTo test this theory I tried to see what happens if I remove this check and indeed, it all works as expected (because clean_filename('unique') runs later on anyway...\r\n\r\nthe issue is in: /phpbb/phpbb/files/upload.php\r\n{code:java}\r\n\r\n/* \r\n// check Filename if (preg_match(\"#[\\\\/:*?\\\"<>|]#i\", $file->get('realname'))) { $file->error[] = $this->language->lang($this->error_prefix . 'INVALID_FILENAME', $file->get('realname')); } \r\n*/{code}\r\n \r\n{{}}\n---\n## References\n**JIRA Issue Key:** PHPBB-17380\n**Affects Versions:** 3.3.12\n",
    "type": "Bug",
    "jira_key": "PHPBB-17380",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.12"
    ]
  },
  {
    "title": "Update social media icons in site header",
    "body": "The header on .com has three social icons in the header. It has RSS, Facebook and Twitter (old). The icons should be updated to adjust their position, they're a bit wonky. Also the icons used are old for example the Facebook 'F' hasn't been used like that with the light bar at the bottom in ages and Twitter is now 'X'.\r\n\r\nFont Awesome 6 has some nice brand icons that could be used instead to firstly, modernise the icons and secondly make them a bit more fancy and stand out so people actually see them properly.\r\n\r\nI also think Discord should be added there too but that might need a little discussion potentially.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1433\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1433",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "What is online - Display guests ONLY",
    "body": "To help admins deal with the whac-a-mole problem of bad bots they first line of inquiry is to use *Who is online* and click the Display guests link to review the user-agent associated with all the guest sessions. \r\n\r\nIt would be an improvement to aid the admin if there was an option to Display guests ONLY to refine the list and help in the quest to identify and deal with bad bots based on their user-agent. \r\n\r\nA second improvement would be to separate the user-agent field into a separate, sortable column.\n---\n## References\n**JIRA Issue Key:** PHPBB-17348\n**Affects Versions:** 3.3.12\n",
    "type": "Feature",
    "jira_key": "PHPBB-17348",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.12"
    ]
  },
  {
    "title": "Last bumped by username data",
    "body": "Missing username color and username url\n---\n## References\n**JIRA Issue Key:** PHPBB-17346\n**Affects Versions:** 3.3.11, 3.3.12, 3.3.12-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17346",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.11",
      "3.3.12",
      "3.3.12-RC1"
    ]
  },
  {
    "title": "Wrong Link on Advanced Update",
    "body": "Step 3.1 for the Advanced Update instructions has a text link for the \"Advanced Update\" archive which goes to the full package instead.\r\n\r\n \r\n\r\nhttps://www.phpbb.com/support/docs/en/3.3/ug/upgradeguide/update_advanced/\n---\n## References\n**JIRA Issue Key:** WEBSITE-1431\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1431",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Misleading installer update \"timeout detected\" message",
    "body": "When running the update installer, it failed partway through the diff comparison with the error message mentioned in the KB article [The installer detected a timeout|https://www.phpbb.com/support/docs/en/3.3/kb/article/debugging-quotthe-installer-detected-a-timeoutquot/]. Its recommendation to check the logs for a catch-all error were indeed correct and led me to the 3.3.12 correction in includes/diff/diff.php:\r\n{code:php}                if (is_array($orig) && count($orig) == 1 && trim($orig[0]) === '')\r\n                {\r\n                    $orig = array();\r\n                }\r\n                if (is_array($final) && count($final) == 1 && trim($final[0]) === '')\r\n                {\r\n                    $final = array();\r\n                }\r\n{code}\r\nI asked about this problem [here|https://www.phpbb.com/community/viewtopic.php?p=16014943#p16014943]. For the next person with this [timeout?] problem, I recommend adding a link to the above KB article in the message LA_TIMEOUT_DETECTED_MESSAGE, e.g., \"For other possible causes of this error, see the article [The installer detected a timeout|https://www.phpbb.com/support/docs/en/3.3/kb/article/debugging-quotthe-installer-detected-a-timeoutquot/]\".\n---\n## References\n**JIRA Issue Key:** PHPBB-17329\n**Affects Versions:** 3.3.12\n",
    "type": "Feature",
    "jira_key": "PHPBB-17329",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.12"
    ]
  },
  {
    "title": "HTTP 400 (Bad request) error on multiple clicking webpush notifications Subscribe/Unsubscribe button",
    "body": "When you start permanently mutli-clicking Subscribe/Unsubscribe button for webpush notifications in UCP, console got spammed by numerous errors like:\r\n\r\n{noformat}\r\n       POST https://area51.phpbb.com/phpBB/user/push/subscribe 400 (Bad Request)\r\nsubscribeButtonHandler @ webpush.js?assets_version=2517:173\r\nwebpush.js?assets_version=2517:207               \r\n       POST https://area51.phpbb.com/phpBB/user/push/unsubscribe 400 (Bad Request){noformat}\r\nServer response on those errors is:\r\n{noformat}\r\n{\"message\":\"The submitted form was invalid. Try submitting again.\"}{noformat}\r\nwhich apparently comes from \\phpbb\\ucp\\controller\\webpush.php function check_subscribe_requests().\n---\n## References\n**JIRA Issue Key:** PHPBB-17319\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17319",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Last Post is calculated by post_id instead of post_time",
    "body": "The forum sync function (determine last post) is using the post_id to determine the \"last post\" of the forum.  This does not always generate the correct result, depending on the state of the database - specifically, when a bulletin board is imported from elsewhere into phpBB.\r\n\r\nUsing the post_time would give the correct result, regardless of the post order in the database.\r\n\r\nIn my situation, topic_id 25 (post_id 73) has a message time of 1460449200, but topic_id 4 (post_id 16) has the newest message time of 1485184800 (2 years newer).  However, post_id 73 is always calculated as the last post (until a brand new post in the forum is made).\r\n\r\nAs a test, I changed the post_id from 16 to 2000 and synchronized the forum.  The last post then displayed correctly (post_id 2000).\r\n\r\nThis bug does not create big issues - just cosmetic/annoyance type problems.  This bug becomes invisible once a new post in the forum is made after a database import (largest post_id is the newest time).\r\n\r\nI am willing to test code, as my migration to phpBB is still in process (not live).\n---\n## References\n**JIRA Issue Key:** PHPBB-15232\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15232",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "postrow.U_MINI_POST shouldn't be visible to bots",
    "body": "To prevent similar topic pages to be browsed by identified bots (like Google), all occurences of postrow.U_MINI_POST should be hidden from them. Sure, there is canonical links on these pages, but the bots shouldn't even browse similar pages if possible (waste of time, server resources, etc.).\r\n\r\nOn each topic pages, some postrow.U_MINI_POST links are hidden but other aren't.\r\n\r\nThese *postrow.U_MINI_POST* links are hidden to identified bots (viewtopic_body.html) :\r\n{code:java}\r\n                <!-- IF S_IS_BOT -->\r\n                    <span><i class=\"icon fa-file fa-fw <!-- IF postrow.S_UNREAD_POST -->icon-red<!-- ELSE -->icon-lightgray<!-- ENDIF --> icon-md\" aria-hidden=\"true\"></i><span class=\"sr-only\">{postrow.MINI_POST}</span></span>\r\n                <!-- ELSE -->\r\n                    <a class=\"unread\" href=\"{postrow.U_MINI_POST}\" title=\"{postrow.MINI_POST}\">\r\n                        <i class=\"icon fa-file fa-fw <!-- IF postrow.S_UNREAD_POST -->icon-red<!-- ELSE -->icon-lightgray<!-- ENDIF --> icon-md\" aria-hidden=\"true\"></i><span class=\"sr-only\">{postrow.MINI_POST}</span>\r\n                    </a>\r\n                <!-- ENDIF --> {code}\r\nThese *postrow.U_MINI_POST* links are +visible+ to identified bots (viewtopic_body.html) :\r\n{code:java}\r\n        <h3 {% if postrow.S_FIRST_ROW %}class=\"first\"{% endif %}>\r\n            {% if postrow.POST_ICON_IMG %}\r\n                <img src=\"{{ T_ICONS_PATH }}{{ postrow.POST_ICON_IMG }}\" width=\"{{ postrow.POST_ICON_IMG_WIDTH }}\" height=\"{{ postrow.POST_ICON_IMG_HEIGHT }}\" alt=\"{{ postrow.POST_ICON_IMG_ALT }}\" title=\"{{ postrow.POST_ICON_IMG_ALT }}\">\r\n            {% endif %}\r\n            <a {% if postrow.S_FIRST_UNREAD %}class=\"first-unread\" {% endif %}href=\"{{ postrow.U_MINI_POST }}\">{{ postrow.POST_SUBJECT }}</a>\r\n        </h3> {code}\r\nThe line with *postrow.U_MINI_POST* should be replaced by the following one:\r\n{code:java}\r\n{% if not S_IS_BOT %}<a {% if postrow.S_FIRST_UNREAD %}class=\"first-unread\" {% endif %}href=\"{{ postrow.U_MINI_POST }}\">{% endif %}{{ postrow.POST_SUBJECT }}{% if not S_IS_BOT %}</a>{% endif %} {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17307\n**Affects Versions:** 3.3.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-17307",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Add New Column - Last Visit",
    "body": "On ACP - Users and Groups - Groups - Manage Groups.\r\n\r\nWill be great to add a new column, for Last Visit.\r\n\r\nAt the moment we only have Registration date. It matters for many reasons to know their last visit.\n---\n## References\n**JIRA Issue Key:** PHPBB-17298\n**Affects Versions:** 3.3.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-17298",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Purge the files in the /cache/installer folder when purging cache",
    "body": "I think the /cache/installer folder should also be purged or deleted recursively when the purge the cache button is pressed in the ACP. Doing so solved an issue for a couple of clients recently after an update of phpBB. See [this topic|https://www.phpbb.com/customise/db/extension/digests_extension/support/topic/246190].\n---\n## References\n**JIRA Issue Key:** PHPBB-17294\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17294",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Field topic_first_poster_name blank in topics table",
    "body": "After editing first post of a topic the field topic_first_poster_name is blank.\r\n\r\nIn forum view the user Guest (Invité in french) is affected on first topic.\n---\n## References\n**JIRA Issue Key:** PHPBB-17288\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17288",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "You cannot quote part of text with iOS/iPadOS browsers",
    "body": "Source: [phpBB • you cannot quote a part of text with iPhone|https://www.phpbb.com/community/viewtopic.php?t=2612416]\r\n\r\nSomeone posting uses the TOPIC REVIEW area and selects a subset of a post's text and then clicks on the quote button.\r\n\r\nInstead of just quoting the selected text the whole post text is quoted.\r\n\r\nHappens with Safari, Edge and Chrome browsers on iOS and iPadOS.\r\n\r\nI cannot be certain however the behaviour changed around iOS/iPadOS Version 16.\n---\n## References\n**JIRA Issue Key:** PHPBB-17238\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17238",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Main Area51 page links to archived 3.0.x support forum",
    "body": "On the [main Area51 page|https://area51.phpbb.com/], under the \"Development Sites & Tools\" subheading, the Issue Tracker section advises getting support in the Support Forums first. However, the Support Forum link leads to the 3.0.x support forums, which are archived.\r\n\r\nIt should instead link to the [Support Forums category|https://www.phpbb.com/community/viewforum.php?f=551], where the user seeking help can choose the subforum that's relevant to them. Alternatively, it could link to the individual subforums directly, like how the Coding Guidelines section links to the different guidelines for each supported version.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1427\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1427",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Cache Headers for Files Served through file.php",
    "body": "Cloudflare and I would assume other caching services by default do not cache files with certain extensions like .php There are options to create custom cache rules  for whatever you want regardless of the source. \r\n\r\nThe cache header for files served through file.php is set to private as it should be as a default otherwise you run the risk of caching files in PM's or private forums. Since there is no way for the caching service to determine what to cache there is no way to allow caching of attachments unless you want to expose non public files to the public.\r\n\r\nA check should be performed to see if the file is publicly accessible and if so set the header to public allowing caching of attachments that are not in private forums or PM's. This is not Cloudflare specific but would apply to any caching service that is going to respect the header.\n---\n## References\n**JIRA Issue Key:** PHPBB-17278\n",
    "type": "Feature",
    "jira_key": "PHPBB-17278",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Polls with Allow re-voting checked should allow for vote to be cancelled",
    "body": "From [phpBB • Poll cancel vote|https://www.phpbb.com/community/viewtopic.php?t=2649100] \r\n\r\nDuring a poll, even if you checked \"can change your vote\", once you have voted you cannot delete your vote.\r\nMore precisely, you receive a message saying that you must choose at least one option.\r\nI find this behavior abnormal: if you can modify your vote you should also be able to cancel it.\n---\n## References\n**JIRA Issue Key:** PHPBB-17275\n**Affects Versions:** 3.3.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-17275",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .page-number\" RTL Topic Print Function Page Number Text Align Rule",
    "body": "When using an RTL language, if you view a topic which has 20 pages and you are on page 10 for example - if you go to print the page and look at the page number at the bottom of the page - the text is aligned on the wrong side... I have added a screen shot to show this,\r\n\r\n \r\n\r\nThis can be solved by adding a text align rule to the bidi.css file.\r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n \r\n\r\n*Find:*\r\n\r\n \r\n{code:java}\r\n.rtl .page-number {\r\n    float: left;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Change To:*\r\n\r\n \r\n{code:java}\r\n.rtl .page-number {\r\n    float: left;\r\n    text-align: left;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17274\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17274",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \"blockquote cite > span\" Topic Print And Private Message Print Function Quote Block Cite Float Rule",
    "body": "When printing a topic, the quote block cite time is on the the wrong side of the quote block, see screen shot.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the print.css file to match the one in the content.css file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nprint.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.quote-by, blockquote cite {\r\n    color: black;\r\n    display: block;\r\n    font-weight: bold;\r\n}{code}\r\n*Add Below:*\r\n{code:java}\r\nblockquote cite > span {\r\n    float: right;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17273\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17273",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Post Notice \".rtl p.post-notice\" RTL Padding Left Side Rule As It Already Has Padding On Both Sides",
    "body": "The bidi.css file has a rule which adds 5px of padding to the left side of the post notice box but the common.css file has a rule which adds 5px of padding to both sides plus the top/bottom, therefore the rule in the bidi.css file has no effect and is surplus.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}bidi.css\r\n{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}.rtl p.post-notice {\r\n    padding-left: 5px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17272\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17272",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Table \".rtl .forumbg table.table1\" RTL Margin Rule Which Affects Table Left Side",
    "body": "The bidi.css file has a rule which adds a negative margin to tables, this affects the left side of the table surround when using an RTL language as it makes it slightly wider than the side of the table.\r\n\r\n \r\n\r\nThere isn't any rule for this in any other file for non RTL languages so it must have been removed at some point in the past and the rule in the bidi.css file forgotten about.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Delete:*\r\n{code:java}\r\n.rtl .forumbg table.table1 {\r\n    margin: 0 -1px -1px -2px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17271\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17271",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl table.responsive span.rank-img\" RTL Table Rank Image Float And Padding Rules",
    "body": "When using an RTL language, if you view the memberlist in responsive mode (screens less than 700px wide) the rank image is on the wrong side of the screen and has a line running through it.\r\n\r\n \r\n\r\nI have added a screen shot to show this.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n    /* User profile\r\n    ----------------------------------------*/{code}\r\n*Add Before:*\r\n{code:java}\r\n    .rtl table.responsive span.rank-img {\r\n        float: none;\r\n        padding-right: 0;\r\n        padding-left: 5px;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17270\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17270",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl table.responsive td > dfn:after\" RTL Table DFN Padding Rules",
    "body": "If you use an RTL language and you view the memberlist on a small screen (less than 700px - responsive mode) the colon is next to the username, post count and time rather than next to the title,\r\n\r\n \r\n\r\nExample it currently displays... \"6:59pm: Joined\" rather than... \"6:59pm :Joined\"\r\n\r\nIt should be... time > space > colon > joined - rather than... time > colon > space > joined.\r\n\r\nI have added a screen shot to show this.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n    .rtl table.responsive td {\r\n        text-align: right !important;\r\n    }{code}\r\n*Add Below:*\r\n{code:java}\r\n    .rtl table.responsive td > dfn:after {\r\n        padding-right: 0;\r\n        padding-left: 5px;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17269\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17269",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Subforum \".rtl ul.topiclist li.row dt a.subforum\" RTL Padding, Background And Position Rules Which Affect Subforum Spacing",
    "body": "The bidi.css file contains padding, background and position rules which are added to the li.row subforum class.\r\n\r\n \r\n\r\nThis makes the space between the subforums too big when using an RTL language.\r\n\r\n \r\n\r\nThe LTR version doesn't have this rule so it must have been left over from changes in the past.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Delete:*\r\n{code:java}\r\n.rtl ul.topiclist li.row dt a.subforum {\r\n    padding-right: 12px;\r\n    background-position: right;\r\n    position: static;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17268\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17268",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Forumlist \".rtl ul.topiclist.forums dt .list-inner\" RTL Left Margin Rule Which Affects Subforums",
    "body": "The bidi.css file contains a 250px left margin which is added to the dt list inner class on small screens, (less than 700px - responsive mode) this stops the subforums from displaying correctly when using an RTL language.\r\n\r\nThe LTR version doesn't have this rule so it must have been left over from changes in the past.\r\n\r\n \r\n\r\nI have added both LTR and RTL screen shots to show the differences.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Delete:*\r\n{code:java}\r\n    .rtl ul.topiclist.forums dt .list-inner {\r\n        margin-left: 250px;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17267\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17267",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Poll \".rtl ul.topiclist dd\" | \".rtl li.row:hover dd\" RTL Border Left Colour Rule",
    "body": "The colours.css file has an RTL rule for a left sided border colour on the topiclist but this is not needed as the bidi.css file has a rule in it which changes the left sided border to none.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncolours.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl ul.topiclist dd {\r\n    border-right-color: #FFFFFF;\r\n    border-left-color: transparent;\r\n}{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\n.rtl ul.topiclist dd {\r\n    border-right-color: #FFFFFF;\r\n}{code}\r\n*Find:*\r\n{code:java}\r\n.rtl li.row:hover dd {\r\n    border-right-color: #CCCCCC;\r\n    border-left-color: transparent;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.rtl li.row:hover dd {\r\n    border-right-color: #CCCCCC;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17266\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17266",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Poll \".rtl .pollbar1, .rtl .pollbar2, .rtl .pollbar3, .rtl .pollbar4, .rtl .pollbar5\" RTL Border Right Colour Rule",
    "body": "The colours.css file has an RTL rule for a right sided border colour on the poll result bar but this is not needed as the bidi.css file has a rule in it which changes the right sided border to none.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}colours.css\r\n{code}\r\n*Delete:*\r\n{code:java}.rtl .pollbar1, .rtl .pollbar2, .rtl .pollbar3, .rtl .pollbar4, .rtl .pollbar5 {\r\n    border-right-color: transparent;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17265\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17265",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .loading_indicator\" RTL Loading Indicator Position And Margin Rules",
    "body": "When using an RTL language, the loading indicator that pops up when you press the delete cookies button is not positioned correctly.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the common.css file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n/* Miscellaneous styles\r\n---------------------------------------- */{code}\r\n*Add Before:*\r\n{code:java}\r\n/* jQuery popups\r\n---------------------------------------- */\r\n.rtl .loading_indicator {\r\n    margin-left: 0;\r\n    margin-right: -50px;\r\n    left: auto;\r\n    right: 50%;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17264\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17264",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .site-description\" | \".logo\" RTL Site Description And Site Logo Float And Padding Rules",
    "body": "When using an RTL language, the site name is not centred in responsive mode, also if you choose do display the logo in responsive mode, that is also not centred.\r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.\r\n\r\n \r\n\r\nI have added both LTR and RTL screen shots to show the differences.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}bidi.css\r\n{code}\r\n*Find:*\r\n{code:java}@media only screen and (max-width: 700px), only screen and (max-device-width: 700px)\r\n{{code}\r\n*Add Below:*\r\n{code:java}    /* Logo block\r\n    ----------------------------------------*/\r\n    .rtl .site-description {\r\n        float: none;\r\n    }\r\n\r\n    .rtl .logo {\r\n        float: none;\r\n        padding: 10px;\r\n    } {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17220\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17220",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Pagination Ellipsis Span \".pagination li.ellipsis span\" Background Rule",
    "body": "The colours.css file has a transparent background rule on the pagination ellipsis span but it doesn't have any effect as there is no colour added to it anywhere else.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncolours.css{code}\r\n*Find:*\r\n{code:java}\r\n.pagination li.ellipsis span {\r\n    background: transparent;\r\n    color: #000000;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.pagination li.ellipsis span {\r\n    color: #000000;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17262\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17262",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Duplicate Back To Top \".top i\" Colour Rule",
    "body": "The colours.css file has a rule for the colour of the back to top icon on topics, this doesn't work because the icon has an \"icon-gray\" class assigned to it therefore the colour is overwritten by the rule for that instead.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncolours.css{code}\r\n*Delete:*\r\n{code:java}\r\n/* Back to top of page */\r\n.top i {\r\n    color: #999999;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17261\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17261",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .signature ul, .rtl .signature ol\" RTL Lists In Signatures Margin Rule",
    "body": "If using an RTL language and you have a signature which contains a list - either OL or UL, it won't be displayed properly, due to a missing rule.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the content.css file.\r\n\r\n \r\n\r\nI have attached both an LTR and an RTL screenshot to show the differences.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}bidi.css\r\n{code}\r\n*Find:*\r\n{code:java}.rtl .signature {\r\n    clear: right;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}.rtl .signature ul, .rtl .signature ol {\r\n    margin: 0.8em 3em 0.9em 0;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17260\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17260",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus \".rtl .post\" | \".post\" RTL And LTR Post Background Position And Background Repeat Rules",
    "body": "The bidi.css and common.css files contain a background image rule on posts, this is probably left over from old versions that had border radius images and is no longer used.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Delete:*\r\n{code:java}\r\n/* Round cornered boxes and backgrounds\r\n---------------------------------------- */\r\n.rtl .post {\r\n    background-position: 0 0;\r\n}{code}\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncommon.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.post {\r\n    padding: 5px 10px;\r\n    margin-bottom: 4px;\r\n    background-repeat: no-repeat;\r\n    background-position: 100% 0;\r\n    border-radius: 7px;\r\n    position: relative;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.post {\r\n    padding: 5px 10px;\r\n    margin-bottom: 4px;\r\n    border-radius: 7px;\r\n    position: relative;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17259\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17259",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl.hastouch .post-buttons\" RTL Has Touchscreen Post Button Margin Rules",
    "body": "When using an RTL language and a device with a touchscreen, if you view a topic, the post buttons are closer to the post profile than they are when using the standard LTR languages.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css file to match the one in the buttons.css file.\r\n\r\n \r\n\r\nI've added both an LTR and RTL screen shoot to show this.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl .post-buttons li {\r\n    float: right;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}\r\n.rtl.hastouch .post-buttons {\r\n    margin-right: 0;\r\n    margin-left: 10px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17258\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17258",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Captcha \".captcha-panel dd.captcha\" RTL Margin Rule Mistake",
    "body": "In the bidi.css file, the rule for the Captcha doesn't have .rtl in front of it like the rest of the rules in the bidi file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n    .captcha-panel dd.captcha {\r\n        margin-right: 0;\r\n    }{code}\r\n*Change To:*\r\n{code:java}\r\n    .rtl .captcha-panel dd.captcha {\r\n        margin-right: 0;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17257\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17257",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .phpbb_alert .alert_close\" RTL Pop Up Box Close Icon Margin And Float Rules",
    "body": "When using an RTL language, if you open a pop up box - example click the delete cookies button, the close button for the pop up box remains on the same side as it does on standard LTR languages.\r\n\r\n \r\n\r\nThis can be solved by adding a rule to the bidi.css to match the one in common.css\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .action-bar .dropdown-button-control .button {\r\n    margin-left: 5px;\r\n}{code}\r\n*Add Below:*\r\n{code:java}\r\n.rtl .phpbb_alert .alert_close {\r\n    float: left;\r\n    margin-right: 0;\r\n    margin-left: -36px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17256\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17256",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Wrong \".rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd\" RTL Responsive Fieldset Margin Rule",
    "body": "The bidi.css file has an incorrect margin size on the fieldset rules, this means that when using an RTL language, things like the subject box in responsive mode are not aligned correctly.\r\n\r\n \r\n\r\nI have added screen shots of both LTR and RTL to show the difference.\r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n \r\n\r\n*Find:*\r\n\r\n \r\n{code:java}\r\n    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {\r\n        margin-right: 20px;\r\n    }{code}\r\n \r\n\r\n \r\n\r\n*Change To:*\r\n\r\n \r\n{code:java}\r\n    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {\r\n        margin-right: 0;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17255\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17255",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Breadcrumb Span \"li.breadcrumbs span:first-child > a\" Padding Rule",
    "body": "The bidi.css file has a padding 0 rule for the breadcrumb span but there is no padding there in the first place so it has no effect.\r\n\r\nThe rule is not in the standard LTR files either so it is probably leftover from something that was removed previously.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Delete:*\r\n{code:java}\r\nli.breadcrumbs span:first-child > a {\r\n    padding-left: 0;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17254\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17254",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl ul.linklist li.responsive-menu\" RTL Responsive Quick Links Menu Icon Margin Rule",
    "body": "When using an RTL language, the quick links burger menu icon in responsive mode has a different size margin than when using a standard LTR language, this can be solved by adding a rule to the bidi.css file to match the one in the common.css file.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl ul.rightside {\r\n    float: left;\r\n    margin-left: -5px;\r\n    margin-right: 5px;\r\n    text-align: left;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}\r\n.rtl ul.linklist li.responsive-menu {\r\n    margin: 0 0 0 5px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17253\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17253",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix UCP h2 \".tabs-container h2\" RTL Float Rule Mistake.",
    "body": "The UCP tabs container h2 rule in the bidi.css file doesn't have .rtl in front of it like the rest of the rules.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.tabs-container h2 {\r\n    float: right;\r\n}{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\n.rtl .tabs-container h2 {\r\n    float: right;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17252\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17252",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .colour-palette td\" RTL Responsive Colour Palette Margin Rule",
    "body": "When using an RTL language and creating a topic using a small screen (less than 700px) the colour palette isn't positioned correctly as the bidi.css file is missing the margin rule for it.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {\r\n        margin-right: 20px;\r\n    }{code}\r\n*Add Below:*\r\n{code:java}\r\n    .rtl .colour-palette td {\r\n        margin-right: 0;\r\n        margin-left: 2px;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17251\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17251",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Wrong \".rtl .caret\" RTL Caret Right Position Rule",
    "body": "The bidi.css file has an RTL position rule for the caret but it doesn't match the standard LTR rule.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .caret {\r\n    border-right: 1px solid;\r\n    border-right-color: inherit;\r\n    border-left: none;\r\n    right: 6px;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.rtl .caret {\r\n    border-right: 1px solid;\r\n    border-right-color: inherit;\r\n    border-left: none;\r\n    left: -6px;\r\n    right: auto;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17250\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17250",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .back2top .top\" RTL Back To Top Margin Rule",
    "body": "When using an RTL language the back to top button on posts has a margin applied to both sides of it.\r\n\r\n \r\n\r\nThis is due to a missing rule in the bidi.css file, the bidi file usually removes the margin from one side and adds it to the other but for this rule it has added the margin to one side but hasn't removed it from the other.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .back2top .top {\r\n    float: left;\r\n    margin-left: -10px;\r\n}{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\n.rtl .back2top .top {\r\n    float: left;\r\n    margin-right: 0;\r\n    margin-left: -10px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17249\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17249",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl blockquote cite:before, .rtl .uncited:before\" RTL Quote Block Cite Quote Icon Padding Rule",
    "body": "When using an RTL language and viewing a topic which contains a block quote, the cite quote icon has padding applied to both sides of it.\r\n\r\nThis is due to a missing rule in the bidi.css file, the bidi file usually removes the padding from one side and adds it to the other but for this rule it has added the padding to one side but hasn't removed it from the other.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}bidi.css\r\n{code}\r\n*Find:*\r\n{code:java}.rtl blockquote cite:before, .rtl .uncited:before {\r\n    padding-left: 5px;\r\n}{code}\r\n*Change To:*\r\n{code:java}.rtl blockquote cite:before, .rtl .uncited:before {\r\n    padding-right: 0;\r\n    padding-left: 5px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17246\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17246",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus \".rtl .row .pagination\" RTL Row Pagination Background Position Rule",
    "body": "The bidi.css file has a surplus background position rule on the row pagination, probably left over from previous changes.\r\n\r\n \r\n\r\nIt can be removed by following the step below,\r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n \r\n\r\n*Find:*\r\n\r\n \r\n{code:java}\r\n.rtl .row .pagination {\r\n    background-position: 100% 50%;\r\n    float: left;\r\n    padding-left: 0;\r\n    padding-right: 15px;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Change To:*\r\n\r\n \r\n{code:java}\r\n.rtl .row .pagination {\r\n    float: left;\r\n    padding-left: 0;\r\n    padding-right: 15px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17248\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17248",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Wrong \".rtl .has-profile .post-buttons\" RTL Responsive Post Buttons Left Rule",
    "body": "When using an RTL language and viewing a post in responsive mode, the gap between the edge of the post and the responsive post buttons is smaller than when using a standard LTR language.\r\n\r\n \r\n\r\nThis is caused by the bidi.css file which adjusts the left position to 20px, it should be 30px.\r\n\r\n \r\n\r\nI have added both an RTL and an LTR screen shot to show this.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n    .rtl .has-profile .post-buttons {\r\n        left: 20px;\r\n    }{code}\r\n*Change To:*\r\n{code:java}\r\n    .rtl .has-profile .post-buttons {\r\n        left: 30px;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17247\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17247",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl blockquote cite > span\" RTL Quote Block Cite Float Rule",
    "body": "If using an RTL language and viewing a topic which includes quotes, the block quote cite (username and time) are next to each other on the same side rather than on each side like in the standard LTR languages.\r\n\r\n \r\n\r\nThis is due to a missing float rule in the bidi.css file.\r\n\r\n \r\n\r\nI have added screen shots of both LTR and RTL to show the problem.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl blockquote cite:before, .rtl .uncited:before {\r\n    padding-left: 5px;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}\r\n.rtl blockquote cite > span {\r\n    float: left;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17245\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17245",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Wrong \".rtl blockquote\" RTL Quote Block Margin Rules",
    "body": "If using an RTL language and viewing a topic which contains a quote or nested block quotes - the margins are too small and look squashed compared to when using an LTR language.\r\n\r\n \r\n\r\nThis is caused by the bidi.css file as the margins defined in that file are smaller than the margins defined in the content.css file.\r\n\r\n \r\n\r\nI have added screen shots that show both LTR and RTL so you can see the difference.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n/* Quote block */\r\n.rtl blockquote {\r\n    margin: 0.5em 25px 0 1px;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n/* Quote block */\r\n.rtl blockquote {\r\n    margin: 1em 25px 1em 1px;\r\n}{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl blockquote blockquote {\r\n    /* Nested quotes */\r\n    margin: 0.5em 15px 0 1px;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.rtl blockquote blockquote {\r\n    /* Nested quotes */\r\n    margin: 1em 15px 1em 1px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17244\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17244",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl fieldset.fields1 dd.recipients\" RTL Private Message Recepients Clear And Margin Rules.",
    "body": "If you are composing a private message when using an RTL language, the recipients names are not correctly aligned under the 'recipients' heading like they are when using a standard LTR language, instead they are almost next to the heading.\r\n\r\n \r\n\r\nI have added screen shots of both LTR and RTL so you can see the difference.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl dl.details dd {\r\n    margin-right: 0;\r\n    margin-left: 0;\r\n    padding-right: 5px;\r\n    padding-left: 0;\r\n    float: right;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}\r\n.rtl fieldset.fields1 dd.recipients {\r\n    clear: right;\r\n    margin-left: 0;\r\n    margin-right: 1em;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17243\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17243",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Fix Missing \".rtl .action-bar > .pagination\" RTL Pagination 500px Responsive Float And Text Align Rules",
    "body": "On small screens, (below 500px) the pagination becomes centred but if you use an RTL language the pagination does not become centred due to a missing float and text align rule in the bidi.css file.\r\n\r\n \r\n\r\nI have added screen shots of both LTR and RTL so you can see the difference.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n*Find:*\r\n{code:java}\r\n    .rtl p.responsive-center {\r\n        float: none;\r\n        text-align: center;\r\n        margin-bottom: 5px;\r\n    } {code}\r\n*Add Below:*\r\n{code:java}\r\n    .rtl .action-bar > .pagination {\r\n        float: none;\r\n        text-align: center;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17242\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17242",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Duplicate Search \".rtl .search-box .inputbox\" RTL Padding Rule",
    "body": "The bidi.css file contains a duplicate padding rule on the search-box inputbox class.\r\n\r\n \r\n\r\nThe forms.css file contains a rule which does the same and is the one anyone working on a style would adjust.\r\n\r\n \r\n\r\nIt's trivial and makes no difference if it is there or not, removing it from the bidi.css file saves a bit of space and saves any confusion.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl .search-box .inputbox {\r\n    border-left-width: 0;\r\n    border-right-width: 1px;\r\n    border-radius: 0 4px 4px 0;\r\n    float: right;\r\n    padding: 3px;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.rtl .search-box .inputbox {\r\n    border-left-width: 0;\r\n    border-right-width: 1px;\r\n    border-radius: 0 4px 4px 0;\r\n    float: right;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17241\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17241",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus \"h1\" 200px margin-right Rules",
    "body": "There is a rule in the common.css file which adds a right sided margin to the H1 but further down the file there is a rule which removes that margin.\r\n\r\n \r\n\r\nThere is also a rule in the bidi.css file which changes the above right sided margin to a left sided margin but further down the page there is also a rule which removes it.\r\n\r\n \r\n\r\nAs it is not being used it is just adding clutter to the 2 files so it could be removed.\r\n\r\n \r\n\r\n \r\n\r\n*File:* common.css\r\n\r\n \r\n\r\n*Find:*\r\n{code:java}\r\nh1 {\r\n    /* Forum name */\r\n    font-family: \"Trebuchet MS\", Arial, Helvetica, sans-serif;\r\n    margin-right: 200px;\r\n    margin-top: 15px;\r\n    font-weight: bold;\r\n    font-size: 2em;\r\n}{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\nh1 {\r\n    /* Forum name */\r\n    font-family: \"Trebuchet MS\", Arial, Helvetica, sans-serif;\r\n    margin-top: 15px;\r\n    font-weight: bold;\r\n    font-size: 2em;\r\n}{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}\r\n.site-description h1 {\r\n    margin-right: 0;\r\n}{code}\r\n-----------------------------------------------------------------------------------\r\n\r\n \r\n\r\n*File:* bidi.css\r\n\r\n \r\n\r\n*Delete:*\r\n{code:java}\r\n.rtl h1 {\r\n    margin-right: 0;\r\n    margin-left: 200px;\r\n}{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}\r\n.rtl .site-description h1 {\r\n    margin-left: 0;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17240\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17240",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Trying to report a deleted post",
    "body": "I received the following error when trying to report for a deleted post. Actually, I first opened the report link in a new tab and then deleted that topic and when I wanted to continue giving papers...\r\n\r\n \r\n\r\n*BACKTRACE*\r\n\r\n*FILE: (not given by php)*\r\n*LINE: (not given by php)*\r\n*CALL: msg_handler()*\r\n\r\n*FILE: [ROOT]/includes/functions_module.php*\r\n*LINE: 565*\r\n*CALL: trigger_error()*\r\n\r\n*FILE: [ROOT]/mcp.php*\r\n*LINE: 345*\r\n*CALL: p_master->load_active()*\n---\n## References\n**JIRA Issue Key:** PHPBB-17234\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17234",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Awaiting Information",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Prosilver <option> Padding Has No Effect",
    "body": "In the forms.css and bidi,css stylesheets, there are some rules that add padding to the <option> class.\r\n\r\nPadding can't be added to <option> so these rules have no effect,\r\n\r\n \r\n\r\nCan it be deleted?\r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nforms.css\r\n{code}\r\n \r\n\r\n \r\n\r\n*Delete:*\r\n\r\n \r\n{code:java}\r\noption {\r\n    padding-right: 1em;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Find:*\r\n\r\n \r\n{code:java}\r\nselect optgroup option {\r\n    padding-right: 1em;\r\n    font-family: Verdana, Helvetica, Arial, sans-serif;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Change To:*\r\n\r\n \r\n{code:java}\r\nselect optgroup option {\r\n    font-family: Verdana, Helvetica, Arial, sans-serif;\r\n}{code}\r\n \r\n\r\n \r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nbidi.css\r\n{code}\r\n \r\n\r\n \r\n\r\n*Delete:*\r\n\r\n \r\n{code:java}\r\n.rtl option {\r\n    padding-right: 0;\r\n    padding-left: 1em;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17226\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17226",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "bg1 / bg2 Classes Not Working On Manage Groups Template",
    "body": "When viewing the list of groups on the manage groups page of the UCP, the group backgrounds are the same colour but the template contains if statements which indicates they are supposed to use the bg1 and bg2 classes, the reason it doesn't work is because the if statement is not for this template.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nucp_groups_manage.html{code}\r\n*Find:*\r\n{code:java}\r\n<li class=\"row<!-- IF attachrow.S_ROW_COUNT is odd --> bg1<!-- ELSE --> bg2<!-- ENDIF -->\">{code}\r\n*Change To:*\r\n{code:java}\r\n<li class=\"row<!-- IF leader.S_ROW_COUNT is odd --> bg1<!-- ELSE --> bg2<!-- ENDIF -->\">{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17225\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17225",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Duplicate Mark CSS Rule In Responsive Stylesheet",
    "body": "In the responsive stylesheet, there is a display: block rule for dd.mark on line 224, but the rule for dd.mark below it on line 234 has the same block rule in it.\r\n\r\n \r\n\r\n*File:*\r\n\r\n \r\n{code:java}\r\nresponsive.css{code}\r\n \r\n\r\n \r\n\r\n*Delete:* (line 224)\r\n\r\n \r\n{code:java}\r\n    ul.topiclist dd.mark {\r\n        display: block;\r\n    }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17224\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17224",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "RTL: Small Mistake In Search Button Float CSS",
    "body": "Totally trivial but one of the rules in the bidi stylesheet doesn't have .rtl in front of it like the rest of them.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n.rtl .button-search,\r\n.button-search-end {\r\n    float: right;\r\n}{code}\r\n*Change To:*\r\n{code:java}\r\n.rtl .button-search,\r\n.rtl .button-search-end {\r\n    float: right;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17223\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17223",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "RTL: Responsive Post Buttons Not Positioned Correctly In Dropdown",
    "body": "When using an RTL language and viewing in responsive mode, if you click the responsive post button dropdown trigger, the icons and text alignment in the dropdown are incorrect.\r\n\r\n \r\n\r\nThis can be solved by making a small change to the bidi stylesheet.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css{code}\r\n*Find:*\r\n{code:java}\r\n.rtl .caret {\r\n    border-right: 1px solid;\r\n    border-right-color: inherit;\r\n    border-left: none;\r\n    right: 6px;\r\n}{code}\r\n \r\n\r\n*Add Below:*\r\n{code:java}\r\n.rtl .post-buttons .dropdown a {\r\n    text-align: left;\r\n}\r\n\r\n/**\r\n* icons.css\r\n*/\r\n.rtl .post-buttons .dropdown-contents .icon {\r\n    float: left;\r\n    margin-left: 0;\r\n    margin-right: 5px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17222\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17222",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "RTL: Incorrect Margin Between Last Visit / Current Time In Responsive Mode",
    "body": "When using an RTL language and viewing in responsive mode, there is a 5px margin between the last visit / current time.\r\n\r\nThe margin is not there when using an LTR language.\r\n\r\n \r\n\r\nI think the margin is supposed to be there - so the issue is with the responsive stylesheet but due to the points below the fix is tricky.\r\n\r\n \r\n\r\nIn the *responsive.css* stylesheet, the 500px media query is above the 700px media query.\r\n\r\n(this is the wrong order and causes issues if both the 500px + 700px query have a rule for the p class)\r\n\r\n \r\n\r\nIn the *bidi.css* stylesheet, the 500px media query is below the 700px media query.\r\n\r\n(this is the correct order)\r\n\r\n \r\n\r\nIf the 500px media query and its contents in the responsive.css stylesheet are moved below the 700px media query - the problem is solved.\r\n\r\n \r\n\r\nFor my base style I moved all the media queries in to the correct order from high to low in the responsive.css stylesheet but that required some testing but it may not be practical for you to spend time implementing this change just to fix a 5px margin if Prosilver is going to be phased out soon.\n---\n## References\n**JIRA Issue Key:** PHPBB-17221\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17221",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "RTL: Remove Surplus PM Post Profile Border CSS Rule",
    "body": "When using an RTL language, if you view a PM there a line of code in the bidi stylesheet for the post profile border which is not used because the rule above it for all post profiles does the same thing.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css{code}\r\n*Delete:*\r\n{code:java}\r\n.rtl .pm .postprofile {\r\n    border-right-width: 1px;\r\n    border-right-style: solid;\r\n    border-left: none;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17219\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17219",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "RTL: Ordered Lists In The Forum Rules Box Don't Display Properly",
    "body": "Ordered lists in the forum rules box don't display properly when using an RTL language, this can be solved by making a quick change to the bidi stylesheet.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nbidi.css{code}\r\n*Find:*\r\n{code:java}\r\n.rtl div.rules ul {\r\n    margin-left: 0;\r\n    margin-right: 20px;\r\n}{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\n.rtl div.rules ul, .rtl div.rules ol {\r\n    margin-left: 0;\r\n    margin-right: 20px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17218\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17218",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Duplicate Caret Colour CSS",
    "body": "The colours CSS stylesheet has a caret colour specified on line 625, yet also has a different colour specified on line 626.\r\n\r\n \r\n\r\nI have opted to delete the first one on line 625 as that is the one that nobody can see.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncolours.css{code}\r\n*Delete:*\r\n{code:java}\r\n.caret    { border-color: #DADADA; }{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17217\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17217",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Surplus Button3 CSS",
    "body": "There is some button3 CSS in the colours and forms stylesheets but there doesn't seem to be any button3 in the the phpBB files except these CSS references.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\ncolours.css{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}\r\ninput.button3 {\r\n    background-image: none;\r\n}{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\na.button1, input.button1, input.button3, a.button2, input.button2 {{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\na.button1, input.button1, a.button2, input.button2 {{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\na.button2, input.button2, input.button3 {{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\na.button2, input.button2 {{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\na.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover, input.button3:hover {{code}\r\n*Change To:*\r\n{code:java}\r\na.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover {{code}\r\n*Find:*\r\n{code:java}\r\ninput.button1:focus, input.button2:focus, input.button3:focus {{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\ninput.button1:focus, input.button2:focus {{code}\r\n \r\n\r\n*File:*\r\n{code:java}\r\nforms.css{code}\r\n*Delete:*\r\n{code:java}\r\ninput.button3 {\r\n    padding: 0;\r\n    margin: 0;\r\n    line-height: 5px;\r\n    height: 12px;\r\n    background-image: none;\r\n    font-variant: small-caps;\r\n}{code}\r\n*Find:*\r\n{code:java}\r\na.button1, input.button1, input.button3, a.button2, input.button2 {{code}\r\n*Change To:*\r\n{code:java}\r\na.button1, input.button1, a.button2, input.button2 {{code}\r\n*Find:*\r\n{code:java}\r\na.button2, input.button2, input.button3 {{code}\r\n*Change To:*\r\n{code:java}\r\na.button2, input.button2 {{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\na.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover, input.button3:hover {{code}\r\n*Change To:*\r\n{code:java}\r\na.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover {{code}\r\n*Find:*\r\n{code:java}\r\ninput.button1:focus, input.button2:focus, input.button3:focus {{code}\r\n*Change To:*\r\n{code:java}\r\ninput.button1:focus, input.button2:focus {{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17216\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17216",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Duplicate Jumpbox CSS",
    "body": "There is some duplicate CSS for the jumpbox in the common stylesheet.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}common.css{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}.dropdown-contents a {\r\n    display: block;\r\n    padding: 5px;\r\n}{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}.jumpbox .dropdown-select {\r\n    margin: 0;\r\n}{code}\r\n \r\n\r\n*Delete:*\r\n{code:java}.jumpbox .dropdown-contents a {\r\n    text-decoration: none;\r\n}{code}\r\n \r\n\r\n*Note:*\r\n\r\nThe last one can be deleted because line 514 includes a text-decoration: none;\n---\n## References\n**JIRA Issue Key:** PHPBB-17215\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17215",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Unused Background Image CSS From Search Input",
    "body": "The background search icon image was replaced with an FA icon when phpBB 3.2 was released.\r\n\r\nThere is some left over unused CSS in the forms stylesheet.\r\n\r\n \r\n\r\n*File:*\r\n{code:java}forms.css{code}\r\n \r\n\r\n \r\n\r\n*Find:*\r\n{code:java}.search-box .inputbox {\r\n    background-image: none;\r\n    border-right-width: 0;\r\n    border-radius: 4px 0 0 4px;\r\n    float: left;\r\n    height: 24px;\r\n    padding: 3px;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Change To:*\r\n{code:java}.search-box .inputbox {\r\n    border-right-width: 0;\r\n    border-radius: 4px 0 0 4px;\r\n    float: left;\r\n    height: 24px;\r\n    padding: 3px;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n}{code}\r\n \r\n\r\n \r\n\r\n*Delete:*\r\n{code:java}input.search {\r\n    background-image: none;\r\n    background-repeat: no-repeat;\r\n    background-position: left 1px;\r\n    padding-left: 17px;\r\n}{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17214\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17214",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Add <dfn> To UCP Attachments List Download Count",
    "body": "Probably not classed as a bug but the 'post count' 'reply count' 'reply count' 'view count' on the forum and topic lists have a <dfn> before them for screen readers etc.\r\n\r\n \r\n\r\nWould adding one to the download count be beneficial to screen readers?\r\n\r\n \r\n\r\n*File:*\r\n{code:java}\r\nucp_attachments.html{code}\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n<dd class=\"extra\">{attachrow.DOWNLOAD_COUNT}</dd>{code}\r\n \r\n\r\n*Change To:*\r\n{code:java}\r\n<dd class=\"extra\"><dfn>{L_DOWNLOADS}</dfn>{attachrow.DOWNLOAD_COUNT}</dd>{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17213\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17213",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Duplicate Box Sizing Rule In content.css",
    "body": "There is a duplicate box sizing rule in the content.css file.\r\n\r\n \r\n\r\n*Line 125:*\r\n{code:java}\r\nli.header dd {\r\n    padding-left: 1px;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n} {code}\r\n*Can be changed to:*\r\n{code:java}\r\nli.header dd {\r\n    padding-left: 1px;\r\n} {code}\r\n \r\n\r\nThe box sizing rule further down on line 66 covers both the li.row and li.header.\r\n\r\n \r\n\r\n*Line 66:*\r\n{code:java}\r\nul.topiclist dd {\r\n    border-left: 1px solid transparent;\r\n    padding: 4px 0;\r\n    -webkit-box-sizing: border-box;\r\n    -moz-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n} {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17210\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17210",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Empty Span & Colour In The HTML On Groups Without A Colour In The UCP Manage Groups Page",
    "body": "If you go to manage groups in the UCP and the group you are managing does not have a colour assigned, there is an empty span and white space between the group colour box and the web safe colour swatch link.\r\n\r\n \r\n\r\nMaking the following edit to the ucp_groups_manage.html template would cure this:\r\n\r\n \r\n\r\n*Find:*\r\n{code:java}\r\n<span style=\"background-color: #{GROUP_COLOUR};\">&nbsp;&nbsp;&nbsp;</span> {code}\r\n*Change To:*\r\n{code:java}\r\n<!-- IF GROUP_COLOUR --><span style=\"background-color: #{GROUP_COLOUR};\">&nbsp;&nbsp;&nbsp;</span><!-- ENDIF --> {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17211\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17211",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Link in description says it all",
    "body": "https://www.phpbb.com/community/viewtopic.php?p=15977104#p15977104\n---\n## References\n**JIRA Issue Key:** PHPBB-17199\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17199",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Move contact admin/email modes from memberlist to controllers",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15811\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-15811",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Usernotes not showing in mcp_post.html template",
    "body": "In the mcp_post.html template file, there appears to be a user notes section, see:\r\n\r\n \r\n{code:java}\r\n    <!-- IF S_SHOW_USER_NOTES -->\r\n        <div class=\"panel\" id=\"usernotes\">\r\n            <div class=\"inner\">            <form method=\"post\" id=\"mcp_notes\" action=\"{U_POST_ACTION}\">            <!-- IF S_USER_NOTES -->\r\n                <h3>{L_FEEDBACK}</h3>                <!-- BEGIN usernotes -->\r\n                    <span class=\"small\"><strong>{L_REPORTED_BY}{L_COLON} {usernotes.REPORT_BY} &laquo; {usernotes.REPORT_AT}</strong></span>\r\n                    <!-- IF S_CLEAR_ALLOWED --><div class=\"right-box\"><input type=\"checkbox\" name=\"marknote[]\" value=\"{usernotes.ID}\" /></div><!-- ENDIF -->\r\n                    <div class=\"postbody\">{usernotes.ACTION}</div>                    <hr class=\"dashed\" />\r\n                <!-- END usernotes -->                <!-- IF S_CLEAR_ALLOWED -->\r\n                    <fieldset class=\"submit-buttons\">\r\n                        <input class=\"button2\" type=\"submit\" name=\"action[del_all]\" value=\"{L_DELETE_ALL}\" />&nbsp;\r\n                        <input class=\"button2\" type=\"submit\" name=\"action[del_marked]\" value=\"{L_DELETE_MARKED}\" />\r\n                    </fieldset>\r\n                <!-- ENDIF -->\r\n            <!-- ENDIF -->            <h3>{L_ADD_FEEDBACK}</h3>\r\n            <p>{L_ADD_FEEDBACK_EXPLAIN}</p>            <fieldset>\r\n                <textarea name=\"usernote\" rows=\"4\" cols=\"76\" class=\"inputbox\"></textarea>\r\n            </fieldset>            <fieldset class=\"submit-buttons\">\r\n                <input class=\"button1\" type=\"submit\" name=\"action[add_feedback]\" value=\"{L_SUBMIT}\" />&nbsp;\r\n                <input class=\"button2\" type=\"reset\" value=\"{L_RESET}\" />\r\n                {S_FORM_TOKEN}\r\n            </fieldset>\r\n            </form>            </div>\r\n        </div>\r\n    <!-- ENDIF --> {code}\r\nThis doesn't seem to show up,  I have tried everything I can think of with notes, warnings, reports etc and it still doesn't appear.\r\n\r\n \r\n\r\nIs this a bug? or am I missing something?\n---\n## References\n**JIRA Issue Key:** PHPBB-17177\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17177",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Forum Management does not have locking",
    "body": "If you execute a relatively slow / long running operation like forum deletion, users may be confused by the lack of response and rerun the operation. There should be some locking mechanism for these operations to prevent them from being run simultaneously.\r\n\r\n{code}Forum #11 does not exist\r\n\r\nBACKTRACE\r\n\r\nFILE: (not given by php)\r\nLINE: (not given by php)\r\nCALL: msg_handler()\r\nFILE: [ROOT]/includes/acp/acp_forums.php\r\nLINE: 889\r\nCALL: trigger_error()\r\nFILE: [ROOT]/includes/acp/acp_forums.php\r\nLINE: 1409\r\nCALL: acp_forums->get_forum_info()\r\nFILE: [ROOT]/includes/acp/acp_forums.php\r\nLINE: 93\r\nCALL: acp_forums->delete_forum()\r\nFILE: [ROOT]/includes/functions_module.php\r\nLINE: 529\r\nCALL: acp_forums->main()\r\nFILE: [ROOT]/adm/index.php\r\nLINE: 73\r\nCALL: p_master->load_active()\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-13611\n**Affects Versions:** 3.1.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-13611",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.3"
    ]
  },
  {
    "title": "incomplete documentation on installing language packs",
    "body": "h2. The directory /ext in a language pack is not mentioned in the installation instructions\r\nh2. [url=https://www.phpbb.com/support/docs/en/3.3/kb/article/how-to-install-a-language-pack/]How to Install a Language Pack[/url]\r\n\r\nNow that you have the compressed language pack on your computer, you will need to extract (unzip) it. The extracted archive should contain 2 folders:\r\n\r\n/language\r\n/styles\n---\n## References\n**JIRA Issue Key:** WEBSITE-1424\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1424",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Template functions PascalCase",
    "body": "Template functions, such as \\{{ lang('') }}, need be be PascalCase.\n---\n## References\n**JIRA Issue Key:** PHPBB-16244\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16244",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "BCC Recipients Don't Show Up When Editing A PM",
    "body": "If you use the BCC option and send a PM, if you view the PM in the outbox you will see the recipients and the BCC recipients.\r\n\r\n \r\n\r\nBut if you go to edit the PM, the BCC recipients list is not displayed.\r\n\r\n \r\n\r\nHaving looked at the posting_pm_header.html template, under the \r\n{code:java}\r\n<!-- BEGIN bcc_recipient >{code}\r\n section I see there is an \r\n{code:java}\r\n<! IF not S_EDIT_POST -->{code}\r\n if statement for the delete button, so I am assuming the BCC list was originally intended to be displayed when editing PM's.\r\n\r\n \r\n\r\nIf this is a bug, it is probably caused by the following if statement: \r\n{code:java}\r\n<!-- IF S_ALLOW_MASS_PM -->{code}\r\n which doesn't seem to work on the edit PM page.\n---\n## References\n**JIRA Issue Key:** PHPBB-17138\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17138",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Sphinx search backend returns inconsistent results for wildcard search",
    "body": "Discussed in [phpBB • Sphinx search configuration|https://www.phpbb.com/community/viewtopic.php?t=2640991]\r\n\r\nThe default Sphinx config file provided with phpBB produces inconsistent results for a wildcard search with a two character word, i.e. te*.\r\n\r\nA search for two characters can return matching results but adding a wildcard character to the same two characters returns no results. At a minimum the end user expects adding the wildcard would at least return the original search results for the case without the wildcard. \r\n\r\nThis seems to be caused by the default Sphinx config file having min_word_len =2 and min_prefix_len = 3.  If min_prefix_len = min_word_len = 2, then the expected matching results are returned when adding a wildcard. \r\n\r\nThis cannot be reproduced on [www.phpbb.com/community|http://www.phpbb.com/community] as it would appear that min_prefix_len has been reduce to 2.\n---\n## References\n**JIRA Issue Key:** PHPBB-17133\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17133",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Unable to determine the dimensions of the image",
    "body": "While trying to upload certain images, phpBB throws warning (via attachments upload interface): \"It was not possible to determine the dimensions of the image. Please verify that the URL you entered is correct.\"\r\n\r\nSome problematic images are attached in the archive below.\n---\n## References\n**JIRA Issue Key:** PHPBB-17124\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17124",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "fix png embedding",
    "body": "Thumbnail behaviour for PNGs depends on file size not file dimensions. The threshold seems to be 12 kB. Anything below gets displayed full size, no hyperlink, and includes file information caption (ex \"pcvhose.png (11.4 KiB)\"). Anything above is displayed in reduced size, hyperlinked to the original file, and no info caption.\r\n\r\nI think this is undesirable behavior. As has been demonstrated, this creates an inconsistent viewing experience for images with the same dimensions.\r\nI do not believe that PNGs of identical dimensions will differ so drastically in download time, that they would need to be displayed differently. The thumbnailing algorithm should be based on dimension, not file size.\r\n\r\n \r\n\r\nSee this topic for demonstration:\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?t=2629321]\n---\n## References\n**JIRA Issue Key:** PHPBB-17122\n**Affects Versions:** 3.3.10\n",
    "type": "Feature",
    "jira_key": "PHPBB-17122",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Sorting a forum by replies is incorrect",
    "body": "Sorting viewforum by Replies-Ascending mixes in moved topics with the zero-reply topics.\n---\n## References\n**JIRA Issue Key:** PHPBB-17118\n**Affects Versions:** 3.3.10\n",
    "type": "Bug",
    "jira_key": "PHPBB-17118",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "php8.1 phpinfo diabled returning a 500 nginx server error if in ACP you click PHP Info",
    "body": "Hi with php 8.1 and phpinfo diabled , by going in ACP PHP Information server goes in a ~500 error, thus it works fine with php 7.4 and returning fine\r\n\r\nInformation about your PHP configuration is unable to be determined. Phpinfo() has been disabled for security reasons.\r\n\r\n \r\n\r\nphpBB 3.3.10\n---\n## References\n**JIRA Issue Key:** PHPBB-17104\n",
    "type": "Bug",
    "jira_key": "PHPBB-17104",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Add reporter's IP address",
    "body": "The report details in the MCP include:\r\n # report reason\r\n # reporter's username\r\n # report time\r\n # further information provided by the reporter\r\n # data about the reported post and its author.\r\n\r\nWhile the IP address of the post author is displayed, the IP address of the reporter is absent (and it isn't apparently stored in the database).\r\n\r\nThat IP address can be useful, notably if the message is reported by a guest. That ability is disabled by default for anonymous, but it can be enabled and phpBB developers have expected a such case as a captcha appears when a guest wants to report a post (see template {*}report_body.html{*}).\n---\n## References\n**JIRA Issue Key:** PHPBB-17083\n**Affects Versions:** 3.3.9\n",
    "type": "Feature",
    "jira_key": "PHPBB-17083",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.9"
    ]
  },
  {
    "title": "Improve loading times by preloading web fonts",
    "body": "Using my browser's DevTools, specifically Lighthouse, it identifies a performance opportunity to Leverage the font-display CSS feature to ensure text is user-visible while webfonts are loading. [Learn more|https://web.dev/font-display/?utm_source=lighthouse&utm_medium=devtools].\r\n\r\nWhich leads to [Preload web fonts to improve loading speed|https://web.dev/codelab-preload-web-fonts/] \r\n\r\nThis can be tested and shown here on [phpBB • Community Home|https://www.phpbb.com/community/index.php]\r\n\r\nCould this be implemented in phpBB core?\n---\n## References\n**JIRA Issue Key:** PHPBB-17094\n**Affects Versions:** 3.3.9\n",
    "type": "Feature",
    "jira_key": "PHPBB-17094",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.9"
    ]
  },
  {
    "title": "Cannot email topics even if the forum permission is enabled",
    "body": "Consider a board whose the *board-wide emails* are enabled (see *Email settings* at ACP), so that anyone can send email to the administrators, thanks to a dedicated contact page.\r\n\r\n \r\n\r\nOn that board, the forum permission « *Can email topics* » for a given user is set at \"yes\". Therefore, the option « *Email topic* » is visible in the topic tools for one or several forums.\r\n\r\n \r\n\r\nHowever, if the +user+ permission « *Can send emails* » is set at \"no\", he or she gets this error message when attempting to email a topic:\r\n\r\n \r\n{noformat}You are not permitted to send email to this user.{noformat}\r\nIt doesn't make sense to display the option  « *Email topic* » if one cannot actually use it.\r\n\r\n*Either* the option should be hidden when the user permission « Can send emails » is disabled, *or* people should be able to use the email topic feature as long as the forum permission « Can email topics » is enabled and regardless the user permission.\n---\n## References\n**JIRA Issue Key:** PHPBB-17084\n**Affects Versions:** 3.3.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-17084",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.9"
    ]
  },
  {
    "title": "Invisible forums should be more concealed",
    "body": "When an user tries to access to a non-existent forum or topic, he or she gets one of these messages : \"The forum you selected does not exist.\" or \"The requested topic does not exist.\"\r\n\r\n \r\n\r\nIf he or she tries to access to a private forum or topic, he or she gets one of these messages : \"You are not authorised to read this forum.\" or \"You are not authorised to read this forum.\". Regardless the visibility of the private area.\r\n\r\n \r\n\r\nMy opinion is the message should be different if the private forum is also not visible to unauthorised users (when the permission \"{*}Can see forum{*}\" is disabled). If the forum is not visible, we can assume administators want unauthorised users don't know its existence. Therefore, the error messages for the unauthorized access should be the same those for non-existent forum or topic, and the HTTP header for the output page should be 404 instead of 403.\n---\n## References\n**JIRA Issue Key:** PHPBB-17078\n**Affects Versions:** 3.3.9\n",
    "type": "Feature",
    "jira_key": "PHPBB-17078",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.9"
    ]
  },
  {
    "title": "user_delete should delete all notifications for a user",
    "body": "phpBB's user_delete function does not fully clean up notifications for the user being deleted. It deletes only activate user notifications. Line 769 of functions_user.php:\r\n\r\n{{{}$phpbb_notifications->delete_notifications('notification.type.admin_activate_user', $user_ids);{}}}{{{}{}}}\r\n\r\nOther notifications often exist, for example notifications to moderate a post or topic. Often a user is deleted because they are posting spam. So I suggest removing all notifications when a user is deleted. Right now this will leave zombie notifications that, in the example, moderators need to manually clean up in the notification manager.\n---\n## References\n**JIRA Issue Key:** PHPBB-17031\n**Affects Versions:** 3.3.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-17031",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.8"
    ]
  },
  {
    "title": "Add event for profile field deletion",
    "body": "core.acp_profile_delete_before\r\n\r\nThere are multiple events when adding or modifying a profile field. However there are no corresponding events for when removing a field. I propose adding core.acp_profile_delete_before to includes/acp_profile.php. This will enable extensions to run cleanup functions before the field is removed.\n---\n## References\n**JIRA Issue Key:** PHPBB-17001\n",
    "type": "Feature",
    "jira_key": "PHPBB-17001",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "phpBB attachments lost when view file clicked",
    "body": "To make the long story short:\r\n\r\nif i load new files into a post as attachments, then i go to click into one of the new files links just uploaded, that display into attachments panel, like so\r\n{{https://localhost/phpbb33/download/file.php?mode=view&id=839}}\r\nthen i click back with browser to return on post, all attachments results lost (and goes into orphans).\r\nMay a sort of different behavior could be applied. Also, there are errors on console about plupload, when number of loaded attachments, are greater than the max allowed (anyway it do not cause after any issue) \r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?p=15836726#p15836726\n---\n## References\n**JIRA Issue Key:** PHPBB-16982\n",
    "type": "Feature",
    "jira_key": "PHPBB-16982",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Advanced Update",
    "body": "In [https://www.phpbb.com/downloads/3.3/advanced_update?version=3.3.5]\r\n\r\nthere is \"[How to update phpBB with the *Automatic* Update Package.|https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto]\" instead of \"[How to update phpBB with the *Advanced* Update Package.|https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto]\".\r\n\r\n \r\n\r\nThe same goes for [https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto] where there is \"Automatic update package\"\n---\n## References\n**JIRA Issue Key:** WEBSITE-1414\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1414",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Allow WebP images for avatars",
    "body": "WebP images are now allowed for attachments, ranks, smilies, and topic icons. \r\n\r\nThey should also be allowed for uploaded avatars.\n---\n## References\n**JIRA Issue Key:** PHPBB-16975\n**Affects Versions:** 3.3.7\n",
    "type": "Feature",
    "jira_key": "PHPBB-16975",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.7"
    ]
  },
  {
    "title": "Limited Features user role has incorrect Can forward private messages setting",
    "body": "The *Standard Features* user role has Can forward private messages set to No. \r\n\r\nThe *Limited Features* user role should have the same, but in a default installation it gets set to Yes. \r\n\r\nThis also impacts the *No Avatar* use role, which have a limited feature set and has Can forward private messages set to Yes. \r\n\r\nThis impacts admins who might create other limited feature set roles using settings from the *Limited Features* and therefore will inadvertently give users assigned the role the ability to forward private messages.\n---\n## References\n**JIRA Issue Key:** PHPBB-16971\n**Affects Versions:** 3.3.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-16971",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.5"
    ]
  },
  {
    "title": "Private Message Topic Title Length should match Posting Topic Title Length",
    "body": "In phpBB 3.1 the maximum Topic Title Length was increased but the Private Message Topic Title Length was not changed.\r\n\r\nThis becomes visible when a member PM's a poster while reading a post. The PM Topic Title gets clipped. \r\n\r\nThere should be consistency between post Topic Title lengths and PM Topic Title lengths. \r\n\r\nReference: [PHPBB3-10640] Bigger Topic Title Length\n---\n## References\n**JIRA Issue Key:** PHPBB-16970\n**Affects Versions:** 3.2.10, 3.3.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-16970",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.10",
      "3.3.5"
    ]
  },
  {
    "title": "'e' parameter missing from forum subscription emails about new topics",
    "body": "When subscribed to a forum the notifications for new topics are coming in without the 'e' parameter present in the forum or topic links which needs to be there for certain processing by viewforum.php which might also be causing a need to visit the new topic and not just the forum to reset the \"visited\" flag (email states \"No more notifications will be sent until you visit the forum.\").\r\n\r\nNotifications about replies seem to include the 'e' parameter for forum subscriptions.\n---\n## References\n**JIRA Issue Key:** PHPBB-16942\n**Affects Versions:** 3.3.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-16942",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.5"
    ]
  },
  {
    "title": "Default cookie banner not responsive on mobile decices",
    "body": "Cookie banner does not show across full length some devices, such as iphone pro max.\r\n\r\n \r\n\r\nv3.3.5\n---\n## References\n**JIRA Issue Key:** PHPBB-16919\n",
    "type": "Bug",
    "jira_key": "PHPBB-16919",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Allowed schemes in links  should just allow commas",
    "body": "If you change or add links to schemes allowed in ACP, it allows you to use punctuation such as full stops, instead it should only allow commas being validated as CSV. So *ftp.banana, http.bananas* are two schema but unknown.\r\n\r\n \r\n\r\nI mean, if you add a schema after HTTP using a dot it invalidates both HTTP and the other one.\n---\n## References\n**JIRA Issue Key:** PHPBB-16905\n**Affects Versions:** 3.3.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-16905",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.5"
    ]
  },
  {
    "title": "Invalid link",
    "body": "The link \"Valid [XHTML 1.0|http://validator.w3.org/check/referer] [Strict|http://validator.w3.org/check/referer]\" returns a \"No Referer header found!\" message\n---\n## References\n**JIRA Issue Key:** WEBSITE-1407\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1407",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "theme/images/no_avatar.gif is kinda required to have for all prosilver-like styles",
    "body": "The link to theme/images/no_avatar.gif is hardcoded into notification_dropdown.html, ucp_avatar_options.html and ucp_notifications.html. Not having the file in the current style results to a degraded user experience (\"broken image\" picture in the latest Chrome).\r\n\r\nTherefore a style that inherits from prosilver has to either to have file theme/images/no_avatar.gif, or to overrride each of these templates. Neither is very good.\r\n\r\nI suggest removing the hard-coded link from mentioned templates, and replacing it with a div with a css background-image pointing to this no_avatar.gif. This way an author of a new style can get by with some css-fixes only.\r\n\r\nOr at very least document this as a mandatory element https://www.phpbb.com/styles/create/#a-mandatory\n---\n## References\n**JIRA Issue Key:** PHPBB-14724\n**Affects Versions:** 3.1.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-14724",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "Allow all BBCodes during reparsing",
    "body": "The {{generate_text_for_storage}} API allows individual BBCodes (img, flash, quote, and url) to be toggled at parsing time. However, that status isn't saved in the database. When I wrote the reparser plugins, I created a set of methods that determine whether a given BBCode or feature was enabled at parsing time based on the content of the message. Those methods can be found in {{phpbb\\textreparser\\base}}; They are named {{guess_X}} where X is the feature.\r\n\r\nWhen reparsing a proper text, those methods work fine as far as I can tell. However, when reparsing a text where a feature was mistakenly disabled, it makes it impossible to re-activate it (=\"fix it\") by reparsing the text.\r\n\r\nAs I understand now, phpBB's editor prevents messages that contain an unauthorized BBCode from being posted. If that holds true across all types of _records_ that are processed by the reparser, it means that it should be safe to unconditionally turn on all BBCodes when reparsing instead of guessing their status based on the content.\n---\n## References\n**JIRA Issue Key:** PHPBB-16880\n**Affects Versions:** 3.3.5-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16880",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.5-RC1"
    ]
  },
  {
    "title": "Bots can add unlimited topic watches due to incorrect checks",
    "body": "This will not happen in a default installation of phpBB, but only because the prosilver template guards emitting the {{U_WATCH_TOPIC}} link with a {{not S_IS_BOT}} check, which is not an adequate safeguard and only masks the actual bug. A template without that check will leak functioning watch topic links to bots.\r\n\r\nThis happens because the check in {{watch_topic_forum}} to stop unregistered users from adding watches is {{$user_id != ANONYMOUS}}, but the check in {{viewtopic.php}} and {{viewforum.php}} to populate the {{notify_status}} field that gets passed to {{watch_topic_forum}} is (correctly) {{$user->data['is_registered']}}, which excludes bot accounts.\r\n\r\nA cool thing about this bug is that since (1) there is no unique key constraint on the {{(topic_id, user_id)}} tuple the database for {{TOPICS_WATCH_TABLE}}, (2) link hashes have no time- or nonce-component to prevent replaying the same operation, and (3) watching topics violates HTTP spec by using a GET operation for a non-nullipotent operation, once a spider gets ahold of a watch topic link, it will keep periodically re-checking these URLs for updates, and each time this will add a fresh entry to the watch table.\n---\n## References\n**JIRA Issue Key:** PHPBB-16869\n**Affects Versions:** 3.2.11, 3.3.4\n",
    "type": "Bug",
    "jira_key": "PHPBB-16869",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.11",
      "3.3.4"
    ]
  },
  {
    "title": "[print.css] CSS selectors do not match HTML classes",
    "body": "Hello,\r\n\r\n \r\n\r\n+Problem:+\r\n\r\nSome selectors used in the *print.css* file doesn't match the CSS classes declared in the HTML.\r\n\r\nThe *.postbody* class is used in several selectors in the [print.css|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/theme/print.css] file but this CSS class does not exist in the two HTML files that load the stylesheet ( [ucp_pm_viewmessage_print.html|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/template/ucp_pm_viewmessage_print.html]  and  [viewtopic_print.html|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/template/viewtopic_print.html] ).\r\n\r\n \r\n\r\n+Solution:+\r\n\r\nReplace all occurrences of *postbody* with *post* in the selectors of the *print.css* file, or use the CSS class *postbody* instead of *post* in both HTML files.\n---\n## References\n**JIRA Issue Key:** PHPBB-16854\n**Affects Versions:** 3.3.4, 3.3.5-RC1, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16854",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4",
      "3.3.5-RC1",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Content Encoding Error for Empty Outbox",
    "body": "There was two recent PM spammers here on phpbb.com and after selecting to empty their PM outbox and clicking the OK on the next page the result is a browser error page \"Content encoding error\".\r\n\r\nThe action is apparently successful, you'll get a message \"Users outbox already emptied\" after clicking OK second time around.. \r\n\r\nHaven't checked but perhaps it's phpBB bug.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1405\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1405",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Config creation in installer can cause hidden SQL error",
    "body": "As mentioned here: [https://github.com/phpbb/phpbb/pull/6207#discussion_r625482523]\r\n\r\nCreating the config object inside the installer will result in an SQL error due to the config table not existing yet.\n---\n## References\n**JIRA Issue Key:** PHPBB-16806\n**Affects Versions:** 3.3.4\n",
    "type": "Bug",
    "jira_key": "PHPBB-16806",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4"
    ]
  },
  {
    "title": "Polls are calculating the win percents WRONG and sometimes the winner is wrong too!!!",
    "body": "Polls that allow the user to vote for more than one item/option are calculating the win percents (the results) WRONG. And the item with the highest win percent isn't even always the correct winner either -- sometimes it is and sometimes it isn't depending on how people voted!\r\n\r\nCurrently, for each item/option/choice in the poll, you are calculating the item's percent by dividing it's number of votes by the total number of votes. But that is wrong, you should calculate each item's percent by dividing it's number of votes by the total number of VOTERS.\r\n\r\nWrongly dividing by the number of votes does not even make any sense. There is NEVER a reason to do that. That is not how elections work. You always want to show the percent of VOTERS that voted for each item, not the percent of votes, because in elections, the term \"vote\" always means the same thing as a VOTER, but whoever originally programmed this didn't realize this and was confused.\r\n\r\nFor example, let's say you have a poll \"Do you want ketchup or mustard on your french fries?\". The two items/options to choose from are \"ketchup\" and \"mustard\". There are two voters. Voter A chooses ketchup, and voter B chooses both ketchup & mustard.\r\nSo, ketchup will show 2 votes, divided by 3 total votes = 66.6% which is WRONG. Ketchup should show 2 votes, divided by 2 VOTERS = 100%.\r\nAnd mustard will show 1 vote, divided by 3 total votes = 33.3% which is WRONG. Mustard should show 1 vote, divided by 2 VOTERS = 50%.\r\n\r\nBy wrongly dividing by votes, you are taking Voter B's vote for Ketchup and SPLITTING IT UP into halves, so Ketchup only gets HALF a vote and mustard only gets HALF a vote, but Voter B should get one FULL vote for ketchup, and one FULL vote for mustard. (Since voter A only voted for one item, their vote was not split up, so their ketchup vote counted TWICE as much as voter B's vote, and that's obviously not fair or correct.)\r\n\r\nYou may be thinking, \"But what if you have 10 items/options and you want people to pick 2 winners out of those 10 items, so you set the number of \"options per user\" to 2.\". That's not how elections work though -- you ALWAYS either want to allow people to be able to pick only 1 option, or any number of options (up to the maximum number of options), and you still divide by the total number of voters. So in this case where you wanted the top 2 winners, they are simply the 1st-place winner and the 2nd-place winner. That's how elections work.\r\n\r\nSo in summary, please change the code for the polls so that:\r\n1) Each item divides it's number of votes by the total number of VOTERS (not votes).\r\n2) And, show the total number of VOTERS at the bottom of the poll (not the \"total votes\").\r\n3) And, ideally, when creating the poll, change the \"options per user\" so that it only allows the poll creator to allow users to choose 1 option or multiple options (nothing in between).\r\n\r\nThanks!!\r\n\r\nBTW it appears alot of other forum software is also calculating poll winners incorrectly, so if you fix your polls, you may be the only/first forum that does it correctly, making your forum better than others.\n---\n## References\n**JIRA Issue Key:** PHPBB-16792\n",
    "type": "Bug",
    "jira_key": "PHPBB-16792",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Allow replies to unapproved topics",
    "body": "At the moment, the author can reply to his own topic that is for approval, but the moderators or admins or any other group that have permissions to read an unapproved topic cannot reply to it...\r\n\r\nYou may wonder \"Why allow replies to the topic if it is not approved?\" \r\nBecause a moderator or an admin, that have permissions to see an unapproved topic, might want to reply to it for some reason and have a hidden discussion in it.\r\n\r\nIn my case the reason is that all topics should follow some guidelines, and if the user doesnt create the topic properly I need to have an discussion about it.\r\nThere are many reasons for having a discussion on an unapproved topic.\r\n\r\nAny forum that I used had this, and I beleive phpBB 3.0 had this too... so it must be a bug on 3.3 branch at least?\n---\n## References\n**JIRA Issue Key:** PHPBB-16803\n**Affects Versions:** 3.3.4\n",
    "type": "Feature",
    "jira_key": "PHPBB-16803",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4"
    ]
  },
  {
    "title": "English error",
    "body": "language/en/acp/forums.php lines 85 and 118.  \"less\" should be \"fewer\",\n---\n## References\n**JIRA Issue Key:** PHPBB-16801\n**Affects Versions:** 3.3.2, 3.3.3, 3.3.4\n",
    "type": "Feature",
    "jira_key": "PHPBB-16801",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.2",
      "3.3.3",
      "3.3.4"
    ]
  },
  {
    "title": "Canceling the vote if a user is deleted",
    "body": "When a user is deleted, their votes remain in the database even when the administrator selects the option to delete all their messages.\r\nCan it be solved?\n---\n## References\n**JIRA Issue Key:** PHPBB-16780\n**Affects Versions:** 3.3.4\n",
    "type": "Bug",
    "jira_key": "PHPBB-16780",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4"
    ]
  },
  {
    "title": "profile fields cannot be disabled from user editing",
    "body": "It says\r\n\r\n_Display in user control panel:_\r\n_The user is able to change this profile field within the user control panel._\r\n\r\n(which is not ticked)\r\n\r\nand\r\n\r\n_Hide profile field:_\r\n_Hide the profile field from all other users except the user, administrators and moderators who are still able to see this field. *If the Display in user control panel option is disabled, the user will not be able to see or change this field and the field can only be changed by administrators.*_\r\n\r\n*_(Which is ticked)_*\r\n\r\n**But it does not actually matter if _Display in user control panel_ is ticked or not, field is still editable by the user ?\n---\n## References\n**JIRA Issue Key:** PHPBB-16781\n**Affects Versions:** 3.3.4\n",
    "type": "Bug",
    "jira_key": "PHPBB-16781",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.4"
    ]
  },
  {
    "title": "Forum Image / Category Image",
    "body": "As of right now there is a possibility to set a Forum Image for Categories while creating/editing it. But there is no place where it to gets displayed. So there are two way of 'fixing it'. That setting could be removed from the form while creating/editing a Category which I'm not a fan of or it could be added on index(Pic. no.1) and viewforum pages. While on index it fairly simple by just using existing code. It can be done by altering this\r\n{code:java}\r\n<!-- IF forumrow.S_IS_CAT --><a href=\"{forumrow.U_VIEWFORUM}\">{forumrow.FORUM_NAME}</a><!-- ELSE -->{L_FORUM}<!-- ENDIF -->\r\n{code}\r\nto\r\n{code:java}\r\n<!-- IF forumrow.S_IS_CAT --><!-- IF forumrow.FORUM_IMAGE --><span class=\"category-image\">{forumrow.FORUM_IMAGE}</span><!-- ENDIF --><a href=\"{forumrow.U_VIEWFORUM}\">{forumrow.FORUM_NAME}</a><!-- ELSE -->{L_FORUM}<!-- ENDIF -->{code}\r\nin forumlist_body.html file.\r\n\r\nOn the viewforum the template variable is not available so the image doesn't display.\n---\n## References\n**JIRA Issue Key:** PHPBB-16692\n**Affects Versions:** 3.3.2, 3.3.3-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16692",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.2",
      "3.3.3-RC1"
    ]
  },
  {
    "title": "Showcase doesn't render some entries as expected/wanted",
    "body": "The entry Ars Technica has an overflow to the right (the link \"technology\")\r\n\r\nThe entry Waze has the link \"international\" which shows inside the description\n---\n## References\n**JIRA Issue Key:** WEBSITE-1401\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1401",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Email regex does not recognize punycode",
    "body": "As per HTML standards, user agents should convert punycode in the domain labels of the value to IDN in the display and vice versa. See https://html.spec.whatwg.org/multipage/input.html#email-state-(type=email)\r\nphpBB regex does not recognize digits and dashes in punycode converted IDN email addresses, in 1st domain level in particular, f.e. admin@xn--b1agh1afp.xn--p1ai when set as \"Contact email address\" or \"From email address\" causes \"The email address you entered is invalid.\" error in ACP.\n---\n## References\n**JIRA Issue Key:** PHPBB-16701\n**Affects Versions:** 3.3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-16701",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.3"
    ]
  },
  {
    "title": "Wrong order display of inline attachments in \"topic review\" when using multiple uploads",
    "body": "The bug occurs in \"topic review\" : the order of displayed attachments doesn't correspond anymore to that of the original post.\r\n\r\nFor example : Someone uploads multiple files +at the same time+ when writing a post and chooses to display them like this in their post :\r\n * 1 : File A\r\n * 2: File B\r\n * 3: File C\r\n\r\nEverything is ok is viewtopic.\r\n\r\nBUT, when you reply to this post and look at the display of inline attachments in the \"topic review\", then the files are displayed in a different order. They can be displayed like this for example :\r\n * 1 : File C\r\n * 2 : File B\r\n * 3 : File A\r\n\r\n \r\n\r\nIt occurs only when using multiple uploads. If you upload files one by one, it doesn't seem to create this bug.\r\n\r\nSomeone (one of my forum members) advised me to check the filetime of the uploaded files, and I realised that multiple uploads result in giving the same \"filetime\" to all the files that are uploaded at the same time.\r\n\r\nThis person suggested that the problem was linked to this code in \"includes/functions_posting.php\" (around the line 1077) :\r\n\r\n \r\n{code:java}ORDER BY filetime DESC, post_msg_id ASC';\r\n{code}\r\nAs several files have the same filetime when you use multiple uploads, then it creates the random display in topic review.\r\n\r\nThis person suggested that it should be replaced with :\r\n\r\n \r\n{code:java}ORDER BY attach_id DESC, post_msg_id ASC';\r\n{code}\r\n \r\n\r\nThis seems to work because someone tested it successfully on a test forum.\r\n\r\nI mentioned that it affected phpBB 3.3.3 and 3.3.2 but maybe it affects more previous versions too, because it's a bug that I've been encountering for a long time on my forum (but I don't remember when exactly)\r\n\r\n \r\n\r\nCould you please check if this is a common bug in phpBB and confirm if the fix is ok? If yes, could it be included in further versions/updates of phpBB ?\r\n\r\n \r\n\r\nThank you.\r\n\r\n \r\n\r\nPS : sorry if my English isn't perfect, it's not my native language.\n---\n## References\n**JIRA Issue Key:** PHPBB-16721\n**Affects Versions:** 3.3.2, 3.3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-16721",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Awaiting Information",
    "affects_versions": [
      "3.3.2",
      "3.3.3"
    ]
  },
  {
    "title": "Add Comment Field to Soft Delete Posts and Topics",
    "body": "When a moderator edits a topic, there is a comment field so he can leave a comment about why he edited it.\r\n\r\nFor admins that can softdelete a post/topic, there isn't. It should have the same comment system. Where the admin would insert a comment about why he softdeleted.\r\n\r\nThen the main admin with permissions to permanente delete could administrate/moderate that better.\n---\n## References\n**JIRA Issue Key:** PHPBB-16716\n**Affects Versions:** 3.2.11, 3.3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-16716",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.11",
      "3.3.3"
    ]
  },
  {
    "title": "Update mbstring http_input and http_output check to accept UTF-8 configuration.",
    "body": "As an additional refinement in parallel to the phpBB 3.3.3-specific https://tracker.phpbb.com/browse/PHPBB3-16656 change, in addition to having eliminated the now-deprecated \"pass\" as the expected/required configuration for mbstring.http_input and mbstring.http_output, phpBB should additionally allow \"UTF-8\" to exist for this configuration.\r\n\r\nThe reason phpBB was checking for \"a blank value, or pass\" previously, and the reason phpBB is checking for \"a blank value\" now in phpBB 3.3.3 and later, isn't just \"to randomly enforce PHP configuration rules.\"  The current phpBB 3.3.3 check intends to ensure that the mbstring.http_input and mbstring.http_output will inherit the PHP \"default_charset\" configuration, because phpBB in addition requires that \"default_charset\" is explicitly or at least implicitly configured as \"UTF-8\".\r\n\r\nSo when an existing customer server configuration, such as the one in [https://www.phpbb.com/community/viewtopic.php?f=661&t=2585241,] has their mbstring.http_input and/or mbstring.http_output configuration set to \"UTF-8\", the fact that the current phpBB 3.3.3 ACP test \"doesn't accept this\" and shows the warning is not helpful to the phpBB user, and is not advising the phpBB user of a situation that \"must be corrected in order to have proper phpBB operation.\"\r\n\r\nUTF-8 is what phpBB needs for proper operation; being explicitly configured for UTF-8 just isn't one of the ways the current phpBB 3.3.3 test accounts for.  Such as in the customer case cited from phpBB Community above, the hosting provider won't allow the customer to change this configuration, either.  So they are currently stuck always seeing this warning, when in actuality, phpBB is already receiving the UTF-8 encoded data it required.\r\n\r\nRecommend that the previous \"pass, or a blank value\" test be replaced with \"UTF-8, or a blank value\" test.  Along with the same \"could be an upper-case or lower-case UTF-8\" treatment that was implemented for phpBB's test of \"default_charset\".\n---\n## References\n**JIRA Issue Key:** PHPBB-16708\n**Affects Versions:** 3.3.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-16708",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.3"
    ]
  },
  {
    "title": "Add ban duration to user notes",
    "body": "When a moderator bans a member, the _Length of ban_ entry is not shown in the user notes. The entry only contains \"*Banned user* for reason\" and the moderator must enter this information manually.\r\n\r\nThis introduces a possibility for error, as the moderator may ban a member for an incorrect duration. I have seen this happen on my board, especially when training new moderators.\n---\n## References\n**JIRA Issue Key:** PHPBB-16700\n**Affects Versions:** 3.3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-16700",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.3"
    ]
  },
  {
    "title": "Add support for record filtering in text reparser",
    "body": "This will add the ability to the text reparser service to selectively process records. For example, it would be possible to only reparse posts that contain a link to YouTube rather than reparse every posts in the database.\n---\n## References\n**JIRA Issue Key:** PHPBB-16169\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16169",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Make \"Re:\" on title of topic replies translateable",
    "body": "Right now the topic reply titles look like: \"Re: my awesome topic title...\"\r\n\r\nThe \"Re:\" is fixed. It should be translateable to get better meaing for other languages.\r\n\r\nRegards\n---\n## References\n**JIRA Issue Key:** PHPBB-16635\n**Affects Versions:** 3.2.11, 3.3.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-16635",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.11",
      "3.3.2"
    ]
  },
  {
    "title": "Admin notification in case of new phpbb-version or available extension-update",
    "body": "Feature idea: Notification email to admins or defined groups in case of a new availbale phpbb-version or in case of a availbale update for extensions. Right now the admin has to check regularly in the backend. An additional email-notification couldincreas awareness of possible updates that also might have security-fixes.\n---\n## References\n**JIRA Issue Key:** PHPBB-16626\n",
    "type": "Feature",
    "jira_key": "PHPBB-16626",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Every search user's posts request beyond start 19985 results in an error.",
    "body": "This seems to be a minor error with the phpBB.com/Community website's search function. When searching through a user's posts, every search request beyond starting from post 19985 results in an error. This means that some of the posts by older members with lots of posts cannot be searched with the \"Search user's posts\" function.\r\n\r\nExample:\r\n [https://www.phpbb.com/community/search.php?author_id=191594&start=19985]\r\n This link is as far back one can search a user's posts before getting an error. Advancing the page or the number, even just by one results in: \"Sorry, search could not be performed. More information about this failure has been logged in the error log.\"\r\n\r\nAmigoJack gave me information and took a screenshot: [https://www.phpbb.com/community/viewtopic.php?p=15590891#p15590891]\n---\n## References\n**JIRA Issue Key:** WEBSITE-1396\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1396",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Gateway Timeout",
    "body": "Yesterday while deleting user with post awaiting approval I got that error. Today approximately 4:30 EST same thing occurred with two successive users.\r\n\r\n \r\n\r\nThe notification, post and user is deleted so I believe it may be occurring on redirect.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1397\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1397",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Too much empty space in viewonline.php for regular users",
    "body": "Please see screenshot.\n---\n## References\n**JIRA Issue Key:** PHPBB-16596\n**Affects Versions:** 3.2.10, 3.3.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16596",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.10",
      "3.3.1"
    ]
  },
  {
    "title": "Display check mark for notification permanently on mobile devices",
    "body": "I noticed that on mobile devices it can be hard to mark notification as read in the notification dropdown box. So I would suggest to make the check mark visible for mobile devices permanent by adding \r\n{code:java}.dropdown-extended li a.mark_read {\r\n display: block;\r\n}{code}\r\nto the responsive.css file.\n---\n## References\n**JIRA Issue Key:** PHPBB-16594\n**Affects Versions:** 3.2.10, 3.3.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16594",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.10",
      "3.3.1"
    ]
  },
  {
    "title": "Add 'I forgot my username'",
    "body": "Add a 'I forgot my username' link to the login screen which allows a user to retrieve (via email) the user name(s) associated with that email address.  \r\n\r\nI have written a patch that provides that feature and I will upload it to git.\r\n\r\nThe interface and internal mechanisms are similar to those for 'I forgot my password'.\r\n\r\nI believe that this patch solves (using a different mechanism) the problem raised in https://tracker.phpbb.com/browse/PHPBB3-10432\n---\n## References\n**JIRA Issue Key:** PHPBB-15756\n**Affects Versions:** 3.2.4\n",
    "type": "Feature",
    "jira_key": "PHPBB-15756",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.4"
    ]
  },
  {
    "title": "Allow users to also use their email address to login",
    "body": "Allow users to also use their email address to login, in addition to their username.\r\n\r\nTheir email address might be much easier to remember and/or type in, especially for non-ASCII alphabets. There is little security advantage to forcing them to type only their username when many other boards accept both email and username.\r\n\r\nThis will also save a retrieval step if they forget their username.\r\n\r\nWhen implementing be sure the prompt also mentions both.\n---\n## References\n**JIRA Issue Key:** PHPBB-14691\n**Affects Versions:** 3.1.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-14691",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.5"
    ]
  },
  {
    "title": "At login - Username request via email or login with email address capability",
    "body": "I keep seeing a lot of members trying to log in using their email and failing (connection log ext). It's every day and I have to keep sending out emails reminding people and the whole memberlist.... but it keeps happening. I have to tell them to trawl through the memberlist to find one they think is their username, or use the password reset link as it sends username as well.\r\n\r\nEasy answer would be letting people login with username or email address. Or link like 'I forgot my username'. Or the password reset link text updated to explicitly say it sends username in email. It does not say that on the phpbb login / reset password page at the moment.\r\n\r\nGetting username reminders has to be clear rather than use the password reset link( not stated for username). Or let people log in with email as well (probably best idea).\n---\n## References\n**JIRA Issue Key:** PHPBB-16576\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16576",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "SameSite=None; Secure Cookie Settings",
    "body": "Any plans to make phpbb ready for SameSite=None; Secure Cookie Settings?\r\n[https://www.smarthostingplans.com/uncat ... -settings/|https://www.smarthostingplans.com/uncategorized/get-ready-for-new-samesitenone-secure-cookie-settings/]\r\n\r\nhttp://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=75006\n---\n## References\n**JIRA Issue Key:** PHPBB-16475\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16475",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "User Notification Options Problem",
    "body": "There is a problem with the Notification Options that are in the UCP if you try and use them in the ACP - or any other situation where you want to edit them for another user.\r\n\r\nThe basic problem is that in the *get_subscription_types()* function there is this line *if ($type instanceof \\phpbb\\notification\\type\\type_interface && $type->is_available())* and it is the last part (*$type->is_available()*)that is creating the issue. This calls the *is_available()* function in each of the notification types files and is using *$this->user->data['user_id']* (or similar) - effectively using the current user which, if being accessed from the ACP, will be an Admin.\r\n\r\nThis area needs to utilise the sending of any user id\n---\n## References\n**JIRA Issue Key:** PHPBB-16560\n**Affects Versions:** 3.3.0, 3.3.1-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16560",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0",
      "3.3.1-RC1"
    ]
  },
  {
    "title": "Improvements to viewonline.php",
    "body": "The viewonline page gives the \"Forum Location\"  for each reported session, but the data in this field defaults to \"Index\" for any page that is not specifically coded in viewonline.php.\r\n\r\nThis makes it look as if a lot of users are hitting the index page when in fact they are somewhere on another page.\r\n\r\nI have created a patch which changes the default value to \"Unrecognised Page\"\r\nThe patch additionally displays (to admins only) the actual page URI from the sessions table, which is much more interesting.\n---\n## References\n**JIRA Issue Key:** PHPBB-16558\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16558",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Search and BBCodes",
    "body": "If you create a post that contains BBCode as this\r\n{code:java}\r\n[color=#BF0000][b]SomeText[/b][/color]\r\n{code}\r\nand then search for \"SomeText\" it will not be found.\r\n\r\nIf you add \"SomeText\" into the same post as normal text and then search it will find, and highlight, both text entries.\r\n\r\nIf you enter {code:java}\r\n[b]SomeText[/b]\r\n{code}Then there is no problem with the search - it will be found.\r\n\r\nNot sure if this may be something to do with the combination of text highlighting and the use of the color BBCode\n---\n## References\n**JIRA Issue Key:** PHPBB-16464\n**Affects Versions:** 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16464",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "List of friends unnecessarily appears on all UCP tabs",
    "body": "As discussed in [https://www.phpbb.com/community/viewtopic.php?f=661&t=2559226] if a member has added other member's as a Friend, the list of Friends appears on each and every UCP tab on the left side. \r\n\r\nWhen reviewing or acting on the various tabs, many do not make reference to the list of Friends, so why is this information displayed in all UCP tabs? It should allow appear when an UCP tab (or function) might make use of the Friends list information, such as when composing a PM, or changing the \"Manage friends\"\n---\n## References\n**JIRA Issue Key:** PHPBB-16547\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16547",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Change parse option terminology/Add option in ACP to enable/disable automatic parsing URLs",
    "body": "Many users on my board are not programmers, and do not understand some functional terms, I've noticed the failure to use the \"Do not automatically parse URLs\" in posts. So I end up with broken links like [http://mydomain.com|http://mydomain.com/].\r\n\r\nAs a result I manually changed the function so the box is checked by default and text message displays \"Automatically convert URLs to links\". I believe this is easier to understand for those that do not know what parse means.\r\n\r\nAdding an option for automatic parsing in ACP would allow admins to turn parsing on and off, as needed, in each forum, much like the Notify me when a reply is posted option.\n---\n## References\n**JIRA Issue Key:** PHPBB-16542\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16542",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "\"bug\" in moving posts: soriting in mod backend not synchronized with frontend",
    "body": "The sorting of posts in the mod backend is not similar / synchronized with the personal user settings in the frontend. This leads to the problem that when selecting posts to move to another topic I do not land at the page, where the desired post is. Solution would be to have the same sorting order in back and frontend. Aim should be to see directly the post, that I selected to move in the frontend before I click on \"Quick Moderation\"\r\n\r\nAlso see: [https://www.phpbb.com/community/viewtopic.php?p=15516686#p15516686]\n---\n## References\n**JIRA Issue Key:** PHPBB-16501\n",
    "type": "Feature",
    "jira_key": "PHPBB-16501",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Keep selection active",
    "body": "If I try to move posts into another topic I have to remeber to select the target topic first, because when you not enter the target topic-id manually and use the select topic link then all selected post are unselected again. If I remember right then jumping to another page during moderation also removes the selection of post. \r\n\r\nThats all not critical, just not very user-friendly.\n---\n## References\n**JIRA Issue Key:** PHPBB-16502\n",
    "type": "Feature",
    "jira_key": "PHPBB-16502",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Problem with upload images with huge Exif Data",
    "body": "We have problem while uploading images from motorola camera devices. There is lot of EXIF data and phpbb says UNABLE_GET_IMAGE_SIZE. We are running php 7.4 and phpbb3.3.0 . Probably problem on GetimageSize\r\n\r\nIn case of strip EXIF data from the image, upload working fine. Problematic image attached.\r\n\r\nOur workaround is to bypass following code on {{phpbb/files/filespec.php}}{{ }}\r\n\r\n{{$this->image_info = $this->imagesize->getImageSize($this->destination_file, $this->mimetype); }}\r\n\r\n{{if ($this->image_info !== false) }}\r\n\r\n{{{ }}\r\n\r\n{{$this->width = $this->image_info['width']; }}\r\n\r\n{{$this->height = $this->image_info['height']; // Check image type $types = upload::image_types(); if (!isset($types[$this->image_info['type']]) || !in_array($this->extension, $types[$this->image_info['type']])) \\{ if (!isset($types[$this->image_info['type']])) { $this->error[] = $this->language->lang('IMAGE_FILETYPE_INVALID', $this->image_info['type'], $this->mimetype); } else \\{ $this->error[] = $this->language->lang('IMAGE_FILETYPE_MISMATCH', $types[$this->image_info['type']][0], $this->extension); } } // Make sure the dimensions match a valid image if (empty($this->width) || empty($this->height)) \\{ $this->error[] = $this->language->lang('ATTACHED_IMAGE_NOT_IMAGE'); } } }}\r\n\r\n{{else }}\r\n\r\n{{{ ;; }}\r\n\r\n{{//$this->error[] = $this->language->lang('UNABLE_GET_IMAGE_SIZE'); }}\r\n\r\n{{} }}\r\n\r\n{{}}}\n---\n## References\n**JIRA Issue Key:** PHPBB-16498\n**Affects Versions:** 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16498",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Enable disabling of bumping topics to top of forums due to new posts",
    "body": "In the ACP, it would be nice to have the ability to allow and disallow certain forums from having topics bumped to the top of a forum because someone posted a new reply to a topic / an older topic / a really old topic.\r\n\r\n \r\n\r\nBy not allowing old topics from being notably brought back to life (bumped) by potential trolls and spammers, this would cut down on unnecessary attention by forum communities of old and obsolete topics that are past expiry, and keep new and relevant topics at the top of forums where they belong.\n---\n## References\n**JIRA Issue Key:** PHPBB-16495\n**Affects Versions:** 3.2.9, 3.3.1, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16495",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.1",
      "4.0.0-a1"
    ]
  },
  {
    "title": "puppeteer as alternative to facebook php-webdriver",
    "body": "Marc proposed in discord to use symfony/phanter to replace php-webdriver, the problem is that phanter is developed on top of php-webdriver.\r\n If is necessary an alternative for the ui tests, we can try puppeteer, but I don't know if there is something for this in php, so maybe the ui tests should be rewritten in nodejs.\n---\n## References\n**JIRA Issue Key:** PHPBB-16186\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16186",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "ACP modules to controllers",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16200\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16200",
    "jira_type": "Sub-task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "UCP modules to controllers",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16202\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16202",
    "jira_type": "Sub-task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "MCP modules to controllers",
    "body": "## References\n**JIRA Issue Key:** PHPBB-16201\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16201",
    "jira_type": "Sub-task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Need an additional Notification option for approving PM reports",
    "body": "There are moderator permissions for \"Can close and delete reports\" under the Posts tab (m_report) and for \"Can close and delete reports of private messages\" under the Misc tab (m_pm_report).\r\n\r\nIn the UCP, under \"Edit Notifications preferences\" there is only an entry for \"Someone reports a post \", and nothing for \"Someone reports a PM\".\r\n\r\nSince a given user can have either one or both of these permissions (or none, in which case I assume the option does not display), there should be a separate Notification option for each permission.  Otherwise it leads to confusion.\r\n\r\nAs it is now, the Notification appears to apply to both, or either, option, depending on the user's permissions.\r\n\r\nSee  https://www.phpbb.com/community/viewtopic.php?p=15486041#p15486041\n---\n## References\n**JIRA Issue Key:** PHPBB-16455\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16455",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Change the unapproved icon from ? to something more obvious",
    "body": "Suggestion to change the unapproved icon from a question mark to a more obvious icon. As it shows at the end of a topic title, where a question mark may already exist it can easily be missed even though the notification system can pick it up if it's turned on.\r\n\r\n \r\n\r\n3.1 used to have an inverted triangle which was much more obvious. An unapproved topic or post should be immediately visible to the mod team, not something that can be missed.\n---\n## References\n**JIRA Issue Key:** PHPBB-15505\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15505",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "FAQ need to be revised",
    "body": "The Frequently Asked Questions need to be edited, because some parts aren't exact or no longer valid.\r\n\r\n \r\n{quote}*How do I create a new topic or post a reply?*\r\n\r\nTo post a new topic in a forum, click \"New Topic\". To post a reply to a topic, click \"Post Reply\". You may need to register before you can post a message. A list of your permissions in each forum is available at the bottom of the forum {color:#de350b}*and topic screens*{color}. Example: You can post new topics, You can post attachments, etc.\r\n{quote}\r\nThe permissions list isn't included in viewtopic_body.html, therefore the permissions aren't displayed at the bottom of topic screens. In fact, prosilver has never displayed the list there, only subsilver2 did. *Either* prosilver should list the permissions at the bottom of topic pages *or* edit the FAQ.\r\n\r\n \r\n{quote}*How do I prevent my username appearing in the online user listings?*\r\n\r\nWithin your User Control Panel, under “Board preferences”, you will find the option *{color:#de350b}_Hide your online status_{color}*. Enable this option and you will only appear to the administrators, moderators and yourself. You will be counted as a hidden user.\r\n{quote}\r\nThe option is \"Hide {color:#de350b}*my*{color} online status\" (sure, it's a trivial error, but it's still an error)\r\n\r\n \r\n{quote}*What is the difference between bookmarking and subscribing?*\r\n\r\nIn phpBB 3.0, bookmarking topics worked much like bookmarking in a web browser. You were not alerted when there was an update. {color:#de350b}*As of phpBB 3.1*{color}, bookmarking is more like subscribing to a topic. You can be notified when a bookmarked topic is updated. Subscribing, however, will notify you when there is an update to a topic or forum on the board. Notification options for bookmarks and subscriptions can be configured in the User Control Panel, under “Board preferences”.\r\n{quote}\r\nPerhaps the part \"{color:#de350b}*As of*{color} phpBB 3.1\" should be changed... the current version is phpBB 3.3\n---\n## References\n**JIRA Issue Key:** PHPBB-16438\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Task",
    "jira_key": "PHPBB-16438",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Add index to improve acl_get_list database performance",
    "body": "I found the acl_get_list query to take ~7 seconds on a beefy AWS RDS Aurora box. \r\nThis was being called often as we use stop forum spam. A github issue showed some others had similar issues: [https://github.com/rmcgirr83/stopforumspam/issues/19]\r\n\r\nacl_get_list:\r\n\r\n[https://area51.phpbb.com/docs/code/3.1.x/phpbb/auth/auth.html#method_acl_get_list]\r\n\r\nTried about 20 index variations, but found that mysql only liked putting an index on all 4 columns in the user_group table. I am aware this is odd, but after not getting meaningful performance improvements without it, this is my recommendation for an enhancement to the DDL in phpbb. \r\n\r\n \r\n\r\n{{ALTER TABLE {{phpbb_user_group}}}}\r\n{{ ADD INDEX {{ acl_get_list_tuning}} ({{group_id}} ASC, {{user_pending}} ASC, {{user_id}} ASC, {{group_leader}} ASC);}}\r\n{{ ;}}\n---\n## References\n**JIRA Issue Key:** PHPBB-16431\n**Affects Versions:** 3.2.7\n",
    "type": "Feature",
    "jira_key": "PHPBB-16431",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.7"
    ]
  },
  {
    "title": "Receiving notifications from ignored members",
    "body": "Members are receiving notifications when a post of theirs is quoted by a member on their ignore list.\r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?f=556&p=15259981&sid=054e6fe9683ef8000486328a5bf92120#p15259981\n---\n## References\n**JIRA Issue Key:** PHPBB-16064\n**Affects Versions:** 3.2.7\n",
    "type": "Bug",
    "jira_key": "PHPBB-16064",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.7"
    ]
  },
  {
    "title": "Strange behaviour on groups page",
    "body": "Basically the member count has gone over to page two as there are now 25 members on page one but on the second page it says “This group has no members”. See image attached. \r\n\r\nFWIW - It’s the same on .com.\n---\n## References\n**JIRA Issue Key:** PHPBB-16324\n**Affects Versions:** 3.3.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-16324",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Add custom contact profile field icon",
    "body": "Currently custom profile fields system is missing handling of CPF icons for post miniprofiles. For the built-in \"custom\" fields, icons are just hardcoded; for all user defined CPFs, simply the same default icon is used from {{/styles/[stylename]/theme/images/icons_contact.png}}.\r\nSo it would make better UI to add an option to define FontAwesome icon for contact CPFs.\n---\n## References\n**JIRA Issue Key:** PHPBB-16413\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16413",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Re-implement \"Drafts\" as normal posts and PMs visible only to the poster",
    "body": "See https://www.phpbb.com/community/viewtopic.php?f=436&t=2522421\r\n\r\nThis improvement will allow draft posts and PMs to be saved with attachments and formatting.\r\n\r\nIt will remove the drafts table and about 95% of the existing code related to drafts.  The code added to replace (and enhance) the behaviour should be somewhat more compact.\n---\n## References\n**JIRA Issue Key:** PHPBB-16193\n**Affects Versions:** 3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-16193",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "There should be an option to set the default poll length in ACP",
    "body": "When polls are created, the default option for poll length is 0 a never ending poll. \r\n\r\nBased on my experience, most users either don't see that value of disregard it. The end result is most polls are endless, while typically the poll question is inspired by recent events. \r\n\r\nI would propose there should be an ACP setting to allow the default poll length to be specified by the board administrator.\n---\n## References\n**JIRA Issue Key:** PHPBB-16408\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16408",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "There is no maximum number of line breaks for signature",
    "body": "In the ACP, an administrator can change some signature settings, such as the maximum number of characters.\r\n\r\n \r\n\r\nHowever, there is no option to limit the number of line breaks (<br/> in HTML). Some users can have a \"short\" signature in terms of number of characters but a long signature in terms of lines (eg: someone types a poem as signature, with short sentences but numerous lines). Consequently, the signature can alter the readability of topics because its *height* is too high, not because of the number of characters\n---\n## References\n**JIRA Issue Key:** PHPBB-16170\n**Affects Versions:** 3.2.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-16170",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Add two indexes to posts table",
    "body": "Deleting a user on a medium size forum with zero messages takes multiples of seconds. Backend is mysql 5.7.29 / MyISAM. Looking into slow queries log, the following queries take seconds:\r\n\r\nUPDATE bbs_posts\r\n SET post_edit_user = 1\r\n WHERE post_edit_user = 103246;\r\n\r\nUPDATE bbs_posts\r\n SET post_delete_user = 1\r\n WHERE post_delete_user = 103246;\r\n\r\n \r\n\r\nAdding two indexes makes user delete operation sub-second as expected. Suggesting adding the following indexes to the posts table:\r\n\r\n \r\n\r\ncreate index post_edit_user on ...posts (post_edit_user);\r\n\r\ncreate index post_delete_user on ...posts (post_delete_user);\r\n\r\n \r\n\r\nFrom trade-off perspective, since we optimize \"for read\" small additional tax on insert should be justifiable.\n---\n## References\n**JIRA Issue Key:** PHPBB-16371\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16371",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Search times out on a medium size forum",
    "body": "Search times out on a medium size forum when searching by multiple words. Search \"index\" is kept in the mysql tables. The following search mysql query runs multiple seconds eventually timing out the web request:\r\n\r\n \r\n\r\nSELECT SQL_CALC_FOUND_ROWS p.post_id FROM (bbs_search_wordmatch m1 CROSS JOIN bbs_search_wordmatch m2 CROSS JOIN bbs_search_wordmatch m0) LEFT JOIN bbs_posts p ON (m0.post_id = p.post_id) WHERE m0.word_id = 8113 AND m1.word_id = 8114 AND m1.post_id = m0.post_id AND m2.word_id = 4366 AND m2.post_id = m0.post_id AND ((p.forum_id <> ...\r\n AND p.post_visibility = 1) OR p.forum_id IN (...)) AND p.forum_id <> ... GROUP BY p.post_id, p.post_time ORDER BY p.post_time DESC\r\n LIMIT 250;\r\n\r\n \r\n\r\nAs we see there is a (multiple) Cartesian products here which is not super efficient when it comes to larger tables. I suggest to consider replacing this query with the one along the lines of:\r\n\r\nselect p.post_id from (select post_id, count(distinct word_id) from bbs_search_wordmatch where word_id in (8113, 8114, 4366) group by 1 having count(distinct word_id) = 3) t join bbs_posts p on p.post_id = t.post_id where ((p.forum_id <> ... AND p.post_visibility = 1) OR p.forum_id IN (...)) AND p.forum_id <> ... GROUP BY p.post_id, p.post_time ORDER BY p.post_time DESC LIMIT 250;\r\n\r\n \r\n\r\nThe query produced the same result, but takes 20-30 milliseconds instead of 12-15 seconds. Idea behind it is to search for the posts that have all three words (having keyword). I assume it could be just a specific scenario in search function, but probably could provide an option to eliminate cross join usage.\r\n\r\n \r\n\r\nThank You.\n---\n## References\n**JIRA Issue Key:** PHPBB-16372\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16372",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "Knowledge Base article print layout needs improvement",
    "body": "Per [https://www.phpbb.com/community/viewtopic.php?p=15426746#p15426746] the print layout of knowledge base pages contains extraneous information, two pages worth. It would be much improved if only the knowledge base article itself was included in the print layout.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1377\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1377",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "New function to handle combobox config items added to ACP",
    "body": "Putting extension configuration beside similar phpbb core  configuration is the best behavior in many cases when  the extension do a little change to phpBB work,  'core.acp_board_config_edit_add' event do this good, but  extension writer can't add a combobox config ('type' => 'select') because it requires a core function or method, so I suggest simple function handle this.\n---\n## References\n**JIRA Issue Key:** PHPBB-15429\n**Affects Versions:** 3.2.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15429",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "Reactivation link isn't working if user hasn't been activated",
    "body": "With admin activation enabled, an admin can force a user to reactive his account which sends an email to the user with an activation link. However, if the account hasn't been activated by an admin yet, the link isn't working and displays \"You do not have the necessary permissions to complete this operation.\" to the user.\r\n\r\nIdeally, \"Force reactivation\" for a user shouldn't be possible if admin activation is enabled and the account hasn't been activated by an admin yet.\n---\n## References\n**JIRA Issue Key:** PHPBB-16256\n**Affects Versions:** 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16256",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Sphinx: Use SphinxQL instead of SphinxAPI",
    "body": "Hi,\r\n\r\nin current versions of phpBB 3.1 the SphinxAPI is used to talk to a Sphinx Search Daemon. This API is deprecated as stated in the sphinxapi.php of current Sphinx versions:\r\n\r\n{quote}\r\n// WARNING!!!\r\n//\r\n// As of 2015, we strongly recommend to use either SphinxQL or REST APIs\r\n// rather than the native SphinxAPI.\r\n//\r\n// While both the native SphinxAPI protocol and the existing APIs will\r\n// continue to exist, and perhaps should not even break (too much), exposing\r\n// all the new features via multiple different native API implementations\r\n// is too much of a support complication for us.\r\n//\r\n// That said, you're welcome to overtake the maintenance of any given\r\n// official API, and remove this warning ;)\r\n{quote}\r\n\r\nAs a bonus the usage of SphinxQL could give a high performance gain as shown it this (even some years old) benchmark:\r\n\r\nhttp://sphinxsearch.com/blog/2010/04/25/sphinxapi-vs-sphinxql-benchmark/\n---\n## References\n**JIRA Issue Key:** PHPBB-14398\n**Affects Versions:** 3.1.6\n",
    "type": "Feature",
    "jira_key": "PHPBB-14398",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "Posts waiting for approval should be visible to the authors",
    "body": "To maintain backwards compatibility the default option for \"Display unapproved posts to the author:\" should be set to \"No\" and not, as currently, set to \"Yes\"\n---\n## References\n**JIRA Issue Key:** PHPBB-16275\n**Affects Versions:** 3.3.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16275",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0-RC1"
    ]
  },
  {
    "title": "Refactor ACP Resynchronise or reset statistics layout",
    "body": "That's really ugly.\r\n\r\n \r\n\r\n!image-2019-12-25-02-58-33-806.png!\n---\n## References\n**JIRA Issue Key:** PHPBB-16268\n**Affects Versions:** 3.3.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16268",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3.0-RC1"
    ]
  },
  {
    "title": "Negative numbers for Unread PMs",
    "body": "This should not be able to happen:\r\n\r\n \r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?f=556&t=2532146#p15379021\n---\n## References\n**JIRA Issue Key:** PHPBB-16259\n",
    "type": "Feature",
    "jira_key": "PHPBB-16259",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "forum rss feeds ignore If-Modified-Since",
    "body": "The forum atom/rss feeds ignore the If-Modified-Since header and always send a new response. Feed readers and javascript clients requires the If-Modified-Since header to return http status 304 Not Modified when the data hasn't changed.\r\n\r\n \r\n\r\nAdding this code to \\phpbb\\feed\\controller\\feed.php at lines 399-402 fixed the issue:\r\n\r\nif ($response->isNotModified($this->request)) \r\n{\r\n $response->setNotModified();\r\n}\r\n\r\n \r\n\r\nI also had another issues using the atom feed from the browser since phpbb doesn't include the \"Access-Control-Allow-Origin\" header with the atom response.\r\n\r\nAdding this code to \\phpbb\\feed\\controller\\feed.php at line 389 fixed the issue:\r\n\r\n$response->headers->set('Access-Control-Allow-Origin', '*');\r\n\r\n \r\n\r\nThere should probably be ACP some options to control the list of domains for the ACAO headers.\r\n\r\n \r\n\r\n \r\n\r\nThanks\r\n\r\ndmex\n---\n## References\n**JIRA Issue Key:** PHPBB-16253\n",
    "type": "Bug",
    "jira_key": "PHPBB-16253",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Control panels to controllers",
    "body": "Move contol panels to controllers\n---\n## References\n**JIRA Issue Key:** PHPBB-16059\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-16059",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Cron returns HTML when install folder exists",
    "body": "When the install folder exists, the board is automatically disabled. However, some cron might still be displayed, e.g. when trying to log in. The cron will not return \"image-like\" output but rather the info that the board is currently not available which causes a \"broken\" image to show in the footer.\n---\n## References\n**JIRA Issue Key:** PHPBB-16220\n**Affects Versions:** 3.2.8, 3.3.0-b1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16220",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8",
      "3.3.0-b1"
    ]
  },
  {
    "title": "Add rel=ugc link attribute for forum posts (as per Google) Mar 1/2020",
    "body": "Google has released a new link attribute specifically for use in forums to identify links posted by forum members, it's called rel=\"ugc\". Here's what they say:\r\n\r\n*rel=\"ugc\":* UGC stands for User Generated Content, and the ugc attribute value is recommended for links within user generated content, such as comments and forum posts.\r\n\r\nMore details @ Google's blog: [https://webmasters.googleblog.com/2019/09/evolving-nofollow-new-ways-to-identify.html]\r\n\r\nThis issue is for phpBB devs to consider adding the rel=ugc to the core phpBB code to help Google properly index forum posts following standards.\r\n\r\nIt might be a good idea to have rel=ugc NOT show up for forum posts linking to the actual site domain since that content is already verified as good. rel=ugc should probably just be used for external domain links since that content is outside the control of the forum owner.\r\n\r\nGoogle also says: \"All the link attributes, sponsored, ugc and nofollow, now work today as hints for us to incorporate for ranking purposes. For crawling and indexing purposes, nofollow will become a hint as of March 1, 2020.\"\n---\n## References\n**JIRA Issue Key:** PHPBB-16214\n",
    "type": "Feature",
    "jira_key": "PHPBB-16214",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Include instructions to disable/reenable the database when doing updates",
    "body": "ACP > System > Check for updates\r\n\r\nI believe this page, as well as docs/Install.html and any appropriate pages on phpbb.com should be updated to instruct users to disable the board before doing updates or upgrades, and to reenable it afterward.\r\n\r\nIt is possible that while following the current procedures, users will experience errors as the /cache and /vendor folders are deleted or new software is being uploaded. When the /install folder is uploaded, the board effectively becomes disabled but that can take some time.\r\n\r\nBut also, this allows a consistent database backup to occur. On large boards the phpbb_forums table may be backed up long before the phpbb_posts table is, leading to a potentially inconsistent database if the database has to be recovered.\n---\n## References\n**JIRA Issue Key:** PHPBB-16212\n**Affects Versions:** 3.2.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-16212",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "utf8_clean_string does \"circular replacement\" of some characters",
    "body": "While working with phpBB I noticed the function utf8_clean_string and what it is supposed to do, i.e. avoid usernames that look similar or even identical but are different (by using \"look alike characters\")\r\n\r\nAnyway, first, there is this replacement: 'ǃ'=>'!' \r\n\r\nLater, there is this replacement: '!'=>'ǃ'\r\n\r\nOne of them is an exclamation mark, the other is LATIN LETTER RETROFLEX CLICK. Depending on the font, you may see a difference between the two or not.\r\n\r\nIt means the replacement is A => B and B => A which does not make much sense, because a username containing A will be cleaned to B and vice versa.\r\n\r\n\r\nOther characters don't have this problem, for example all kind of question marks are replaced by the character ʔ (LATIN LETTER GLOTTAL STOP).\r\n\r\nBut what's the point of the replacement rules for the exclamation mark?\r\nBy using these rules, the usernames \"testǃ\" and \"test!\" are different usernames for phpBB.\r\nBut the usernames \"test?\" and \"testʔ\" are the same for phpBB and thus prohibited.\n---\n## References\n**JIRA Issue Key:** PHPBB-15427\n**Affects Versions:** 3.2.1, 3.2.2, 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-15427",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1",
      "3.2.2",
      "3.2.8"
    ]
  },
  {
    "title": "Better Management of Notifications",
    "body": "I've the mark read option, but I don't have the mark unread option as on PMs.\r\nWith mark unread option I would be able to select read notifications, right now I can't select read notifications unless I click on Mark All.\r\n\r\nAnd I should be able too of delete notifications.\r\n\r\nThis would bring a better notification system. Users could manage their notifications as they want.\r\n\r\nBest Regards\n---\n## References\n**JIRA Issue Key:** PHPBB-14604\n**Affects Versions:** 3.1.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-14604",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.8"
    ]
  },
  {
    "title": "Smilie PAK Installation → Installed Smilies Order Doesn't Match PAK File",
    "body": "*+What Is Occurring?\r\n +*I have 119 new Emoji to upload. They are ordered in the Smilie.PAK file according to how I would like them to be ordered on the forum. But after uploading the file, the order is broken in several areas. After [seeking support|https://www.phpbb.com/community/viewtopic.php?f=556&t=2527826], it was determined that the file order broke as soon as it encountered a differing value in the \"Display On Posting Page\" field.\r\n\r\nIf all values are set to '1' or '0', then the images will install (during PAK installation) in the proper order. The value of the first image establishes whether 1's or 0's will be expected in all images that come after it. As soon as phpBB encounters an image with an opposite setting in this field, then the order is disrupted; with one exception. I did an install where the first 54 files were set to '1' and the last 65 were set to '0'. The files displayed correctly.\r\n\r\n \r\n\r\n*+What Is The Expected Behavior?+*\r\n\r\nThe files should upload in the same order they are listed in the PAK file, regardless of their Display setting.\r\n\r\n \r\n\r\n*+Procedure+*\r\n 1. Deleted all files in [c]/images/smilies/[/c]\r\n 2. Uploaded images and PAK file to same location.\r\n 3. Installed through the ACP (Posting → Smilies), choosing the \"Delete All\" option during installation.\r\n\r\n \r\n\r\n+*Helpful Files*\r\n +_Note: Added files to Issue, but also linking to remote resources for convenience._\r\n # The [contents|https://pastebin.com/zN97pZhk] of my PAK file.\r\n # Smilies Listing in the ACP: [Part One|https://i.postimg.cc/7LRxPCpG/1-php-BB-ACP-Smilies-Page-1-Full.png], [Part Two|https://i.postimg.cc/DzRTk9X1/2-php-BB-ACP-Smilies-Page-2-Full.png], [Part Three|https://i.postimg.cc/sgNF7kKb/3-php-BB-ACP-Smilies-Page-3-Full.png]\r\n # Side-by-Side [Comparison|https://i.postimg.cc/Dztj5F94/side-by-side-comparison-final.png] (all 119 images)\n---\n## References\n**JIRA Issue Key:** PHPBB-16194\n**Affects Versions:** 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16194",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Redirection not followed when using OAuth",
    "body": "When a user logs in, or authenticates using the built in Oauth system of phpBB, the redirection URL is not followed nor included following the login process. A user could be in the middle of something and they will always be redirected to the forum main page.\r\n\r\nFixing this could be as easy as including the redirection to the Oauth provider when returning back to phpBB. This may add the vulnerability if the Oauth provider is not trusted and for some reason rewrites the redirection, but that seems unlikely.\n---\n## References\n**JIRA Issue Key:** PHPBB-15964\n**Affects Versions:** 3.2.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-15964",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "Update PHP mail() failure logging with additional information.",
    "body": "The current /includes/functions_messenger.php logging for PHP mail() failure currently looks similar to:\r\n{code:java}\r\nEmail error\r\n» EMAIL/PHP/mail()\r\n/forum/adm/index.php{code}\r\nWhich is \"accurate\" for what as failed in a technical sense, but not for the phpBB operator who needs to understand what has been affected.  With the phpBB SMTP code we have an elaborate and helpful trace of the entire conversation, and if we made it that far, even the subject line and recipient of the email attempting to be sent.\r\n\r\nSuggest that we improve the PHP mail() logging, or maybe even all of the email failure logging, to ensure that \"what was the subject line of the message\" (i.e. has a topic notification failed, has an administrator notification failed, has a personal email request failed, etc., which also confirms which template content would have been used) and \"to whom was the message being sent\" (which might relate to the failure, but at least imparts knowledge of whom hasn't received their email as intended) is always included in the error log.\r\n\r\nEven though we're unable to log \"what went on inside the PHP mail() function itself\", we could still be more helpful to the phpBB administrator who is looking at their error log after the fact and needing to determine what is failing.\r\n\r\nBonus points for define DEBUG causing us to log the actual headers and data generated for the email, even in the PHP mail() case.\n---\n## References\n**JIRA Issue Key:** PHPBB-16179\n**Affects Versions:** 3.2.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-16179",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "The addition of signature in the post details can be improved...",
    "body": "Thank you for adding \\{SIGNATURE} variable in php files related to MCP (since phpBB 3.2.4)...\r\n\r\nHowever, I think you can improve that feature:\r\n * if a signature is not attached to a post, the poster's signature is not displayed in viewtopic.php, and should be not displayed in the post details too.\r\n * The same logic should be applied in MCP queue or reports, if the reported post didn't contain a signature at the time someone reported the post (just like the reported text is the text at the time someone reported the post, regardless the future edits)\r\n * You can imagine someone reports a post because of an inappropriate signature. If the post author or anyone else changes the signature after the reporting, the former signature no longer exists, even in the report *[this can be definitely considered as a bug!]*. Whereas the reported text will be still in the report, regardless the future edits.\n---\n## References\n**JIRA Issue Key:** PHPBB-16173\n**Affects Versions:** 3.2.4, 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16173",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.4",
      "3.2.8"
    ]
  },
  {
    "title": "Ban events should be included in the latest 5 logged actions",
    "body": "In 'Main >>> Front page' of Moderator Control Panel, you can see the latest 5 posts awaiting approval, the latest 5 reports, the latest 5 PM reports and the latest 5 logged actions.\r\n\r\nOddly, the ban events are never included in these latest 5 logged actions, whereas the moderators can see them in the complete Moderator logs.\r\n\r\nIs it possible to make the ban events visible in the short moderator log? If a ban event is among the latest 5 moderation actions, it should be displayed in the Main >>> Front page of MCP.\n---\n## References\n**JIRA Issue Key:** PHPBB-15196\n**Affects Versions:** 3.1.10, 3.2.0, 3.2.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-15196",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0",
      "3.2.8"
    ]
  },
  {
    "title": "Adding the possibility to search directly within a category (and its subforum)",
    "body": "Consider a board where the search feature is enabled (the default setting).\r\n\r\n \r\n\r\nWhen browsing within a forum, there is a search box to directly search keywords inside that forum. But that search box is missing when you are browsing within a category (even if it has subforums, not an empty category).\r\n\r\n \r\n\r\nHowever, you CAN search within a given category (and its subforum) in the Advanced Search.\r\n\r\n \r\n\r\nSo, why not adding the searchbox in viewforum.php when you're browsing inside a category?\n---\n## References\n**JIRA Issue Key:** PHPBB-15615\n**Affects Versions:** 3.2.2, 3.2.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-15615",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2",
      "3.2.8"
    ]
  },
  {
    "title": "Categories can be visible on the index page, without any icon",
    "body": "If these conditions are met:\r\n * there are a category and its subforum, both are +inside another category located on the index+ (the first category is thus a \"subcategory\").\r\n * the guest or a given user cannot see that subforum, although that latter exists (due to permissions).\r\n\r\nHe or she can see the category on the index page (the category should be invisible, just like a category without any forum) and no forum image is display. I didn't detect that bug with viewforum.php (e.g. if you look inside a category with a such subcategory), only with index.php.\r\n\r\n \r\n\r\nThe bug seems to be not style-related, I encountered that not only on prosilver or other board styles using the forumlist_body.html template file.\r\n\r\n \r\n\r\nI attached two screenshots below.\r\n\r\n \r\n\r\nEDIT: the bugs also appears on index.php if there are three empty categories (a category located at the index, the second category located inside the first one and, finally, the third category located inside the second one).\n---\n## References\n**JIRA Issue Key:** PHPBB-16116\n**Affects Versions:** 3.2.7, 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16116",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.7",
      "3.2.8"
    ]
  },
  {
    "title": "Refactor viewforum script logic to services",
    "body": "This ticket is a sub-task of moving viewforum to controllers.\n---\n## References\n**JIRA Issue Key:** PHPBB-16165\n",
    "type": "Feature",
    "jira_key": "PHPBB-16165",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": []
  },
  {
    "title": "Get the error message \"The post you requested does not exist.\" after you deleted it",
    "body": "If you go to the post via *viewtopic.php*, you can click on the info button to get post details.\r\n\r\n \r\n\r\nThen (mcp.php), you can edit the content, change the poster, lock the post to prevent any further editing (except by a moderator) or delete it. If you choose to erase the post, you can decide to actually remove the post from the database or just hide it from the normal users.\r\n\r\n \r\n\r\nFinally, if you *permanently* delete the post, you'll eventually get an error message \"The post you requested does not exist\" instead of going back to a valid page (MCP for example). It's definitely a bug. That doesn't occur if you delete the post directly in the topic (viewtopic.php).\n---\n## References\n**JIRA Issue Key:** PHPBB-16164\n**Affects Versions:** 3.2.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-16164",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8"
    ]
  },
  {
    "title": "Length of ban should be mentioned in user feedback",
    "body": "When handing a ban to a user, a note is added to the user's feedback feed, along with the internal reason that was given for the ban.\r\n\r\nIt would be extremely useful to also add then length of a ban, so mods can check afterwards how long previous bans were.\n---\n## References\n**JIRA Issue Key:** PHPBB-15985\n**Affects Versions:** 3.2.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-15985",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "ACP mass email feature suboptimal workflow",
    "body": "Mass email feature workflow in ACP can take significant amount of resources when using email queue. What happens:\r\n\r\nIf \"Send immediately\" checkbox is unchecked, everything is dumped to the /cache/queue.php cache file.\r\n\r\nFor every email package (depending on \"Email package size\" setting value) it dumps a chunk (in serialized form): addresses list, email headers, email subject, full email text (note that the text is the same for every user/chunk). So, you get as many chunks as: Number of users to send / Email package size.\r\n\r\nThen the board cron reads the full queue.php file (never minding the size it could be), unserializes it, takes the chunk, sends it, serializes the rest of queue and dumps it back to the queue.php file.\r\n\r\nThis happens in a loop until the queue is empty.\r\n\r\nThis workflow is very suboptimal for more or less many registered users (imagine some board having f.e. 10 000 users and Email package size of 10-20, you get 500-1000 chunks; if a chunk is big, you can get problems with the board/server operation).\r\n\r\n \r\n\r\nSuggestion is to redo the workflow in a way it wouldn't duplicate at least the same email text for every user/chunk in the queue.\n---\n## References\n**JIRA Issue Key:** PHPBB-16145\n**Affects Versions:** 3.2.8, 3.3, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16145",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.8",
      "3.3",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Client side image attachment resize is not always working",
    "body": "I (as recently arrived admin) enabled image upload re-size by setting ACP to 1280 x 900 pixels. (was formerly 0x0 or no resize).\r\n\r\nUpload limit is set to 200KB if no resize occurs.\r\n\r\nWhat I and forum members are finding is that re-size does not always occur and if the native size of the image is greater that 200KB then we get an attach error (yellow triangle)\r\n\r\nThe issue is browser dependent and device dependent.\r\n\r\nAt one stage using Safari browser Version 12.1.2  on Mac OSX 10.14.46 no issue with photos of 6MB down. Now (a few days later) and all image attachments get the yellow triangle that when clicked states that images must be 200KB or lower. Chrome browser Version 76.0.3809.100 on the same operating system has no issue uploading a 6MB image - the image being dropped in size to approx 223KB.\r\n\r\nWindows 10 pro offers the same inconsistency.\r\n\r\nMobile devices also provide very random results. My iPhone 7 plus seems limited at 2.2MB- nay higher and unable to load. Android 6.1 running on old Nexus 7 tablet has no issue with 6MB files.\r\n\r\nI suspect a server side issue - resource issue - but the issue seems to be independent of server load.\n---\n## References\n**JIRA Issue Key:** PHPBB-16130\n**Affects Versions:** 3.2.7\n",
    "type": "Bug",
    "jira_key": "PHPBB-16130",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.7"
    ]
  },
  {
    "title": "CLI: Missing langkeys for extension commands",
    "body": "Hi,\r\n\r\nIn CLI when we tried to install/remove/manage extensions and if it fails, the following langkeys are expected:\r\n * EXTENSIONS_NOT_INSTALLED\r\n * EXTENSIONS_ALREADY_MANAGED\r\n * EXTENSIONS_ALREADY_INSTALLED_MANUALLY\r\n\r\nBut they don't exist (see screenshot).\r\n\r\n!file:///C:/Users/Mario/AppData/Local/Temp/snap_screen_20180922231253.png!\n---\n## References\n**JIRA Issue Key:** PHPBB-15802\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15802",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Use group\\helper to generate group name with proper colour and URL",
    "body": "Currently we display group names and links in an inconsistent way. There should be a method that outputs group name with it's colour and presumably also URL just like we do with usernames (get_username_string)\n---\n## References\n**JIRA Issue Key:** PHPBB-15807\n",
    "type": "Feature",
    "jira_key": "PHPBB-15807",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Add core event display_user_activity_modify_sql to functions_display.php",
    "body": "Allows the sql queries that fetch most active topic and forum to be modified.\r\nThese queries are only run when viewing a user's profile page.\r\nYou can exclude posts with certain parameters this way.\n---\n## References\n**JIRA Issue Key:** PHPBB-15880\n**Affects Versions:** 3.2.4\n",
    "type": "Feature",
    "jira_key": "PHPBB-15880",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.4"
    ]
  },
  {
    "title": "Update the notification email and subscription systems to be RFC2369 and RFC8058 compliant",
    "body": "I have recently had a significant problem with Microsoft mail services (hotmail.com, outlook.com, live.com, btinternet.com and others) not accepting emails from our phpBB server. Microsoft have told me it was due to too many users marking our emails as junk.  It happens that the particular host that was blocked sends ONLY phpBB notifications, and no other email.\r\n\r\nAs part of the process of getting the block removed, I had to put hand on heart and say that our server complies with all of the Microsoft email sender policies, which as of phpBB 3.2.7, it does not.\r\n\r\nI am thinking of making some improvements to the phpBB notification email system, broadly to achieve the goals:\r\n1.  Implement improvements to the notification email system to meet the requirements imposed by major email providers such as Google and Microsoft\r\n2.  Full compliance with RFC2369 and RFC8058\r\n3. Implement (optional) handling of bounced emails, with automatic suspension of email notifications to affected users.\r\n\r\nThere are some other improvements that would be nice to have, but not essential in this context:\r\n4. Allow easier customisation of notification emails by storing the templates (corresponding to installed language packs) in the database and providing a UI for editing them.\r\n5. Allow board admins to view a user's subscriptions and unsubscribe them where necessary.\r\n6. Improve the ability to configure sender and reply-to email addresses for a phpBB board.\r\n\r\nRFC2369 is the standard for URLs used for the control of mailing lists.  phpBB is currently partially compliant.\r\nRFC8058 is the standard for 1-click unsubscription from mailing lists, phpBB is currently not compliant at all.\r\n\r\nIn order to meet the applicable parts of RFC2369 and RFC88058, the main new requirements are:\r\n* A new RFC8058 email header.\r\n* Email headers protected by a DKIM signature (done in the smtp host not phpBB , but relevant).\r\n* The phpBB board to provide an unsubscribe URL that for http:// GET requests takes the user to a page where they can easily confirm the they wish to unsubscribe, but an http:// PUSH to the same url results in a 1-click unsubscription without user confirmation.\r\n* The phpBB board needs to honour unsubscribe requests without requiring a user to log-in (or be logged-in) to the forum, this precludes using the existing UCP pages which require the user to be logged-in.\r\n* The unsubscribe links must be sufficiently protected to prevent malicious use of the unsubscribe system.\r\nMicrosoft have a requirement that a server should stop sending emails to an email address after multiple delivery failures.  This requires phpBB to receive email bounce notifications, but it is not difficult to configure an external service to convert unsubscribe emails to http:// requests for this purpose.\r\nIn addition, some Microsoft email services do not support 1-click unsubscribe via http://, they only support it via mailto://,  but as above that is not too difficult to have an external service convert the transport mechanism\r\n\r\nI have prototyped a phpBB extension to implement some of the above (mainly RFC2369 and RFC 8058 compliance), but I am not happy with it as an extension, as I don't think that RFC compliance should be an optional feature, and the current notification email template system does not really have any mechanism that allow extensions to interact with email templates, which makes the extension really ugly.  So I am proposing that some or all of the above are implemented as enhancements to core phpBB.\n---\n## References\n**JIRA Issue Key:** PHPBB-16099\n**Affects Versions:** 3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-16099",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Allow template events to work outside of extensions",
    "body": "It is currently possible to create a custom style where most of the style is inherited and minor changes are made to it by board owners. This makes it easy to insulate future changes to the inherited style from minor overrides in the custom style.\r\n\r\nThe same is not true with template events. One cannot create a /template/event folder under the custom style and use any template events. You have to write an extension to do this, something likely beyond the technical capabilities of board owners. The alternative is to copy templates from the inherited style to the custom style and make changes there. However, templates in the inherited style will change over time. A board owner will have to periodically look at the differences in their template against the inherited template and make changes accordingly.\r\n\r\nHowever, if phpBB allowed use of these template events in custom styles outside of an extension, it would address this particular issue since many changes will be tied to template events. It's a common pattern to add code like additional <link> and <script> tags to events to do things like add tracking code not supported by an extension or to add additional links to the navigation bar. I suggest this functionality should be built into phpBB.\n---\n## References\n**JIRA Issue Key:** PHPBB-16088\n**Affects Versions:** 3.2.7\n",
    "type": "Feature",
    "jira_key": "PHPBB-16088",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.7"
    ]
  },
  {
    "title": "Allow regular users to add a reason for editing their posts",
    "body": "Currently a regular user is not allowed to enter a reason for editting.\r\nThis is enforced by posting.php as only m_edit permissions are being checked.\r\n\r\nThis makes the feature not available to non-moderator users in any case.\r\n{code:php}\r\n'S_EDIT_REASON'\t\t\t\t=> ($mode == 'edit' && $auth->acl_get('m_edit', $forum_id)) ? true : false,\r\n{/code}\r\nhttps://github.com/phpbb/phpbb/blob/master/phpBB/posting.php#L1796\r\n\r\nInstead why not add the permission level u_edit_reason to allow users to enter a reason for changing their post?\n---\n## References\n**JIRA Issue Key:** PHPBB-14926\n**Affects Versions:** 3.1.10, 3.2.0-RC1, 3.2.0-RC2\n",
    "type": "Feature",
    "jira_key": "PHPBB-14926",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0-RC1",
      "3.2.0-RC2"
    ]
  },
  {
    "title": "config.php not converted to fit major releases",
    "body": "While using the \"new\" suggested method for upgrade from release to release the config.php file isn't converted to the new standards by the DB updaters causing issues.\r\n\r\nThe config.php file must be kept in place in order this method to be used. Right or wrong.\r\n\r\nSee for example: https://www.phpbb.com/community/viewtopic.php?f=556&t=2405681\n---\n## References\n**JIRA Issue Key:** PHPBB-15054\n**Affects Versions:** 3.1.10, 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15054",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Awaiting Information",
    "affects_versions": [
      "3.1.10",
      "3.2.0"
    ]
  },
  {
    "title": "LDAP / \"Edit account settings\" page",
    "body": "Steps:\r\n # Set up LDAP authentication\r\n # Log in with an LDAP user for the first time\r\n # Change the user's password in LDAP\r\n # Go the UCP / Profile / Edit account settings\r\n # Enter the new LDAP password and click Submit\r\n\r\nExpected result:\r\n * Settings are saved.\r\n\r\nGotten result:\r\n * \"You have entered an incorrect password...\"\r\n\r\nFurther information:\r\n * Logging in with the new password works fine, it's just the \"Edit account settings\" page\r\n * Logging out and back in doesn't help resolve the issue\r\n * The old password still works on the \"Edit account settings\" page\r\n * The password can be updated to the new one manually by using the old password\r\n\r\n \r\n\r\nThank you for your help and for the great software!\n---\n## References\n**JIRA Issue Key:** PHPBB-16028\n**Affects Versions:** 3.2.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-16028",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "phpBB Requirements",
    "body": "Currently the requirements for phpBB in regard to PHP, MySql etc state the minimum version \"and above\".\r\n\r\n \r\n\r\nTo avoid confusion where versions of these software packages are released regularly and quite often after a release of phpBB it would be better if an upper version that phpBB has been tested with was quoted\n---\n## References\n**JIRA Issue Key:** PHPBB-16014\n**Affects Versions:** 3.2.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-16014",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "MySQL Fulltext search index slows update to unworkable levels on large-ish forums",
    "body": "I filed this as a bug and not an improvement only because of how severe the slowdown is.\r\n\r\nThe starting point is a 3.0.x install with >5,000,000 posts using MySQL Fulltext as the search backed. Will switch to Sphinx after the update, but the search is surprisingly speedy on MySQL Fulltext.\r\n\r\nFor schema changes, if there is a Fulltext index on the table, InnoDB will create a new empty table with the new schema and then copy all the data to it, rebuilding the index.\r\n\r\nDuring the update, the following queries were run:\r\n{code:java}\r\nALTER TABLE `phpbb_posts` ADD COLUMN `post_visibility` tinyint(3) DEFAULT '0' NOT NULL\r\nALTER TABLE `phpbb_posts` ADD COLUMN `post_delete_time` int(11) UNSIGNED DEFAULT '0' NOT NULL\r\nALTER TABLE `phpbb_posts` ADD COLUMN `post_delete_reason` varchar(255) DEFAULT '' NOT NULL{code}\r\n\r\nWith the index in place, each query takes between 12 and 24 hours to complete. Without the index, it takes ~4 minutes\r\n{code:java}\r\nInstalling Schema: \\phpbb\\db\\migration\\data\\v310\\softdelete_p1; Time: 192.13 seconds\r\nInstalling Schema: \\phpbb\\db\\migration\\data\\v310\\softdelete_p1; Time: 202.60 seconds\r\nInstalling Schema: \\phpbb\\db\\migration\\data\\v310\\softdelete_p1; Time: 201.58 seconds{code}\r\n\r\nSo the perfect solution is that for forums over a certain size that use Fulltext, if the update changes the posts table, we drop the index and then either rebuild it or probably just instruct the admin to rebuild it after. Another option is to warn the admin it will take forever otherwise and instruct them to drop the index manually and then recreate it after.\n---\n## References\n**JIRA Issue Key:** PHPBB-15968\n**Affects Versions:** 3.2.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-15968",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "Two small issues regarding the attachment list in UCP",
    "body": "This is something that is not that obvious in English but it is obvious in Czech, for example, and I assume it applies to other languages as well.\r\n - In UCP/Overview/Manage attachments, there is a list of user’s attachments.\r\n - Above this list, there is a string that says “X attachments” – even though there is only one attachment in the list.\r\n\r\nThis string is taken from [language folder]\\common.php\\NUM_ATTACHMENTS which seems all right, but it does not take into account the real number of attachments and uses only plural (in Czech it uses only the second plural form out of two plural forms). The string should take into account the real number of attachments and use the appropriate plural form if there are more of them in that language.\r\n - Below this list, there is a string that says „X Attachments“ – even though there is only one attachment in the list, and there is also an „A“ used unlike the first issue.\r\n\r\nThis string is taken from [language folder]\\ucp.php\\UCP_ATTACHMENTS and that seems wrong. The same string is also used in the title of the page displayed on the browser’s tab and in the heading of this page which is correct. But below the list, probably an appropriate string from [language folder]\\common.php\\NUM_ATTACHMENTS should be used as well. But it would also has to be seen to it that there won’t be displayed two numbers here then because “ucp.php\\UCP_ATTACHMENTS” does not contain any number while “common.php\\NUM_ATTACHMENTS” already contains “%d”.\n---\n## References\n**JIRA Issue Key:** PHPBB-15952\n**Affects Versions:** 3.2.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-15952",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "Notification DropDown -- notifications by moderators should be clickable and open the See ALL page.",
    "body": "There seems to be an issue the way the Notification DropDown feature (see picture below) behaves when the member receives a moderation notification (like when their post gets denied when they are in the Newly Registered User group).\r\n\r\nIf the message for their post denial is long, all they see is a cropped single line...  But when they try to click on the notification to read the entire message, it doesn't do anything.\r\n\r\nI think we ought to change this function.  They should be clickable and it should open the \"See All\" page in their UCP.  Because even though that link is found on the footer of the Notification dropdown, they don't know that offers them the ability to see the full messages.\n---\n## References\n**JIRA Issue Key:** PHPBB-15930\n**Affects Versions:** 3.2.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-15930",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "COPPA buttons don't make sense",
    "body": "Would just like to point out how the text of the COPPA buttons don't actually make any logical sense. Would like to point you to this topic,\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411]\r\n\r\nand specifically to these two posts,\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411#p14476191]\r\n\r\nand\r\n\r\n[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411#p14476251]\r\n\r\nThanks.\n---\n## References\n**JIRA Issue Key:** PHPBB-15882\n**Affects Versions:** 3.2.4\n",
    "type": "Feature",
    "jira_key": "PHPBB-15882",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.4"
    ]
  },
  {
    "title": "Local avatar driver may return invalid URLs for <img src>",
    "body": "phpbb\\avatar\\driver\\local::get_data returns $row['avatar'] as-is, but this value is not URL encoded, so is not technically valid in an <img src> attribute if the avatar file path contains characters not allowed in a URL without encoding (e.g. a space).\r\n\r\nFixing PHPBB3-15865 by URL encoding the avatar key returned by local::process_form, and adding a migration to encode any existing non-URL-encoded values in the database, would also fix this bug.\n---\n## References\n**JIRA Issue Key:** PHPBB-15866\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15866",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "Local avatar driver CHECKED value is wrong due to mismatched URL encoding",
    "body": "In phpbb\\avatar\\driver\\local, $img['file'] and $row['avatar'] are compared to determine whether or not a given local avatar is the current user’s avatar. $img['file'] is partially URL encoded and $row['avatar'] is not, so these comparisons fail whenever the avatar’s filename or path contains characters that are not in the range [0-9a-fA-F_.~-].\n---\n## References\n**JIRA Issue Key:** PHPBB-15865\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15865",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "Bad check on poll_title causes <t></t> to render in poll question field when editing a post without a poll question",
    "body": "posting.php:1673 includes this check when deciding whether or not to run the message decoder on the poll title: {{!$bbcode_utils->is_empty($post_data['poll_title'])}}. Checking whether the _formatted_ poll title is empty and doing nothing if so means that “empty” poll titles get sent to templates as the encoded text <t></t>. Either there should be an else-condition that sets $post_data['poll_title'] to the empty string, or there is some earlier condition which is failing which is supposed to do that already (there are a lot of earlier isset-checks on the poll_title field).\n---\n## References\n**JIRA Issue Key:** PHPBB-15856\n**Affects Versions:** 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15856",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.3"
    ]
  },
  {
    "title": "Revamp PM to chat based (GSoC 2018)",
    "body": "* New classes for all elements\r\n * Twig instead of standard templates\r\n * Change font colour for unread messages\r\n * Width of message-title panel is 35%\n---\n## References\n**JIRA Issue Key:** PHPBB-15682\n**Affects Versions:** 3.3\n",
    "type": "Task",
    "jira_key": "PHPBB-15682",
    "jira_type": "Sub-task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Unique group and user names only partially enforced & ambiguously reported.",
    "body": "functions_user.php reports USERNAME_TAKEN_USERNAME if the new user being created matches an existing user name OR and existing group name.\r\n\r\nWhen matching the group name, a group-specific error message should be reported, since this collision is likely the first introduction the administrator has to the idea that the names must be unique across both tables.\r\n\r\ne.g. Define and return USERNAME_TAKEN_GROUPNAME as \"The username you entered is already in use as a group name, please select an alternative.\"  Otherwise the administrator is left to search their user list for this phantom \"duplicate user name\".\r\n\r\nIn acp_groups.php, under the premise that group names and user names ARE supposed to be unique across both tables, there is no check being performed to ensure uniqueness across both tables when creating a new group.\r\n\r\nMeaning functions_user.php stops me from creating a user named \"Banned\" if a group named \"Banned\" already exists.  But acp_groups.php DOES NOT stop me from creating that same condition, by creating a group named \"Banned\" if a user named \"Banned\" already exists.\n---\n## References\n**JIRA Issue Key:** PHPBB-15843\n**Affects Versions:** 3.2.2, 3.2.3\n",
    "type": "Bug",
    "jira_key": "PHPBB-15843",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2",
      "3.2.3"
    ]
  },
  {
    "title": "Migrator drops table before reverting child migrations",
    "body": "I added a [migration C|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/v30x/m16_add_block_view_field.php] that depends on [migration A|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/v20x/m1_initial_schema.php]. [Migration B|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/converter/c4_convert_primetime_data.php] also depends on migration A. Migration A is the initial schema that adds all the necessary tables, (including the sm_blocks table), and also has the instructions to drop the tables when purging the extension. Migration C modifies the sm_blocks table by adding a column and removing another, and also has revert_schema to undo the changes as it is recommended to do.\r\n\r\nEverything works fine except when you decide to purge the extension. For whatever reason, migration A is reverted before migration C. So sm_blocks table is dropped before the changes introduced by migration C are reverted, resulting in a database error, which prevents the extension from being purged. At this point, the extension cannot be purged, and it cannot be re-enabled since the sm_blocks table no longer exists.\r\n\r\nDoing further research on this shows that the migrations are loaded correctly (i.e.migration B runs, then C, and then A) when purging but the purge step for migration A drops the first table, sm_blocks, then it goes back and starts with migration B, then C again, and this time, because the sm_blocks table was previously deleted, we get an error.\r\n\r\nI found that I can fix the issue by making migration C depend on migration B instead of A (which doesn't make sense) or by removing the revert_schema method from migration C but migration validation policy recommends providing instructions to revert any schema changes. Granted, you could also say let the extension author figure this out and use if conditions in the revert_schema method to avoid this issue, so we only revert if the table exists, but I think phpBB needs to handle these better.\r\n\r\nI tried looking at the migrator and changing the order in which it reverts migrations but that seemed to complicated. The easiest option, I think, is to have db_tools verify that the table actually exists before trying to modify its columns, etc. I will provide a pull request for this shortly...\n---\n## References\n**JIRA Issue Key:** PHPBB-15397\n**Affects Versions:** 3.2.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15397",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "Memberlist showing first letter key in Latin only",
    "body": "Memberlist showing first letter key in Latin only, even in board has a default language using non Latin letters, It also showing letter do not have any members start with .\r\n\r\nSo first letter key must come only form users table\n---\n## References\n**JIRA Issue Key:** PHPBB-15667\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15667",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "Allow dynamic services files loading for extensions",
    "body": "Suggesting to allow loading all services_*.yml files located in extensions' config directory.\r\n\r\nThis could make extending extensions (f.e. just like AutoGroups allows) as easy as dropping some files (.php and .yml to define additional services) into extension directory without having to edit the 'main' services.yml file.\n---\n## References\n**JIRA Issue Key:** PHPBB-15790\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15790",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Style management should be available through cli",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15167\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15167",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Allow exceptions in ACP",
    "body": "From #phpbb-coding, we should allow exceptions in the ACP for extensions. Nicofuma requested a ticket.\r\n{code:java}\r\n[2018-07-29 12:33:55] <Nicofuma> rubencm, kinerity|phone: do you remember if we have a ticket about that? we should handle any exception thrown there[2018-07-29 12:35:14] <Nicofuma> the goal is to get ride of trigger_error so...[2018-07-29 12:42:34] <kinerity|phone> I believe there was talk of moving the ACP to Symfony[2018-07-29 12:42:44] <kinerity|phone> That would allow exceptions[2018-07-29 12:50:51] <Nicofuma> yep but it's gonna take a lot of time[2018-07-29 12:51:05] <Nicofuma> and I don't think we need that to allow exceptions[2018-07-29 12:51:20] <Nicofuma> there is already many places using them in the ext manager[2018-07-29 12:53:06] <kinerity|phone> Ah, well if it can be done, I think it would be beneficial. I'm not home right now, but do you want me to create a ticket later?[2018-07-29 12:56:48] <Nicofuma> yes please\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-15734\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15734",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "Allow to show catcha on login always",
    "body": "The ACP option: Maximum number of login attempts per username\r\n\r\nDon't allow to chose 0, because is reserved to disable it.\r\nI think -1 should be reserved to disable the antispam, and 0 to enable it for everyone.\n---\n## References\n**JIRA Issue Key:** PHPBB-15685\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15685",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Revamp PM to chat based",
    "body": "## References\n**JIRA Issue Key:** PHPBB-15681\n**Affects Versions:** 3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-15681",
    "jira_type": "New Feature",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "BBCode parsing in user notes",
    "body": "It would be nice if the user notes could be parsed using BBCode. I've run into several instances where this would be beneficial (especially if copying posts/pms for reference). I thought about doing this as an extension, but failed each time.\n---\n## References\n**JIRA Issue Key:** PHPBB-15652\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15652",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "In my language \"%1$.1f\" should become number with comma (12,3 not 12.3)",
    "body": "In the translation files for my language (da) we have strings that contain \"%1$.1f\".\r\n\r\nIn english this might become \"12.3\" with a \".\".\r\nBut in my language is should become \"12,3\" with a \",\".\r\n\r\nThis can be changed with PHP's setlocale() funtion like if you put this line at the top of /phpBB3/language/da/common.php:\r\nsetlocale(LC_ALL, 'da_DK.UTF-8');\r\n\r\nI dont see the ability to set PHP's setlocale function in phpBB3 is this correct?\r\nWhat is the correct way to fix this?\r\n\r\nSadly the string to use \"da_DK.UTF-8\" is different from system to system so there is not just one string that works for all, but you can use multiple string and check the return value to see if it was accecpted.\r\n\r\nSo you could have:\r\n$returnvalue = setlocale(LC_ALL, 'da_DK.UTF-8', 'Danish_Denmark.1252', 'danish_denmark', 'danish', 'dk_DK@euro');\n---\n## References\n**JIRA Issue Key:** PHPBB-14647\n**Affects Versions:** 3.1.9\n",
    "type": "Feature",
    "jira_key": "PHPBB-14647",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "JS Attachment size wrong in PM",
    "body": "The plupload uploader uses only one max_file_size variable in it's config. It's the one defined in ACP > Borad Configuration  > Attachment settings > Maximum file size.\r\n\r\nIn the same Attachment settings page, there's another field called `Maximum file size messaging`, that's expected to limit the size of the files attached to PMs.\r\n\r\nWhen trying to upload a file in a PM, if the file gets over the `Maximum file size` setting, but it is below the `Maximum file size messaging` setting, an error alert will be shown.\r\n Same, if the `Maximum file size` is above, and `Maximum file size messaging` is below the file size, JS won't show the alert to notify the user that the file is too big.\r\n\r\nSteps to reproduce:\r\n # Make sure JS is on in your browser.\r\n # Go to settings, and make sure that General > Private message settings > `Allow attachments in private messages` is set to \"Yes\".\r\n # Go to settings, and set: General > Attachment settings > `Maximum file size` to 5 Bytes.\r\n # Go to settings, and set: General > Attachment settings > `Maximum file size messaging` to 512 MegaBytes.\r\n # Go to PM, try writing a new message, go to attachments, and attach a file.\n---\n## References\n**JIRA Issue Key:** PHPBB-15599\n",
    "type": "Bug",
    "jira_key": "PHPBB-15599",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Translate AM/PM in time format",
    "body": "Previous Discussion in https://www.phpbb.com/community/viewtopic.php?f=79&t=2445296\n---\n## References\n**JIRA Issue Key:** PHPBB-15556\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15556",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "Drafts for postings get corrupted in user control panel",
    "body": "When saving a draft from the normal post editor and then opening it in the user control panel it gets corrupted with weird tags.\r\n\r\nSteps to reproduce:\r\n\r\n1) Login as administrator/administrator at [http://www.try-phpbb.com/32x]\r\n\r\n2) go to the only forum, click \"new topic\" and write a post containing at least two words (do not submit), my sample posting:\r\n\r\n \r\n{noformat}\r\nSave my draft.\r\n:mrgreen:\r\n{noformat}\r\n3) click \"safe draft\" and confirm\r\n\r\n4) go to user control panel, click \"manage drafts\"\r\n\r\n5) open the draft and see this in the editor:\r\n{noformat}\r\n<r>Save my draft.<br/>\r\n <E>:mrgreen:</E></r>{noformat}\r\n \r\n\r\nThe editor should not contain these tags.\r\n\r\nI noticed: If you edit and save the draft within the user control panel the tags are gone.\r\n\r\nUpon further investigation the problem seems to be, that the drafts are saved this way:\r\n\r\n$message_parser->message\r\n\r\nin posting.php line 722\r\n\r\nbut ucp_main.php does not use the message_parser to load or save the drafts.\n---\n## References\n**JIRA Issue Key:** PHPBB-15555\n**Affects Versions:** 3.2.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-15555",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "A wrong direction for text boxs contain code in RTL forums",
    "body": "In RTL forums text boxes inherits rtl direction from the <body> tag, but some of them contain: code, email, directory or URL data, which must be written in Latin Script and ltr direction.\n---\n## References\n**JIRA Issue Key:** PHPBB-15393\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15393",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "`Terms of Use` must be configured by ACP",
    "body": "`Terms of Use` now is given by the Language Pack, Admin can edit it by editing Language file `ucp_register.php` and upload the edited file to his right place, When Updating the board Admin edits of `Trems of Use` will lost if he replaces the old files by the new version files, If the default language is either than English, This is usually happened.\r\n\r\nSo `Terms of Use` must be a ACP config not a language file key, So any admin can edit it (even he has not a programing skills), It will be saved when updating the board or the language pack.\n---\n## References\n**JIRA Issue Key:** PHPBB-15519\n**Affects Versions:** 3.2.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-15519",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.2.2"
    ]
  },
  {
    "title": "Install all styles from styles folder during install",
    "body": "Instead of hardcoding the prosilver style data in schema_data, i think it should be installed automaticaly when installing, like extensions does.\r\nThis will allow users to create their forums with a different style to prosilver, even with multiple styles without having to install them manually.\n---\n## References\n**JIRA Issue Key:** PHPBB-15182\n**Affects Versions:** 3.3\n",
    "type": "Feature",
    "jira_key": "PHPBB-15182",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Failure to clear topic notifications when topic is visited after unread posts are deleted",
    "body": "A user may choose to receive both notifications and email for new posts to subscribed topics. In that case, when a new post is made, and the user does not have an unread notification for that topic, an email is sent.\r\n\r\nThe email contains a link that will, when clicked, take the user to the first unread post and mark the notification read. In fact, if the user simply visits the topic the notification is marked read; the user does not specifically ask for unread posts.\r\n\r\nHowever, suppose a post is made, and the notification (or notification and email) is created, and then the post is deleted. In that case, visiting the topic will not mark the notification \"read\". The notification remains unread until the user clicks on the notification itself in the notification list. And while the notification  remains unread no further emails will be sent for posts to that topic. This can cause users to lose track of subsequent new posts.\r\n\r\nThis is the one situation, as far as I can see, where visiting a topic will not clear a notification for that topic. If visiting a topic suffices to clear the notification  when unread posts still exist, it should also suffice when unread posts no longer exist.\n---\n## References\n**JIRA Issue Key:** PHPBB-15421\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15421",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "MCP handles delete permissions inconsistently",
    "body": "In 3.2.1, for a moderator to have an option to mass soft delete posts from MCP this moderator has to have a hard delete permission. Meanwhile, soft delete of each post separately (from the topic itself, not from the MCP) works fine even if the same moderator has no hard delete permissions. \r\n \r\n In other words, a moderator can (soft) delete posts from a topic by clicking a delete button on each posts, but they cannot bunch (soft) delete many posts at once from MCP of this topic.\r\n \r\nSuggested fix: in includes/mcp/mcp_topics.php find:\r\n{code:java}\r\n        'S_CAN_DELETE'        => ($auth->acl_get('m_delete', $topic_info['forum_id'])) ? true : false,{code}\r\nreplace with\r\n{code:java}\r\n        'S_CAN_DELETE'        => ($auth->acl_get('m_softdelete', $topic_info['forum_id'])) ? true : false,{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-15458\n**Affects Versions:** 3.2.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15458",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "Support bbcode on user feedback",
    "body": "It would be extremely handy if bbcode is supported in user feedback.\r\n\r\nWe tend to put quoted posts in there, but the bbcodes are not parsed in the feedback list.\n---\n## References\n**JIRA Issue Key:** PHPBB-15399\n**Affects Versions:** 3.2.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15399",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "Feature detection to identify browsers instead of user-agents detection",
    "body": "The browser identification in editor.js relies on user-agents string. That detection method is highly unreliable, since many browsers can offer the ability to falsify that string.\r\n\r\n \r\n\r\nHere are two outdated pieces of code from editor.js :\r\n\r\n \r\n{code:java}\r\nvar clientPC = navigator.userAgent.toLowerCase(); // Get client info\r\nvar clientVer = parseInt(navigator.appVersion, 10); // Get browser version\r\n\r\nvar is_ie = ((clientPC.indexOf('msie') !== -1) && (clientPC.indexOf('opera') === -1));\r\nvar is_win = ((clientPC.indexOf('win') !== -1) || (clientPC.indexOf('16bit') !== -1));\r\n{code}\r\n{code:java}\r\nif ((clientVer >= 4) && is_ie && is_win) {\r\n// Get text selection\r\ntheSelection = document.selection.createRange().text;\r\n{code}\r\n \r\n\r\nI suggest to replace them by...\r\n\r\n \r\n{code:java}\r\nvar is_ie = ((typeof document.all !== 'undefined') && (typeof window.opera === 'undefined'));\r\n{code}\r\n{code:java}\r\n if (document.all && document.uniqueID) {\r\n// Get text selection\r\ntheSelection = document.selection.createRange().text;\r\n{code}\r\nThe variables clientPC, clientVer and is_win are no longer needed.\r\n\r\nThe new definition of is_ie and the condition target the same browsers than previously (IE10 or older + IE11 in compatibility mode) by checking the presence of the nonstandard document.all object (not available in IE11 in standard mode, just like the string 'msie') and the other nonstandard object, document.uniqueID, is specific for IE in Windows.\n---\n## References\n**JIRA Issue Key:** PHPBB-15363\n**Affects Versions:** 3.1.11, 3.2.1\n",
    "type": "Task",
    "jira_key": "PHPBB-15363",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.11",
      "3.2.1"
    ]
  },
  {
    "title": "Some extensions are not enabled automatically during install",
    "body": "Extensions like board3/portal or phpbb/boardannouncements fails when the installer try to enable them\n---\n## References\n**JIRA Issue Key:** PHPBB-15128\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15128",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "editor.js: remove all html elements in \"theSelection\"",
    "body": "Please add the following line to remove all html elements in \"theSelection\":\r\ntheSelection = theSelection.replace(/<[^>]*>/ig, '');\r\n(please add it on line 207)\r\n\r\nThe reason is that you have a big problem if you use a javascript library which will replace your links.\r\nIn my case does a meta network rewrite my links.\r\nThe function doesn't work correctly anymore (you have html in the quoted message) because html are automatically inserted (all links will be rewritten -> also in the hidden message_element).\n---\n## References\n**JIRA Issue Key:** PHPBB-15335\n**Affects Versions:** 3.2.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15335",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "Orientation of Images",
    "body": "Phones, cameras and other devices often use the orientation flag in the EXIF meta data, For portraits the raw file data is flipped sideways but most browsers support this flag  and flip the image to the correct orientation.\r\n\r\nplupload handles this correctly when resizing client side and preserves the EXIF data. Thumbnails processed by phpBB have the EXIF data stripped and the browser orients the image based on the raw file, sideways if it's s portrait.\r\n\r\nhttps://www.phpbb.com/community/viewtopic.php?f=556&t=2434416#p14802971\r\n\r\nBoth Imagemagick and GD can handle this, for example if Imagemcick is selected for image manipulation on line 564 of includes/functions_posting.php if you add the -auto-orient flag you get the desired orientation for the thumbnail.\r\n\r\n{code}\r\n@passthru(escapeshellcmd($config['img_imagick']) . 'convert' . ((defined('PHP_OS') && preg_match('#^win#i', PHP_OS)) ? '.exe' : '') . ' -auto-orient -quality 85 -geometry ' . $new_width . 'x' . $new_height . ' \"' . str_replace('\\\\', '/', $source) . '\" \"' . str_replace('\\\\', '/', $destination) . '\"');\r\n{code}\r\n\r\n\r\nAFAIK Imagemagick should not be stripping the EXIF data to begin with, not sure why it is being stripped. Might be something to explore.\r\n\r\nFor GD to handle it correctly I believe the EXIF extension would need to be installed. I would propose a suitable solution may be having plupload handle thumbnail creation, that would avoid issues with server side compatibility.\n---\n## References\n**JIRA Issue Key:** PHPBB-15321\n**Affects Versions:** 3.2.1\n",
    "type": "Bug",
    "jira_key": "PHPBB-15321",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.1"
    ]
  },
  {
    "title": "MAX_THUMB_WIDTH_EXPLAIN needs to mention the height",
    "body": "The following i18n change was made:\r\n\r\n \r\n\r\n \r\n{code:java}\r\n-    'MAX_THUMB_WIDTH'                => 'Maximum thumbnail width in pixel',\r\n+    'MAX_THUMB_WIDTH'                => 'Maximum thumbnail width/height in pixel',{code}\r\n However, in this string:\r\n\r\n \r\n{code:java}\r\n'MAX_THUMB_WIDTH_EXPLAIN' => 'A generated thumbnail will not exceed the width set here.',{code}\r\n \r\n\r\nThe height is not mentioned.\r\n\r\n \r\n\r\nAround:\r\n\r\n--- a/phpBB/language/en/acp/attachments.php\r\n+++ b/phpBB/language/en/acp/attachments.php\r\n@@ -125,7 +125,7 @@ $lang = array_merge($lang, array(\n---\n## References\n**JIRA Issue Key:** PHPBB-15263\n**Affects Versions:** 3.1.11-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15263",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.11-RC1"
    ]
  },
  {
    "title": "BBCode parser doesn't properly check for closing ']'",
    "body": "It appears the BBCode parsing engine only pattern matches to the start of a BBCode and doesn't check for the closing square bracket, resulting in false matches and incorrect output.\r\n\r\nFor example, posting the follow {noformat}So, [I tell people to drill down into that index]. What are you buying? Look behind the curtain. Your largest investment is Britain. Your second-largest investment is Japan. Your third-largest investment is France.{noformat}\r\nIn the resultant output, the quoted text inside the square brackets, \r\n[I tell people to drill down into that index]\r\ngoes missing and all remain text is italicized.\n---\n## References\n**JIRA Issue Key:** PHPBB-15231\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15231",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Inline attachments do not appear properly if placed within text that is formatted with BBCode",
    "body": "This topic pretty much illustrates the issue - https://www.phpbb.com/community/viewtopic.php?f=556&t=2424226\r\n\r\nIf an inline attachment is placed within formatted text (any formatting, apparently), like this:\r\n\r\n[b]Some formatted text\r\n[attachment=0]some attachment[/attachment]\r\nsome more formatted text[/b]\r\n\r\nIt displays like this:\r\n\r\n*strong text*Some formatted text\r\n[attachment=0]some attachment[/attachment] (the actual attachment does not appear, just the code)\r\nsome more formatted text*strong text*\r\n\r\nActual attachment appears at the end of the post, as though it were not inline\r\n\r\nIt only occurs when the attachment is within a beginning code (e.g. [b]) and an ending code (e.g. [/b].\n---\n## References\n**JIRA Issue Key:** PHPBB-15235\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15235",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Consolidate validation methods in metadata manager",
    "body": "Use a single method to access all validation options in metadata manager.  Now, some options have their own function, while others share a single validate method.\r\nAlso, with the current implementation, you should not call validate without calling get_metadata first, as get_metadata is the only way to do the file loading (any call to validate without calling get_metadata first will result in an exception being raised even if the metadata is correct).\n---\n## References\n**JIRA Issue Key:** PHPBB-15190\n**Affects Versions:** 3.2.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-15190",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Patch Awaiting Review",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Font Color bbCode Breaks on Lists & Attachments",
    "body": "Using font color BBcode around lists is problematic. For example:\r\n\r\n\r\n{code:java}\r\n[color=#FF0000]Here is some text\r\n[list][*]list item 1\r\n[*]item 2\r\n[*]item 3[/list]\r\nMore text.[/color]\r\n{code}\r\n\r\nNothing in the list or past the list will be colored. Tested on phpBB website and this problem can be replicated there. This is also causing problems with attachments showing when inside the font color bbcode.\r\n\r\n{code:java}\r\n[attachment=0]temp icon.jpg[/attachment]\r\n[color=#FF0000][attachment=0]temp icon.jpg[/attachment][/color]\r\n[attachment=0]temp icon.jpg[/attachment]\r\n{code}\r\n\r\nThe middle attachment in the example above just shows [attachment=0]temp icon.jpg[/attachment] in red text.\r\n\r\nIt will also break custom bbCodes. For example a Horizontal Ruler code:\r\n\r\n{code:java}\r\n[hr][/hr]\r\n[color=#FF0000][hr][/hr][/color]\r\n[hr][/hr]\r\n{code}\n---\n## References\n**JIRA Issue Key:** PHPBB-15130\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15130",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Topic Tools",
    "body": "When you select \"Subscribe to topic\" from the topic tools dropdown list you get the message that you are \"Unsubscribed and when you select \"Unsubscribe to topic\" from the topic tools dropdown list you get the message that you are \"Subscribed.\r\n\r\nI don't know if this is just the messages that have got swapped around or if it is the actual process that is wrong - but I don't seem to get notifications for topics that I am subscribed to.\n---\n## References\n**JIRA Issue Key:** PHPBB-14991\n**Affects Versions:** 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-14991",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "More permissions issues",
    "body": "I'm locally testing phpBB 3.2.0-RC2 and there is still some unresolved permission issues. To reproduce:\r\n\r\n* Install a fresh copy of phpBB 3.2.0-RC2.\r\n* Go to the PERMISSIONS tab, click \"User permissions\" under the \"Global permissions\" in the left hand pane.\r\n* Click \"Find a member\" and select your username (or just enter it).\r\n* All permissions should be set to to YES. Click \"Advanced permissions\" and click the \"All No\" link\r\n* Submit and then go back. The permissions do not update.\r\n\r\nI believe this also happens in Group permissions (clicking \"All No\" or \"All Yes\"). I'm unable to test at the moment.\n---\n## References\n**JIRA Issue Key:** PHPBB-14937\n**Affects Versions:** 3.2.0-RC2\n",
    "type": "Bug",
    "jira_key": "PHPBB-14937",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC2"
    ]
  },
  {
    "title": "CLI extension:enable to check for existence on filesystem / opt to enable all / multiple",
    "body": "CLI allows to enable non-existing exensions, which are persisted in the list because disable does not remove them.\r\nExtension manager has functionality to list all extensions and check if the name exists in the array of the filesystem listing before allowing to enable the extension.\r\n\r\nI think it's also nice to have an option through CLI to enable all or a list of extensions this functionality.\n---\n## References\n**JIRA Issue Key:** PHPBB-14980\n**Affects Versions:** 3.2.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-14980",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0"
    ]
  },
  {
    "title": "Non-founder admin is unable to select a \"category\" as a parent on manage forums",
    "body": "Non-founder administrator is unable to select a \"category\" as a parent on creating/editing a forum in ACP.\r\nThe problem is here https://github.com/phpbb/phpbb/blob/master/phpBB/includes/functions_admin.php#L119\r\n\r\nTo get \"cat\" selectable in the parent forums list, admin has to have m_approve, f_noapprove (or f_post if $only_acl_post flag is set) permissions for it, which is not the case for \"categories\" as they aren't postable.\r\nThis is not the issue for founder as all permissions are forced to true for that user type.\n---\n## References\n**JIRA Issue Key:** PHPBB-14964\n**Affects Versions:** 3.1.10, 3.2.0-RC2\n",
    "type": "Bug",
    "jira_key": "PHPBB-14964",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0-RC2"
    ]
  },
  {
    "title": "Scrollbar doesn't appear on long posts in the MCP",
    "body": "When going to the approval screen in phpBB 3.2.0-RC2 (for as far as I can see, 3.1.x is not affected) long posts don't seem to contain a scrollbar, so moderators can't see the entire message without going out of the MCP to the message itself.\n---\n## References\n**JIRA Issue Key:** PHPBB-14931\n**Affects Versions:** 3.2.0-RC2\n",
    "type": "Bug",
    "jira_key": "PHPBB-14931",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC2"
    ]
  },
  {
    "title": "Feeds output should be consistent with View active topic fields and ordering",
    "body": "As discussed in https://www.phpbb.com/community/viewtopic.php?f=466&t=2323986 it would be an improvement if there was consistency in the output (fields and order) of View active topics and the equivalent Atom feed (feed.php?mode=topics_active). \r\n\r\nView active topics lists: <Subject> <username> <date> <forum name> \r\n\r\nwhile the Atom feed lists: <forum name> <Subject> <username> <date>\n---\n## References\n**JIRA Issue Key:** PHPBB-14899\n**Affects Versions:** 3.1.10\n",
    "type": "Feature",
    "jira_key": "PHPBB-14899",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.10"
    ]
  },
  {
    "title": "Allow to delete parent module which contains child modules.",
    "body": "When you try to delete a module in:\r\nACP > system > Module management\r\n\r\nand this module has a child module, a warning is displayed, that says: you are not able to delete this module, because it has a child module. \r\n\r\nNow you have to delete this child-module(s) first and then you delete the parent module. \r\n\r\nIt would be more functional to add the possibility to delete the parent modules within its child modules all at once. Of course with a warning and checkbox or Y/N question.\n---\n## References\n**JIRA Issue Key:** PHPBB-14856\n**Affects Versions:** 3.1.10, 3.2.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-14856",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Possibility to delete notifications",
    "body": "On the /ucp.php?i=ucp_notifications, I can mark notifications as read, but can't I delete them! It would be very neat if I could indeed delete them. The same as the Private Messages.\r\n\r\nThis extension should be on the core: https://github.com/AlexSheer/phpbb3.1-Delete_Notifications\n---\n## References\n**JIRA Issue Key:** PHPBB-14513\n**Affects Versions:** 3.1.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-14513",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.8"
    ]
  },
  {
    "title": "New Permission to Ignore Maximum links per post",
    "body": "Add a new post permission to allow users or groups to ignore the \"Maximum links per post\" limit and make this the default for the Administrators group.\r\n\r\nDiscussion can be found here:\r\n\r\n[https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=50456]\n---\n## References\n**JIRA Issue Key:** PHPBB-14832\n**Affects Versions:** 3.2.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-14832",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Custom profile field URL is not parsed if there is no %s in the URL",
    "body": "If a cpf is set to be a \"contact\" field, then the URL part of it will be ignored if it does not contain %s.\r\n\r\nThis is caused by the following lines in phpbb/profilefields/manager.php: \r\n\r\n{code:java}\r\nif (strpos($ident_ary['data']['field_contact_url'], '%s') !== false)\r\n\t\t\t\t{\r\n\t\t\t\t\t$contact_url = sprintf($ident_ary['data']['field_contact_url'], $value);\r\n\t\t\t\t}\r\n{code}\r\n\r\nI suggest fixing it like this:\r\n{code:java}\r\nif (strpos($ident_ary['data']['field_contact_url'], '%s') !== false)\r\n\t\t\t\t{\r\n\t\t\t\t\t$contact_url = sprintf($ident_ary['data']['field_contact_url'], $value);\r\n\t\t\t\t}\r\nelse\r\n\t\t\t\t\t$contact_url = $ident_ary['data']['field_contact_url'];\r\n{code}\r\n\r\nWorkaround while the fix is not accepted - just add any junk parameter to the URL and set it to %s. For example, if you want your URL to be example.com/foo, use example.com/foo?bar=%s (just make sure that target site ignores the \"bar\" parameter).\r\n\r\nUse case:\r\nA custom profile field that links to user's profile and Sony Playstation Network can no longer point directly to the profile due to changes at Sony's site. Therefore an admin could like to display the PSN account name and link to the search at Sony's site: https://www.playstation.com/en-us/my/public-trophies/. Currently, in this situation one has to use https://www.playstation.com/en-us/my/public-trophies/?u=%s instead.\n---\n## References\n**JIRA Issue Key:** PHPBB-14726\n**Affects Versions:** 3.1.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-14726",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.9"
    ]
  },
  {
    "title": "Quote author can't be found if body not edited",
    "body": "In posting.php:1009, the message body is only parsed if the message is updated. However, in the textformatter/s9e/utils.php, the function get_outermost_quote_authors relies on the text being parsed. So, whenever is a post is edited and submitted with no changes or only the subject edited, the quote authors can never be found. One side-effect of this is the deletion of any notifications for the quote in the post that was edited.\n---\n## References\n**JIRA Issue Key:** PHPBB-14574\n**Affects Versions:** 3.2.0-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-14574",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Change the behaviour of verification on email change",
    "body": "Currently, if a user change his email, with a wrong email, and the activation is set to email activation, he can't recover access to his account without admin intervention.\r\n\r\nI think that we should change this behaviour and don't disable account on email change. We can create a field in the user table that contain the new email, and set this email as user email when the user click on the link in the activation mail.\n---\n## References\n**JIRA Issue Key:** PHPBB-14160\n**Affects Versions:** 3.1.6-RC1, 3.2.0-dev\n",
    "type": "Feature",
    "jira_key": "PHPBB-14160",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.6-RC1",
      "3.2.0-dev"
    ]
  },
  {
    "title": "Friends and Foes, and PMs",
    "body": "The Friends and Foes system is very poor, and we all know!\r\n\r\nIt would be great to add some new features to it.\r\n\r\nIt would be great if we could receive notifications of our friends activities, if we enable that notification.\r\nAnd there are certainly others great things that phpbb could have with a friend activity system.\r\n\r\nOther thing that would be awesome if we could create groups for PMs, this would improve the PM system. Because we would have custom groups made by us, so we can send a PM to a specific group of users made by us. And not a official group with permissions.\r\nIt would be like a list of users that we send a lot of PMs.\n---\n## References\n**JIRA Issue Key:** PHPBB-14606\n**Affects Versions:** 3.1.8\n",
    "type": "Feature",
    "jira_key": "PHPBB-14606",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.8"
    ]
  },
  {
    "title": "Remove all language fallback logic outside the language class",
    "body": "As before 3.2.x there weren't any general solution in place for handling language fallbacks in case a language file is missing, there might be code at multiple places in the core, where this is performed.\n---\n## References\n**JIRA Issue Key:** PHPBB-14566\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Task",
    "jira_key": "PHPBB-14566",
    "jira_type": "Task",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Several language strings in row",
    "body": "phpBB uses in some template files language variable {L_POST_BY_AUTHOR} (\"by\" in English).\r\n\r\nIt is not problem if it is used on its own, but in some template files it is used with other language variables. Here is few examples from phpBB 3.1.8:\r\n\r\nin file mcp_forum.html on line 56: {L_LAST_POST} {L_POST_BY_AUTHOR}\r\nin file mcp_front.html on line 34: {L_POSTED} {L_POST_BY_AUTHOR}\r\nand on line 94: {L_REPORTED} {L_POST_BY_AUTHOR}\r\nin file mcp_forum.html on line 83: <dfn>{L_LAST_POST} </dfn>{L_POST_BY_AUTHOR}\r\n\r\nUnfortunately in my language (Czech) we can't translate English word \"by\" as one word, because translation depends on content of sentence. It means that we need to use different translation for each {L_POST_BY_AUTHOR}. \r\n\r\nI would like to ask if would be possible to change those multiple language strings to one string. For example {L_LAST_POST} {L_POST_BY_AUTHOR} would become {L_LAST_POST_BY} or something similar.\n---\n## References\n**JIRA Issue Key:** PHPBB-14512\n**Affects Versions:** 3.1.7-pl1, 3.1.8, 3.2.0-a2, 3.2.0-b1, 3.2.0-b2\n",
    "type": "Feature",
    "jira_key": "PHPBB-14512",
    "jira_type": "Improvement",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.7-pl1",
      "3.1.8",
      "3.2.0-a2",
      "3.2.0-b1",
      "3.2.0-b2"
    ]
  },
  {
    "title": "Delete permanently an already soft deleted post and it will not return to topic page",
    "body": "How to reproduce that:\r\n\r\n- Create a REPLY in a topic (dont create a new topic).\r\n- Soft delete this created reply.\r\n- Delete pemanently this reply and wait for refresh.\r\n\r\nIt will go to another page and not for topic page.\r\n\r\nIf post were the last one in the topic, it will work fine.\n---\n## References\n**JIRA Issue Key:** PHPBB-14502\n**Affects Versions:** 3.1.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-14502",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.8"
    ]
  },
  {
    "title": "Atom feed category element incorrectly controlled by feed_item_statistics configuration setting",
    "body": "In ACP->Feed settings the General feed setting *Item statistics* is indicated to _Display individual statistics underneath feed items (e.g. posted by, date and time, replies, views)_.\r\n\r\nThe [Atom:category Elements|https://tools.ietf.org/html/rfc4287#section-4.2.2] portion of the feed are not part of the \"individual statistics underneath feed items\", but if *Item statistics* is disabled then they are omitted from the feed. They should therefore always be part of the feed, regardless of the setting of *Item statistics*.\r\n\r\nfeed.php should be changed as follows to allow the Category element to be part of the feed, without regard to whether *Item statistics* is enabled or disabled.\r\n{noformat}\r\n116,117c116,117\r\n<               'category'              => ($config['feed_item_statistics'] && !empty($row['forum_id'])) ? $board_url . '/viewforum.' . $phpEx . '?f=' . $row['forum_id'] : '',\r\n<               'category_name' => ($config['feed_item_statistics'] && isset($row['forum_name'])) ? $row['forum_name'] : '',\r\n---\r\n>               'category'              => (!empty($row['forum_id'])) ? $board_url . '/viewforum.' . $phpEx . '?f=' . $row['forum_id'] : '',\r\n>               'category_name' => (isset($row['forum_name'])) ? $row['forum_name'] : '',\r\n{noformat}\n---\n## References\n**JIRA Issue Key:** PHPBB-14470\n**Affects Versions:** 3.1.6\n",
    "type": "Bug",
    "jira_key": "PHPBB-14470",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "phpbb_chmod creating files that cannot be accessed.",
    "body": "I am having an issue with the cache that I believe is caused by a bug with the phpbb_chmod function.\r\n\r\nOccasionally, I will have a file in the cache folder that has owner / group information different from all the other cache files. These cache files will also have a permission setting of 0600. Once the file has the different owner and group, and a setting of 0600... I believe it is unable to be accessed again by the cache, which is creating problems.\r\n\r\nLooking at the phpbb_chmod function, I believe it is capable of changing ownership on a cache file (or any file) prior to setting a permission chmod, which can then make it impossible to set the chmod permission. It uses whatever owner / group controls the 'common.php' file. This could be more problematic if the common.php file had been uploaded with a different account (such as root).\r\n\r\nI believe further development to the phpbb_chmod function needs to occur to at least prevent it from changing ownership prior to updating permissions, if the permissions are such that it won't be accessible again (0600, etc).\r\n\r\nAlso. It is not readily understood why only some files in the cache have these weird permissions. Most have the default (nobody:nobody) owner / group, and have 666 as the permission. When this happens and a cache file cannot be accessed, it can crash the style data, which causes the board to become unresponsive with the error 'Could not obtain style data.'.\n---\n## References\n**JIRA Issue Key:** PHPBB-14327\n**Affects Versions:** 3.1.6\n",
    "type": "Bug",
    "jira_key": "PHPBB-14327",
    "jira_type": "Bug",
    "priority": "Minor",
    "status": "Open",
    "affects_versions": [
      "3.1.6"
    ]
  },
  {
    "title": "phpbb_delete_users_pms should anonymize attachments",
    "body": "The phpbb_delete_users_pms in functions_privmsgs.php does not anonymize attachments in PMs that are anonymized (that is, user ID set to 1), as can be seen at the end of the function. On user deletion, these attachments are left with invalid poster_id values, if the user's posts are not retained.\n---\n## References\n**JIRA Issue Key:** PHPBB-17577\n**Affects Versions:** 3.0.14, 3.1.12, 3.2.11, 3.3.15, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-17577",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.0.14",
      "3.1.12",
      "3.2.11",
      "3.3.15",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Moderation queue approved posts mark the forum as unread for poster but no unread posts",
    "body": "Hi,\r\n\r\nWhen a post in phpBB ends up in the moderator queue and it gets approved the forum shows a unread message notification even when there is no unread message when you open the forum.\r\n\r\nThe right behavior should that it shows the forum as read for the poster and unread for others.\n---\n## References\n**JIRA Issue Key:** PHPBB-17485\n**Affects Versions:** 3.3.14, 3.3.15-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-17485",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Confirmed",
    "affects_versions": [
      "3.3.14",
      "3.3.15-RC1"
    ]
  },
  {
    "title": "Clarification on Server Settings section [Run periodic tasks from system cron]",
    "body": "Wording should match the options. The text says \"when off\" and \"when on\". It should match the options beside which are \"Yes\" and \"No\". Inconsistent words could be slightly confusing especially for new admins.\r\n\r\nRequesting the words describing the item be altered to match the options that the admin picks.\r\n\r\nQuote from Server Settings in ACP:\r\nRun periodic tasks from system cron:\r\nWhen off, phpBB will arrange for periodic tasks to be run automatically. When on, phpBB will not schedule any periodic tasks by itself; a system administrator must arrange for bin/phpbbcli.php cron:run to be run by the system cron facility at regular intervals (e.g. every 5 minutes).\r\n    Yes No \r\n\r\nMy suggestion on how the wording should be changed:\r\n\r\nRun periodic tasks from system cron:\r\nWhen set to No, phpBB will arrange for periodic tasks to be run automatically. When set to Yes, phpBB will not schedule any periodic tasks by itself; a system administrator must arrange for bin/phpbbcli.php cron:run to be run by the system cron facility at regular intervals (e.g. every 5 minutes).\r\n    Yes No \r\n\r\nOR, change the Yes/No options to On/Off, you decide. Just be consistent.\n---\n## References\n**JIRA Issue Key:** PHPBB-13255\n**Affects Versions:** 3.1.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-13255",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.1.0"
    ]
  },
  {
    "title": "some phpbb database tables do not have a primary key",
    "body": "With certain replication and clustering services, database tables must have a primary key.\r\nSome tables, e.g. phpbb_acl_groups, do not have it.\r\n\r\nRef: \r\n[https://www.phpbb.com/community/viewtopic.php?p=15795471#p15795471]\n---\n## References\n**JIRA Issue Key:** PHPBB-16946\n",
    "type": "Feature",
    "jira_key": "PHPBB-16946",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Smilies",
    "body": "Please add the following smilies as a default replacement to the current batch of smilies being used in phpBB:\r\n\r\n\r\n[https://www.phpbb.com/customise/db/style/dark_style_phpbb3_smilies/]\r\n\r\n \r\n\r\nThese remove the white boarders by replacing it with transparency. It is suitable for both white and dark themes. Thank you.\n---\n## References\n**JIRA Issue Key:** PHPBB-17428\n**Affects Versions:** 3.3.13\n",
    "type": "Feature",
    "jira_key": "PHPBB-17428",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.13"
    ]
  },
  {
    "title": "Incorrect documentation for function redirect in functions.php",
    "body": "The documentation for the redirect function in /includes/functions.php starting at line 1700 is incorrect.\r\n\r\n* @param bool $disable_cd_check  With the parameter set to `false`, the redirect function validates the redirect URL to make sure it goes to the board (and dies with a warning if it doesn't match). With the parameter set to `true`, the redirect function simply skips those steps.\n---\n## References\n**JIRA Issue Key:** PHPBB-17120\n**Affects Versions:** 3.3.10\n",
    "type": "Feature",
    "jira_key": "PHPBB-17120",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Redundancy on Registration",
    "body": "On the Registration page (/ucp.php?mode=register), the following text is used to describe a user's \"Username\":\r\n\r\n{quote}Length must be between # characters and # characters.{quote}Using the word \"characters\" twice in the same sentence is not needed. It is unnecessary redundancy.\r\n\r\nShortening it would use up one less row of text, making it look cleaner while still getting the point across.\r\n\r\nI suggest the following instead:\r\n\r\n{quote}Length must be between # and # characters.{quote}\n---\n## References\n**JIRA Issue Key:** PHPBB-17282\n**Affects Versions:** 3.3.11\n",
    "type": "Feature",
    "jira_key": "PHPBB-17282",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Exception error when creating smileys - related to umlauts",
    "body": "Initial situation:\r\n\r\nSome uninstalled smilies are in the \"Smilies\" folder on the FTP. One of them contains an umlaut \"ü\" in the file name (fahne_türkei.gif). This file has been there since 2016, and smilies have been added many times during this time. This file is currently {*}NOT in use, not installed - it´s just there{*}.\r\n\r\nThe server was recently switched to PHP 8.1\r\n\r\nWhen creating new smilies in the ACP, I encountered the following error:\r\n\r\n \r\n\r\n*{{Whoops, looks like something went wrong.}}*\r\n\r\n*{{(1/1) ContentErrorException}}*\r\n\r\n*{{Warning: Undefined array key \"flags/fahne_t??rkei.gif\" in acp_icons.php line 414}}*\r\n\r\n*{{at acp_icons->main('icons', 'smilies') in functions_module.php line 676}}*\r\n\r\n*{{at p_master->load_active() in index.php line 81}}*\r\n\r\n \r\n\r\n{{This error occurred when sending the selected (other) new smilies.}}\r\n\r\n{{When querying the files in the directory, the smilie engine under PHP 8.1 now seems to have a problem if special characters appear in the file names.}}\r\n\r\n{{The problem was solved for me by renaming the problematic file.}}\n---\n## References\n**JIRA Issue Key:** PHPBB-17276\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17276",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Remove Depreciated small-icon Rules From buttons.css",
    "body": "There is a chunk of depreciated 'small-icon' code at the bottom of the 'buttons.css' file.\r\n\r\n \r\n\r\nSeveral bits of depreciated code have been removed over the years so this may as well be removed too as it is just wasting space.\r\n\r\n \r\n\r\n*File:* buttons.css\r\n\r\n \r\n\r\n*Delete:*\r\n{code:java}\r\n/* Deprecated as of version 3.2\r\n-------------------------------------------------*/\r\n.small-icon {\r\n    background-position: 0 50%;\r\n    background-repeat: no-repeat;\r\n    background-image: none;\r\n}\r\n\r\n.dropdown .small-icon {\r\n    background-position: 5px 50%;\r\n    padding: 5px;\r\n}\r\n\r\n.small-icon > a {\r\n    padding: 0 0 0 18px;\r\n}\r\n\r\nul.linklist.bulletin > li.small-icon:before {\r\n    display: none;\r\n}\r\n\r\n.dropdown .small-icon > a {\r\n    display: block;\r\n}\r\n\r\n.rtl .small-icon {\r\n    background-position: 100% 50%;\r\n}\r\n\r\n.rtl .small-icon > a {\r\n    padding-left: 0;\r\n    padding-right: 19px;\r\n} {code}\n---\n## References\n**JIRA Issue Key:** PHPBB-17239\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17239",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Possible Unused Class: \"dl_links\"",
    "body": "The content.css stylesheet contains the following rules for a .dl_links class,\r\n\r\n \r\n{code:java}.action-bar div.dl_links {\r\n\tpadding: 10px 0 0 10px;\r\n}\r\n\r\ndiv.dl_links {\r\n\tdisplay: inline-block;\r\n\ttext-transform: none;\r\n}\r\n\r\n.dl_links strong {\r\n\tfont-weight: bold;\r\n}\r\n\r\n.dl_links ul {\r\n\tlist-style-type: none;\r\n\tmargin: 0;\r\n\tdisplay: inline-block;\r\n}\r\n\r\n.dl_links li {\r\n\tdisplay: inline-block;\r\n}\r\n{code}\r\n \r\n\r\nI have tried searching phpBB packages ranging from 3.3.11 right back to 3.0.12 and I can't find any dl_links in the templates, the only reference to it is the content.css stylesheet.\r\n\r\n \r\n\r\nCan this be removed? or is it used and I'm missing it? I did think it could be the export option in the PM folder but I have checked there and that's not it.\n---\n## References\n**JIRA Issue Key:** PHPBB-17229\n**Affects Versions:** 3.3.11\n",
    "type": "Bug",
    "jira_key": "PHPBB-17229",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.11"
    ]
  },
  {
    "title": "Improve display of OAuth setup fields",
    "body": "When adding new OAuth providers extension authors can only define the name of the provider which gets displayed on the configuration page along with two fields:\r\n * Key\r\n * Secret\r\n\r\nThe problem with this approach is that different providers will call these differently making it hard to configure (how to match with what they call a key or secret) plus finding where to configure these providers can be a challenge since there is no way to provide guidance. To improve this situation the provider definitions should be expanded to (optionally) include:\r\n * Provider explanation\r\n * Key label\r\n * Key explanation\r\n * Secret label\r\n * Secret explanation\n---\n## References\n**JIRA Issue Key:** PHPBB-17196\n**Affects Versions:** 3.3.10\n",
    "type": "Feature",
    "jira_key": "PHPBB-17196",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.10"
    ]
  },
  {
    "title": "Moderator options don't work in the \"Approve details\"",
    "body": "When there is a topic or a post awaiting approval, you can get the details about it (subject, author, post time, message content).\r\n\r\n \r\n\r\nThere are two buttons above the message content : _Disapprove_ and {_}Approve{_}. The ones work fine. Below the message content, there is the moderator options selector. The only available option is « Delete post » and it doesn't work: nothing happens after having clicked on {_}Submit{_}.\r\n\r\n \r\n\r\nI suggest to remove the moderator options block in that context. It's useless anyways: if you want to delete the topic or post, just disapprove it.\n---\n## References\n**JIRA Issue Key:** PHPBB-17106\n**Affects Versions:** 3.3.10, 3.3.9\n",
    "type": "Bug",
    "jira_key": "PHPBB-17106",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.10",
      "3.3.9"
    ]
  },
  {
    "title": "Irrelevant message displayed with visible private forum",
    "body": "When an user tries to view forum visible but not accessible (permission \"can see forum\" is enabled), he or she can read two messages (cf. see screenshot) :\r\n\r\n \r\n\r\n« *You do not have the required permissions to view or read topics within this forum. »*\r\n\r\n*«* *This category has no forums.* *»*\r\n\r\n \r\n\r\nThe message about category is irrelevant.\n---\n## References\n**JIRA Issue Key:** PHPBB-17079\n**Affects Versions:** 3.3.9\n",
    "type": "Task",
    "jira_key": "PHPBB-17079",
    "jira_type": "Task",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.9"
    ]
  },
  {
    "title": "Correct the information after the soft delete of Topics",
    "body": "The Language variable TOPIC_DELETED_SUCCESS have the content \"The selected topic has been successfully removed from the database.\" but this variable will also used in the case of soft delete of a topic. But in this case the Topic is not deleted from the database but only hidden.\r\n\r\nPlease correct this in the language file or split the variable in the core to different cases (soft delete or database delete)\r\n\r\nAlso in TOPICS_DELETED_SUCCESS.\r\n\r\nIf that will be splitted, the following language variables are also affected:\r\nPOST_DELETED_SUCCESS, POSTS_DELETED_SUCCESS, TOPICS_DELETED_SUCCESS and TOPIC_DELETED_SUCCESS\n---\n## References\n**JIRA Issue Key:** PHPBB-17027\n**Affects Versions:** 3.3.8\n",
    "type": "Bug",
    "jira_key": "PHPBB-17027",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.8"
    ]
  },
  {
    "title": "Unused permission u_pm_emailpm",
    "body": "I wrote the following on the phpBB.com Discord server (#development):\r\n\r\n \r\n\r\nHello\r\n\r\n \r\n\r\nWe're just wondering about a specific permission, the meaning of which is unclear. So I traced the permission:\r\n\r\n \r\n\r\nLanguage variable: \r\n{{ACL_U_PM_EMAILPM}}\r\n\r\nPermission:\r\n{{u_pm_emailpm}}\r\n\r\n \r\n\r\nHowever, this permission is not used anywhere in the phpBB source. I've tracked all phpBB -major- minor versions back to 3.0, it's not used anywhere. Either I'm missing something, or this really is an unused permission.\r\n\r\n \r\n\r\nFrom 3Di:\r\n\r\n^^ It is unused. Seems to be dead code.\r\n\r\n \r\n\r\nReference:\r\n\r\n[Re: [3.3] Wie \"Per E-Mail versenden\" unterbinden|https://www.phpbb.de/community/viewtopic.php?p=1416970#p1416970]\r\n\r\n \r\n\r\nAdditionally:\r\n\r\nThis permission was already created in 3.0.0, but not used up to and including 3.3.7.\n---\n## References\n**JIRA Issue Key:** PHPBB-16980\n**Affects Versions:** 3.3.7\n",
    "type": "Task",
    "jira_key": "PHPBB-16980",
    "jira_type": "Task",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.7"
    ]
  },
  {
    "title": "Remove obsolete bots",
    "body": "After adding some new bots, I'm going through the ones which never crawled our forum and I think some of them are not active anymore at all since a long time and could be removed from the hardcoded phpBB bots list.\r\n\r\nThe \"Alta Vista [Bot]\" btw shouldn't be active anymore, as Alta Vista was bought by Yahoo in 2003 and uses Yahoo search results in the meantime. When accessing the search engine website, one is redirected to Yahoo as well: https://en.wikipedia.org/wiki/AltaVista\r\n\r\n\"FAST Enterprise Crawler\" seems to be from SharePoint prior to 2010 and was deprecated in 2010, replaced by the \"SharePoint 2010 Web Crawler\" that time: https://social.technet.microsoft.com/wiki/contents/articles/18576.best-practices-using-the-fast-enterprise-crawler.aspx\r\n\r\nIs there a strategy about how to detect and remove obsolete bots by times? Data from multiple larger phpBB forums would be great, to be sure a certain user agent is not active anymore, else it is a nasty research. At least I couldn't find a good database with last active times of \"all\" web crawlers/bots.\n---\n## References\n**JIRA Issue Key:** PHPBB-16862\n",
    "type": "Feature",
    "jira_key": "PHPBB-16862",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "phpbb don't detect some bot via user agent",
    "body": "[USA]\r\nSome bot aren't detected via UserAgent (when i have add them it's working, don't know why now it's stop working).\r\nExample : ahref (user agent : AhrefsBot), netestate (user agent : netEstate).\r\n\r\nTheir is no problem with ip detection but some but use full different IP (example ahref).\r\n\r\n[FR]\r\nCertains bot ne sont pas détecté via l'user agent (pourtant quand je les ai ajouté il y a quelques mois ils étaient bien détecté, je ne sais pas pourquoi maintenant ça ne fonctionne plus).\r\nPar contre la détection via IP fonctionne mais celle-ci est peu utile car certains bot (comme ahref par ex) utilisent beaucoup d'IP différentes pour passer à travers les mailles.\n---\n## References\n**JIRA Issue Key:** PHPBB-15075\n**Affects Versions:** 3.1.10, 3.2.0\n",
    "type": "Bug",
    "jira_key": "PHPBB-15075",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0"
    ]
  },
  {
    "title": "Add event to trigger that the password has been changed successfully",
    "body": "Added for example above line 417 of this file:\r\n [https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/ucp/controller/reset_password.php#L417]\r\n\r\nThis code:\r\n{code:java}$vars = [\r\n    'user_id'\r\n];\r\nextract($this->dispatcher->trigger_event('core.ucp_reset_password_modify_update_sql', compact($vars)));{code}\r\nWhat do you think ?\n---\n## References\n**JIRA Issue Key:** PHPBB-16704\n",
    "type": "Feature",
    "jira_key": "PHPBB-16704",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Language error (English) in phpBB 3.3.2 and earlier",
    "body": "In ACP > Customise > Extensions Manager\r\n\r\nThe Extensions Manager is a tool in your phpBB Board which allows you to manage all of your *extensions* statuses and view information about them.\r\n\r\n/language/en/acp/extensions line 41 (missing apostrophe after extensions)\r\n\r\nextensions should be extensions{color:#de350b}*'*{color} (implying statuses of the extensions)\n---\n## References\n**JIRA Issue Key:** PHPBB-16638\n**Affects Versions:** 3.3.2\n",
    "type": "Feature",
    "jira_key": "PHPBB-16638",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.2"
    ]
  },
  {
    "title": "Missing lookup POST_ID in language files",
    "body": "{{phpbb_prepare_message()}} uses {{$user->lang['POST_ID']}} which is not defined in {{language/en/install.php}} (or any other file there) giving errors like this in conversion from 2.x:\r\n{code:java}\r\n: 189077 Message parser error:{code}\r\n(where there should be some text like \"Post ID\" before the first colon)\r\n\r\n!image-2020-11-22-01-18-26-836.png|width=442,height=139!\r\n\r\nA quick scan through {{functions_phpbb20.php}} shows some other possible offenders:\r\n * {{COLLIDING_CLEAN_USERNAME}}\r\n * {{COLLIDING_USER}}\r\n * {{COLLIDING_USERNAMES_FOUND}}\n---\n## References\n**JIRA Issue Key:** PHPBB-16637\n**Affects Versions:** 3.3.2\n",
    "type": "Bug",
    "jira_key": "PHPBB-16637",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.2"
    ]
  },
  {
    "title": "Changed 'Template' to 'Style' in FAQ",
    "body": "'-Since phpBB3, the word 'template' has died down, and changed to style.-\r\n\r\n -- \r\n\r\n-Therefore, the word 'template' in FAQ should be changed to 'style'-\n---\n## References\n**JIRA Issue Key:** PHPBB-16590\n**Affects Versions:** 3.3.1\n",
    "type": "Feature",
    "jira_key": "PHPBB-16590",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Patch Needs Work",
    "affects_versions": [
      "3.3.1"
    ]
  },
  {
    "title": "\"New Topic\" and \"Post Reply\" Button Available to Guests",
    "body": "When viewing a forum or topic as guest the buttons to reply or post a new topic are present. They will redirect to login page and then to posting pane once logged in. This is desirable IMO. It's convenient for registered user and unregistered user gets a hint to register to post.\r\n\r\nThe bug is where forums are viewable by guests but only postable by special groups, the Announcement forum as one example here on phpbb.com. In that case when a registered user logs in instead of posting pane they get a message \"You cannot post in this forum\".\r\n\r\nMinimally  I would suggest registered user permissions are checked before displaying the buttons to guests.\n---\n## References\n**JIRA Issue Key:** PHPBB-16551\n**Affects Versions:** 3.3.1-RC1\n",
    "type": "Bug",
    "jira_key": "PHPBB-16551",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.1-RC1"
    ]
  },
  {
    "title": "Launch Page",
    "body": "The launch page needs a few updates and corrections:\r\n\r\n \r\n\r\n[https://www.phpbb.com/about/launch/]\r\n\r\n \r\n\r\n\"PHP 7 works twice as fast as previous PHP versions. We have modified phpBB to now completely support the latest releases of PHP (7.1{color:#de350b}*.3*{color} to 7.4) so you can enjoy all these performance advantages.\"\r\n\r\n \r\n\r\n\"With our brand new installer{color:#de350b}*,*{color} updating will be easier than ever in phpBB 3.3! Upload a single folder to your board and all your files will automatically be replaced.\"\r\n\r\n \r\n\r\n\"reCAPTCHA 2.0\" changed to \"reCAPTCHA 3.0\" for the upcoming phpBB 3.3.1 release:\r\n\r\nhttps://tracker.phpbb.com/browse/PHPBB3-15937\r\n\r\n \r\n\r\n\"Using CSS{color:#de350b}*-*{color}driven icons from FontAwesome, we now have more intuitive icons with retina quality all across phpBB{color:#de350b}*,*{color} as well as considerably improv{color:#de350b}*ed*{color} the speed of page loads.\"\r\n\r\n \r\n\r\nOff topic, but newer versions of Symphony are out now:\r\n\r\n[https://symfony.com/blog/]\n---\n## References\n**JIRA Issue Key:** WEBSITE-1394\n",
    "type": "Feature",
    "jira_key": "WEBSITE-1394",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Remove useless name/id/value for poll inputs in posting_preview.html, or add the ability to vote in the posting editor",
    "body": "In the posting_preview.html template file, you can find this, in the poll_option loop :\r\n{code:java}<!-- IF S_IS_MULTI_CHOICE --><input type=\"checkbox\" name=\"vote_id[]\" id=\"vote_{poll_option.POLL_OPTION_ID}\" value=\"{poll_option.POLL_OPTION_ID}\"<!-- IF poll_option.POLL_OPTION_VOTED --> checked=\"checked\"<!-- ENDIF --> /><!-- ELSE --><input type=\"radio\" name=\"vote_id[]\" id=\"vote_{poll_option.POLL_OPTION_ID}\" value=\"{poll_option.POLL_OPTION_ID}\"<!-- IF poll_option.POLL_OPTION_VOTED --> checked=\"checked\"<!-- ENDIF --> /><!-- ENDIF -->\r\n{code}\r\nThe part *name=\"vote_id[]\" id=\"vote_\\{poll_option.POLL_OPTION_ID}\" value=\"\\{poll_option.POLL_OPTION_ID}\"* (two times, for checkbox and for radio) is completely useless in the posting (preview) context, unlike in viewtopic.\r\n\r\nThe message author cannot vote while preview his or her text, before posting a new subject with poll, or while editing a subject to add or modify a poll.\r\n\r\nIf the input needs a name and a value attributes for somewhat reason, an expression like *name=\"vote_id\" value=\"\"* should be enough.\r\n\r\n \r\n\r\nAn alternative would be adding the possibility to vote inside the posting editor : I create a poll, I immediately vote and then submit the poll for other users.\n---\n## References\n**JIRA Issue Key:** PHPBB-16412\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Task",
    "jira_key": "PHPBB-16412",
    "jira_type": "Task",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "language improvement to extension page",
    "body": "suggest adding a line to the extension install page to further clarify how to upload extensions and maintaining proper directory structure. something along the lines of the attached picture\n---\n## References\n**JIRA Issue Key:** PHPBB-16409\n**Affects Versions:** 3.3.0\n",
    "type": "Feature",
    "jira_key": "PHPBB-16409",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3.0"
    ]
  },
  {
    "title": "After loading a page, your online status can be gone, while you're still logged",
    "body": "For a long time ago, I've noticed that phenomenon: when I refresh a page with an online status - or go to a page with a such status from another page -, *+after some minutes without loading anything+* (it depends on the \"View online time span\" setting in ACP, defined at 5 minutes by default), my online status disappeared, whereas it should be re-enabled and displayed as such because I obviously requested the server to (re)load the webpage. Refresh immediately or soon after solves the bug.\r\n\r\nI understand phpBB automatically disconnects the users after several minutes of inactivity. However, when someone loads a page again (not too long time after the previous request, to avoid the complete logout and the need to log again), he or she's still logged or relogged instantly (see my username in the header, in the attached screenshots) but the online status is still off.\r\n\r\nThe explanation is probably the logon status of a session is defined early in the process of the request (status: offline after X minutes), then phpBB retrieves the username and re-enables the user session (if it considers he or she can be still logged) and finally sends the webpage data to the client machine *+before updating+* the logon status of my session (new status: online). If the server retrieves the username before sending data to the client, why not updating the session status before sending data too?\r\n\r\n \r\n\r\nThat happens with all board styles, including prosilver. That phenomenon can be even more visible for custom ones which use the \\{ONLINE_IMG} template variable, for example to display \"online\" or \"offline\" or nothing if the option \"Enable display of user online/offline information\" is disabled in ACP (see the fourth attached screenshot), unlike prosilver that displays \"online\" status or nothing, but not an \"offline\" status.\n---\n## References\n**JIRA Issue Key:** PHPBB-16402\n**Affects Versions:** 3.2.9, 3.3.0\n",
    "type": "Task",
    "jira_key": "PHPBB-16402",
    "jira_type": "Task",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.9",
      "3.3.0"
    ]
  },
  {
    "title": "Language Packs Menu",
    "body": "Language packs menu broken iOS 12.\n---\n## References\n**JIRA Issue Key:** WEBSITE-1355\n",
    "type": "Bug",
    "jira_key": "WEBSITE-1355",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": []
  },
  {
    "title": "Allow Redirection on Logout",
    "body": "By default, phpBB redirects the user to the main forum page upon logout. This is perfectly fine for someone who uses phpBB solely as a forum. However, in other instances it may be good to redirect the user to the previous page they logged out from. This could be a topic, or forum view, but more commonly this could be the main page of the website or any other page they were previously logged in at.\r\n\r\nI would propose allowing for the &redirect variable to be available during the logout call and to allow redirection after logging out.\n---\n## References\n**JIRA Issue Key:** PHPBB-15963\n**Affects Versions:** 3.2.5\n",
    "type": "Feature",
    "jira_key": "PHPBB-15963",
    "jira_type": "New Feature",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "Add event to modify terms & privacy pages text",
    "body": "https://www.phpbb.com/customise/db/extension/customregistrationagreement/support/topic/201961?p=679336#p679336\n---\n## References\n**JIRA Issue Key:** PHPBB-15971\n**Affects Versions:** 3.2.5, 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15971",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.5",
      "4.0.0-a1"
    ]
  },
  {
    "title": "Search words between color bbcode",
    "body": "phpBB Native Fulltext does not index and search for words enclosed between color tags.\r\nFor example, \r\n{code}\r\n[color=#0000FF]whatever word[/color]\r\n{code}\r\n in message will not be found.\r\n\r\nit is related to function function split_message in phpbb/search/fulltext_native.php\r\n\r\nIf comment this regex\r\n{code}// BBcode\r\n$match[] = '#\\[\\/?[a-z0-9\\*\\+\\-]+(?:=.*?)?(?::[a-z])?(\\:?[0-9a-z]{5,})\\]#';\r\n{code}\r\nin 1328 line everything works well and the words between color perfectly search.\n---\n## References\n**JIRA Issue Key:** PHPBB-15956\n**Affects Versions:** 3.2.5\n",
    "type": "Bug",
    "jira_key": "PHPBB-15956",
    "jira_type": "Bug",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.5"
    ]
  },
  {
    "title": "Render post's text in paragraphs",
    "body": "The text formatter should render post's content into paragraphs instead of the current behaviour which is just rendering the text inside the post content wrapper.\n---\n## References\n**JIRA Issue Key:** PHPBB-15923\n**Affects Versions:** 4.0.0-a1\n",
    "type": "Feature",
    "jira_key": "PHPBB-15923",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "4.0.0-a1"
    ]
  },
  {
    "title": "Remove print view in topics and PMs",
    "body": "'@media print {} should be used by style instead of separate print view.\n---\n## References\n**JIRA Issue Key:** PHPBB-15810\n**Affects Versions:** 3.3\n",
    "type": "Task",
    "jira_key": "PHPBB-15810",
    "jira_type": "Task",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.3"
    ]
  },
  {
    "title": "Improvement of get_permission_lang() for use formatted string in extension",
    "body": "Hello\r\n\r\nFor my [QTE extension|https://www.phpbb.com/community/viewtopic.php?f=456&t=2218556] i want create a new permission for each attribute created (It's easier to mange users/groups permissions with phpBB permission system instead of create mine).\r\n\r\nSo I could, in Group forum permissions, get something like this:\r\n{quote}\r\nCan use \"Resolved\" attribute:                  yes     non     never\r\nCan use \"Deleted\" attribute:                     yes     non     never\r\n{quote}\r\n\r\nFor that, i need to use a single formatted language string like {quote}\"Can use %s attribute\"{quote}\r\n\r\nMy problem ? see:\r\n!http://img15.hostingpics.net/pics/244209Capture.png!\r\n\r\nIn get_permission_lang() function:\r\n{code:php}\r\n\tpublic function get_permission_lang($permission)\r\n\t{\r\n\t\treturn (isset($this->permissions[$permission]['lang'])) ? $this->user->lang($this->permissions[$permission]['lang']) : $this->user->lang('ACL_' . strtoupper($permission));\r\n\t}\r\n{code}\r\n\r\nIn my case, {code}$this->permissions[$permission]['lang']{code} should be an array. Exemple in my listener:\r\n{code:php}\r\n\t\t$permissions += array(\r\n\t\t\t// ACP\r\n\t\t\t'f_attr_'.$row['attr_id'] => array('lang' => array('CAN_USE_ATTR', $row['attr_name']), 'cat' => 'qte'),\r\n\t\t);\r\n{code}\r\n\r\nI may be cheating by using {code:php}\r\n\t\t$permissions += array(\r\n\t\t\t// ACP\r\n\t\t\t'f_attr_'.$row['attr_id'] => array('lang' => $this->user->lang('CAN_USE_ATTR', $row['attr_name']), 'cat' => 'qte'),\r\n\t\t);\r\n{code} but... it's an ugly trick\r\n\r\nWhat do you think guys ?\n---\n## References\n**JIRA Issue Key:** PHPBB-14843\n**Affects Versions:** 3.1.10, 3.2.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-14843",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.1.10",
      "3.2.0-RC1"
    ]
  },
  {
    "title": "Default names for outbox and sent folders cause a lot of confusion with new users",
    "body": "See the discussion that has been ongoing for 8  years here:\r\nhttps://www.phpbb.com/community/viewtopic.php?f=64&t=675335&p=14497471#p14497471\r\n\r\nAlso see how many google hits for \"phpbb outbox stuck\" there are.\r\n\r\nThe default names of \"outbox\" and \"sent\" lead to much confusion for new users of phpbb.\r\n\r\nIn the physical outbox world (paper in boxes on a desk), something that is still in your outbox hasn't been sent to the recipient yet.\r\n\r\nIn the email outbox, something that is still in your outbox hasn't been sent over the network to your recipient yet.\r\n\r\nIn the phpbb outbox, something that is still in your outbox doesn't have any issues with delivery or sending. It's just a status indicator essentially showing that the recipient(s) haven't opened it yet. If I understand correctly you can still edit it if your board is configured to allow this. The recipient may not have seen the contents yet either (unless the board emails out notifications with the PM contents).\r\n\r\nAs evidenced from the thread above and google searches, \"outbox\" is a very confusing term for NEW phpbb users.\r\n\r\nIt requires explanation that \"phpbb outbox just means the message hasn't been opened by the other user yet, you can still edit it (maybe) and don't worry, it's actually \"sent\"  you don't need to send it again.\"\r\n\r\nThis happens over and over again all over the internet. For every thousand people posting about this there are probably many fold more who silently try to \"fix\" it themselves by deleting/resending PMs, etc.\r\n\r\nOnce you are no longer a NEW users, there's no issue if someone has explained it to you.\r\n\r\nIf the name was more intuitive it would require no explanation though.\r\n\r\nI don't know what the best name would be, but something like:\r\nOutbox --> Sent (unopened)\r\nSent messages --> Sent (opened)\r\n\r\nor unread/read or \"still editable\" or \"editable\" or whatever ...\r\n\r\nAnything intuitive and explanatory would avoid confusion for NEW users, which places a burden on OLD users who have to explain it over and over and over and over again because the use of the term \"outbox\" doesn't fit the \"prior art\" metaphors from the electronic mail and physical message realms people know of when first coming to phpbb.\r\n\r\nAnother suggestion on the linked phpbb forum post was that perhaps the banner text\r\nfor outbox/sent could describe by default what function they serve, so as to explain how\r\nthey are different from what a new users would expect an \"outbox\" is.\r\n\r\nI would personally go with a new name rather than outbox, but perhaps the banner text\r\nidea is a more \"doable\" change politically or what have you.\r\n\r\nThe goal here is just to provide as smooth an experience as possible to NEW users of phpBB PMs and remove any source of confusion they may have which results in lots of chatter on the boards to \"resolve\" the issue (which just gets resolved by an explanation of how it works, which could have been done in the first place by using a different label text or banner text :))\n---\n## References\n**JIRA Issue Key:** PHPBB-14741\n**Affects Versions:** 3.2.0-RC1\n",
    "type": "Feature",
    "jira_key": "PHPBB-14741",
    "jira_type": "Improvement",
    "priority": "Trivial",
    "status": "Open",
    "affects_versions": [
      "3.2.0-RC1"
    ]
  }
]