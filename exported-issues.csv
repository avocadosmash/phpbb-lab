Summary,Issue key,Issue id,Parent id,Issue Type,Status,Project key,Project name,Project type,Project lead,Project description,Project url,Priority,Resolution,Assignee,Reporter,Creator,Created,Updated,Last Viewed,Resolved,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Affects Version/s,Fix Version/s,Component/s,Component/s,Component/s,Component/s,Component/s,Due Date,Votes,Labels,Labels,Labels,Labels,Labels,Labels,Labels,Description,Environment,Watchers,Log Work,Work Ratio,Security Level,Outward issue link (Cause),Inward issue link (Dependency),Outward issue link (Dependency),Inward issue link (Duplicate),Outward issue link (Duplicate),Outward issue link (Duplicate),Inward issue link (Relation),Inward issue link (Relation),Inward issue link (Relation),Outward issue link (Relation),Outward issue link (Relation),Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Attachment,Custom field (Epic Color),Custom field (Epic Link),Custom field (Epic Name),Custom field (Epic Status),Custom field (Fix URL),Custom field (Flagged),Custom field (GitHub Pull Request URL),Custom field (Labels),Custom field (Original story points),Custom field (Parent Link),Custom field (Rank),Sprint,Custom field (Story Points),Custom field (Target end),Custom field (Target start),Custom field (Team),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Custom field (phpBB Import Key),Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment,Comment
Extension Catalog Installs Incompatible Extensions,PHPBB-17561,39989,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,MattF,MattF,29/Sep/25 9:41 PM,30/Sep/25 8:55 PM,08/Nov/25 11:11 AM,,4.0.0-a2,4.0.0-b1,,,,,Extensions,,,,,,0,,,,,,,,"*Summary*

The Extension Catalog currently installs and recommends extensions that are not compatible with phpBB 4. This can result in fatal PHP errors, leaving users with no viable way to recover other than restoring from backups.

*Details*

For example, the catalog recommends the *About Us* extension, version *2.0.4,* a release from 2015 built for phpBB 3.1.3. This version appears because it does not define maximum version constraints for PHP or phpBB. Later releases of the extension do include maximum constraints, flagging them as incompatible with phpBB 4. Since no phpBB 4-compatible release exists in the CDB or Packagist, the catalog defaults to showing this outdated version.

As a result, the catalog currently lists many “stable” extensions that are *not safe to install* on phpBB 4. In practice, there should be zero stable extensions shown at this stage. This creates a high risk for users and could cause widespread breakage.

*Proposed Solution*

Introduce a new Composer parameter in the extra section of composer.json that explicitly marks phpBB 4-compatible extensions as eligible for the catalog. For example:
{code:java}""extra"": {
  ""display-name"": ""About us"",
  ""soft-require"": {
    ""phpbb/phpbb"": "">=4.0.0-a1,<4.1.0@dev""
  },
  ""ext-catalog"": true # Only set true if extension is phpBB4 compatible
}{code} * ext-catalog: true should only be set for extensions verified as phpBB 4 compatible.
 * The Extension Catalog would then filter out all extensions that do not include this flag.

Without a safeguard like this, the Extension Catalog risks recommending and installing extensions that are guaranteed to break phpBB 4 installations.",,,,,,,,,,,,,,,,,"29/Sep/25 9:41 PM;MattF;Untitled.png;https://tracker.phpbb.com/secure/attachment/23420/Untitled.png",,,,,,,,,,,,,,,,,"0|i03qbz:",,,,,,,,,,,,,,"30/Sep/25 8:54 PM;MattF;Thinking about this more, I realized a better option is to just check if an extension requires composer/installers and make sure the version constraint includes 2.0 or higher. That way, ext devs don’t have to do anything extra beyond what they already need for phpBB 4 and the catalog.

This means we’ll filter out extensions that either don’t require composer/installers at all or only allow 1.x, and the catalog will only show extensions that can actually be installed through it.

I’ve updated my PR to go in this new direction.;;;",,,,,,,,,,,,,,,,,,,,,
Add support for automatic updates to ACP frontend,PHPBB-17469,39602,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,CHItA,Marc,Marc,13/Feb/25 8:05 PM,27/Sep/25 4:00 PM,08/Nov/25 11:12 AM,,,,,,,4.0.0-a2,,,,,,,0,,,,,,,,"After the implementation of PHPBB-15851, the frontend also needs to be adjusted to properly interact with the backend for handling a complete automatic update via the ACP.",,,,,,,,PHPBB-15851,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
When a 500 error happens it looks like we nowhere log the error,PHPBB-17550,39886,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,Paul,Paul,26/Sep/25 10:19 AM,26/Sep/25 10:19 AM,08/Nov/25 11:08 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,"Currently, when a 500 error happens, we only tell the user that it happened, however we nowhere log the actual error to figure out what is happening.

 
h1.  
{code:java}
Oops! An Error Occurred The server returned a ""500 Internal Server Error"".
Something is broken. Please let us know what you were doing when this error occurred. We will fix it as soon as possible. Sorry for any inconvenience caused.
{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Rework merge smiles into emojis as customs emojis using a new emoji panel,PHPBB-17014,38196,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,Hanakin,Hanakin,19/Jun/22 8:02 PM,21/Jul/25 7:05 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,4.1.0-a1,ACP,JavaScript / AJAX,Other,Styles,Viewing posts,,0,4.0,Chameleon,,,,,,"remove smiles and replace them with an emoji panel. Add a custom emoji section to the panel. Reworking the new custom emojis to be rendered using the twig icon function. We will need a way to build and display an emoji panel. I will need to be performant so will have to look into how to handle that. We will need to build it ourselves to do this. It's not as easy as just loading all the emojis from iconify as that is very intense load even just as different sections. We could possibly load based on view and just load-unload a row at a time maybe? will need to test for the best way. 

here is an example codepen I put together  https://codepen.io/hanakin/pen/ErBPLL

here is a debug view of it for testing load speeds https://cdpn.io/pen/debug/ErBPLL?authentication_hash=dGkXWNpbabvA",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03btx:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create global template variable arrays for UCP & MCP links ,PHPBB-17015,38197,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,Hanakin,Hanakin,19/Jun/22 8:12 PM,21/Jul/25 7:05 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,4.1.0-a1,Moderator Control Panel (MCP),User Control Panel (UCP),,,,,0,4.0,Chameleon,,,,,,"We need template variables for links to each of the main tabs for the UCP and MCP to include any extended pages.

These need to be accessible to the index to be loaded as global navigation links across the entire app.

For now, we may only need the main pages, reference the attached screen grab, and not the sub-pages that are found down the left-hand side, but we may want o to consider the what-if down the road and just get them all?",,,,,,,,,,,,,,,,,"19/Jun/22 8:08 PM;Hanakin;Capture.PNG;https://tracker.phpbb.com/secure/attachment/21824/Capture.PNG",,,,,,,,,,,,,,,,,"0|i03bty:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Relocate the contents of the assets folder to the all folder,PHPBB-17016,38198,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,Hanakin,Hanakin,21/Jun/22 8:33 PM,21/Jul/25 7:05 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,4.1.0-a1,ACP,Styles,Template Engine,,,,0,4.0,Chameleon,,,,,,"currently there are several css, js, and fonts located in the phpbb/phpBB/assets folder. These all need moved to the phpbb/phpBB/styles/all folder. This is required not only for chameleon and the restructure of the template system but is also needed for sanity to house all of our css and js in one unified location instead of spider all over the place. Eventually the styles and ACP should all pull the js/imgs/external css/etc... from this one central location.

so a rundown of the changes required

phpbb/phpBB/assets/css -> phpbb/phpBB/styles/all/css

phpbb/phpBB/assets/javascript-> phpbb/phpBB/styles/all/js

phpbb/phpBB/assets/pupload/plupload.full.min.js-> phpbb/phpBB/styles/all/js/plupload.full.min.js

phpbb/phpBB/assets/cookieconsent/cookieconsent.min.css-> phpbb/phpBB/styles/all/css
phpbb/phpBB/assets/cookieconsent/cookieconsent.min.js-> phpbb/phpBB/styles/all/js

also should go without saying but will need to rework all links to these in the template files and the template variables that point to them.

we can probably simplify everything into a single template variable of template_asset possibly? As the only thing that would change is an industry standard folder for each type of asset",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Auto generate avatars for users without them,PHPBB-17018,38200,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,Hanakin,Hanakin,23/Jun/22 6:43 PM,21/Jul/25 7:04 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,4.1.0-a1,Template Engine,,,,,,0,4.0,Chameleon,,,,,,"Going forward avatars will be required and there will no longer be an option to disable them. It should also be able to backfill all current users without an avatar.

This is because they are a useful tool for handling responsive display of interactions with users. Its also a standard for all social apps these days. Not to mention it causes layout issues if we do not standardize everything related to avatars.

As such we need to include something to accommodate anyone who does not have or want an avatar during registration. Something similar to GitHub where its a graphical identity icon representation of their username.

something like

https://github.com/splitbrain/php-ringicon (my personal preference)

or this

https://github.com/rmhdev/identicon

where it can generate an svg avatar that can be stored in the database to load if they do not have a custom one.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mrb:",,,,,,,,,,,,,,"25/Jun/22 10:32 AM;david63;I am not arguing the case as to whether there should or should not be an avatar for all users as that decision appears to have already been made but personally I do not like either of the two samples above and would much prefer the type of avatar that uses the first initial, perhaps as an Admin option.

 

There also needs to be, in my opinion, from a board management perspective, the ability to highlight new users, and in-particular members of the NRU group with the generated avatar.

 

I do not believe that storing these generated avatars in the database is a good idea as all that will do is clutter up the database with unnecessary data (a large majority of these ""generated avatars"" will relate to members who sign up and do not visit the board again). These should be generated ""on the fly""

 

Totally disabling the ability to disable avatars is a pointless exercise because it will not take long for somebody to create an extension to do it.;;;","05/Jul/22 10:29 AM;rubencm;It should be better identicon, since the other library require gd;;;",,,,,,,,,,,,,,,,,,,,
Some constants don't work from controllers,PHPBB-15812,35504,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,rubencm,rubencm,28/Sep/18 3:03 PM,01/Oct/18 3:16 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,1,,,,,,,,"Some constants like SKIP_CHECK_BAN and SKIP_CHECK_DISABLED don't work from controllers, because the check is done when the session starts, which is before the controller is loaded.",,,,,,,,PHPBB-9616,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ekn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Is not possible to start a session without update session page from controllers,PHPBB-15804,35494,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Blocker,,,rubencm,rubencm,23/Sep/18 11:39 PM,24/Sep/18 1:21 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Sessions,,,,,,0,,,,,,,,"Currently, app.php start the session management, so the session page is updated.

This is a problem for download controllers, because there is no way to don't update session page when executing those controllers.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03eif:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
PHP warning on viewing a topic page with avatars as bot,PHPBB-17581,40181,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,04/Nov/25 4:14 AM,04/Nov/25 4:33 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Styles,Viewing posts,,,,,0,,,,,,,,"When viewing a topic page with avatars as bot and there're avatars. PHP warning is being thrown:

 
{noformat}[phpBB Debug] PHP Warning: in file [ROOT]/vendor/twig/twig/src/Template.php on line 345: Array to string conversion
Array{noformat}
No further details in webserver's error log.

 

Report: https://www.phpbb.com/community/viewtopic.php?t=2666524

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qgn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Downloading files with a byte range of 8192 bytes causes fatal error,PHPBB-17580,40180,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,NeoDev,NeoDev,03/Nov/25 9:53 PM,03/Nov/25 10:27 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,,,,,,,0,,,,,,,,"Partial downloads of a file from phpBB, such as an attachment, using content ranges of 8192 bytes or a multiple thereof causes a fatal error in php. This can be reproduced using curl and the --range option.
{code:java}
// Fetch the first 8192 bytes of a file
curl --range 0-8191 https://example.com/phpBB/download/file.php?id=1234{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CodeSniffer ruleset (PPSSE) not fully compatible with CS 4,PHPBB-17563,39991,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,LukeWCS,LukeWCS,02/Oct/25 7:15 PM,02/Nov/25 7:24 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Continuous Integration (CI),,,,,,0,,,,,,,,"I'm currently updating phpBB Ext Check for CodeSniffer 4.0. Before 4.0, I was using CS 3.13.2. In addition to various necessary adjustments for CS 4, I also noticed a problem with PPSSE.

At first, I suspected my specially constructed test ext, but then I tested one ext each from different developers, and the problem appeared with every ext. Suddenly, a file that hadn't been detected before is reported. However, the cause of the report isn't an error with the developer, but with PPSSE:

Example for the About Us 2.1.4 ext:
{code}CS ruleset    : phpBB PHP Strict Standard Extensions
Extensions    : php
Files found   : 15
Files affected: 1

FILE: phpbb3-about-us-2.1.4\event\main_listener.php
--------------------------------------------------------------------------------
FOUND 4 ERRORS AFFECTING 4 LINES
--------------------------------------------------------------------------------
  1 | ERROR | An error occurred during processing; checking has been aborted.
    |       | The error message was: Uninitialized string offset 0 in
    |       | \lib\phpbb\php-strict-standard-extensions_3\phpbb\Sniffs\Namespaces\UnusedUseSniff.php
    |       | on line 106
    |       | The error originated in the phpbb.Namespaces.UnusedUse sniff on
    |       | line 106.
 54 | ERROR | Either use statement or full name must be used.
 68 | ERROR | Either use statement or full name must be used.
 86 | ERROR | Either use statement or full name must be used.
-------------------------------------------------------------------------------
{code}
Tested with:

phpBB Ext Check 1.10
PHP 8.4.8 and 8.4.13
CodeSniffer 4.0 (Release)
PPSSE 2025.5.14 [7268859] 

Matt, as additional information: I briefly downgraded CS from 4.0 to 3.13.4, which is two versions further than what I had before upgrading to 4.0. This made PPSSE work perfectly again. This means the problem must be directly related to CS 4.0.

 

edit: Added the full EC report for the TFP extension for rxu. This is the sixth extension I've tested.",,,,,,,,,,,,,,,,,"03/Oct/25 6:33 PM;LukeWCS;phpBB-Ext-Check_2025-10-03_20-16-51_gfksx_thanksforposts_2-1-1.zip;https://tracker.phpbb.com/secure/attachment/23421/phpBB-Ext-Check_2025-10-03_20-16-51_gfksx_thanksforposts_2-1-1.zip",,,,,,,,,,,,,,,,,"0|i03qcf:",,,,,,,,,,,,,,"03/Oct/25 1:06 PM;rxu;What is PPSSE? And what phpBB version?

And what is the code of phpbb3-about-us-2.1.4\event\main_listener.php in question?;;;","03/Oct/25 1:41 PM;LukeWCS;@rxu

Abbreviation for:

{*}p{*}hpBB {*}P{*}HP {*}S{*}trict {*}S{*}tandard {*}E{*}xtensions

For me, the term SNIFF would be imprecise, because I use more than one CodeSniffer ruleset.

Above, I specified the commit ID for PPSSE, but explicitly as phpBB version: 3.3.15. The problem probably also exists in the 4.0 branch, but I haven't tested it.

??And what is the code of phpbb3-about-us-2.1.4\event\main_listener.php in question? ??

I haven't posted any code because the issue affects many extensions. I tested five, so one extension from five developers. About Us is just an example, but here's the code:

main_listener.php
{code:php}<?php
/**
*
* About us extension for the phpBB Forum Software package.
*
* @copyright (c) 2014-2020 Crizzo <https://www.crizzo.de>
* @license GNU General Public License, version 2 (GPL-2.0)
*
*/

namespace crizzo\aboutus\event;

/**
* @ignore
*/
use Symfony\Component\EventDispatcher\EventSubscriberInterface;

/**
* Event listener
*/
class main_listener implements EventSubscriberInterface
{
	public static function getSubscribedEvents()
	{
		return array(
			'core.user_setup'						=> 'load_language_on_setup',
			'core.page_header'						=> 'add_page_header_link',
			'core.viewonline_overwrite_location'	=> 'add_aboutus_viewonline',
		);
	}
	/** @var \phpbb\config\config */
	protected $config;

	/* @var \phpbb\controller\helper */
	protected $helper;

	/* @var \phpbb\template\template */
	protected $template;

	/* @var \phpbb\language\language */
	protected $language;

	/* @var string phpEx */
	protected $php_ext;

	/**
	* Constructor
	*
	* @param \phpbb\controller\helper	$helper		Controller helper object
	* @param \phpbb\template\template	$template	Template object
	* @param \phpbb\language\language	$language
	* @param string						$php_ext	phpEx
	*/
	public function __construct(
		\phpbb\config\config $config,
		\phpbb\controller\helper $helper,
		\phpbb\template\template $template,
		\phpbb\language\language $language,
		$php_ext)
	{
		$this->config = $config;
		$this->helper = $helper;
		$this->template = $template;
		$this->language = $language;
		$this->php_ext = $php_ext;
	}

	public function load_language_on_setup($event)
	{
		$lang_set_ext = $event['lang_set_ext'];
		$lang_set_ext[] = array(
			'ext_name' => 'crizzo/aboutus',
			'lang_set' => 'common',
		);
		$event['lang_set_ext'] = $lang_set_ext;
	}

	public function add_page_header_link()
	{
		$this->template->assign_vars(array(
			'U_ABOUTUS'			=> $this->helper->route('crizzo_aboutus'),
			'ABOUTUS_ENABLE'	=> $this->config['acp_aboutus_enable'],
		));
	}

	public function add_aboutus_viewonline($event)
	{
		if ($event['row']['session_page'] === 'app.' . $this->php_ext . '/aboutus' ||
			$event['row']['session_page'] === 'app.' . $this->php_ext . '/aboutus.php')
		{
				$event['location'] = $this->language->lang('VIEWONLINE_ABOUTUS');
				$event['location_url'] = $this->helper->route('crizzo_aboutus');
		}
	}
}
{code}
[https://github.com/Crizz0/phpbb3-about-us/blob/2.1.x/event/main_listener.php]
[https://www.phpbb.com/customise/db/extension/about_us/];;;","03/Oct/25 5:35 PM;rxu;Hard to test because straight upgrade to Codesniffer 4 leads to fatal errors, so apparently some other core adjustments required.;;;","03/Oct/25 6:37 PM;LukeWCS;[~rxu] 

Okay, EC (phpBB Ext Check) runs in a completely separate Composer context and is not dependent on phpBB in any way. This means I run CS + PPSSE essentially standalone, so nothing can interfere with the respective testing tools. Even the EC core can't interfere, since all tools are called via the CLI and aren't directly included in the core code. This way, everything is isolated from each other, and even serious errors in a testing tool can't crash EC.

I tested a sixth extension, your TFP. The problem is evident here as well. I've attached the report above as a ZIP file, so you can see it in its entirety and not just a fragment.

As I wrote above in a comment for Matt, as soon as I downgrade to CS 3.13.4, PPSSE works perfectly again as usual.;;;","04/Oct/25 7:47 AM;rxu;Thanks, but still can't get how to reproduce that (for the sake of debugging).;;;","04/Oct/25 11:59 AM;LukeWCS;The upgrade to CS 4 itself worked without any problems for me. And it works in general, as you can see from the other CS rulesets:
 * PHPCompatibility
 * VariableAnalysis

VA 2.13 was also adapted to CS 4 just a few days ago, see:

[https://github.com/sirbrillig/phpcs-variable-analysis/issues/355]

But I hadn't noticed at the time that PPSSE still had an issue with CS 4.

??Hard to test because straight upgrade to Codesniffer 4 leads to fatal errors??

What kind of errors are you encountering when you try to upgrade to CS 4?;;;","04/Oct/25 2:41 PM;rxu;> What kind of errors are you encountering when you try to upgrade to CS 4?

That's probably my local setup, it was ""{*}Fatal error{*}: Uncaught Error: Undefined constant ""PHP_CodeSniffer\Util\Writers\STDERR"""" which I have workarounded and sniff worked without problems.;;;","04/Oct/25 3:16 PM;LukeWCS;??""{*}Fatal error{*}: Uncaught Error: Undefined constant ""PHP_CodeSniffer\Util\Writers\STDERR""??

Ah, that's interesting for two reasons:
 # STDERR is one of the things I had to adjust in EC to get everything working as it should again. See also: 
[https://github.com/PHPCSStandards/PHP_CodeSniffer/wiki/Version-4.0-User-Upgrade-Guide#progress-error-and-debug-output-is-now-sent-to-stderr]
 # I haven't encountered this message myself in CS 4.

The second thing I had to adjust in EC was this:

[https://github.com/PHPCSStandards/PHP_CodeSniffer/wiki/Version-4.0-User-Upgrade-Guide#exit-codes];;;","05/Oct/25 5:08 PM;LukeWCS;I've conducted further tests, including this extension:

[https://www.phpbb.com/customise/db/extension/download_extension/]

This extension has 147 PHP files, and the error occurs in 4 of them. The error always occurs when
{code:php}use{code}
is used. And if this directive is present, the error always occurs, so the error is 100% reproducible.

The error must be in UnusedUseSniff.php or in a parent file that uses this class. Unfortunately, I have no knowledge of creating CS rulesets, so I can't pinpoint the problem myself.

So, I'll stick with CS 3 for now.;;;","02/Nov/25 3:50 PM;MattF;A couple things going on here.

For phpBB:
phpbb/codesniffer/phpbb/Sniffs/Namespaces/UnusedUseSniff.php Line 106
{code}if ($name_full[0] === '\\'){code}
Should be fixed:
{code}if (!empty($name_full) && $name_full[0] === '\\'){code}
2nd issue (not phpBB):

Regarding a bunch of errors in *gfksx\thanksforposts* that it now flags: It’s telling you that the ext references a class using a partial namespace, not a fully-qualified one (starting with slash) and without a use statement for it.

In its listener's constructor, it has *$helper* without using its fully qualified namespace as a type hint, like all the other's in the constructor. So that gets flagged as an error in CS4. Since *$helper* is fully qualified in the docblock, this ext needs an update too with *\rxu\thanksforposts\core\helper $helper* in its constructor (and in the docblock it also needs the slash at the start)

 

CS3 did not care about the array offset issue. Also CS4 tightened namespace resolution rules, which is why this ext would pass with CS3;;;","02/Nov/25 6:07 PM;LukeWCS;Matt, that's it, the problem with the CS error message is resolved. :)

I repeated my tests, data on the test environment:

PHP: 8.4

PPSSE 3.3: 2025.5.14 [7268859]

About Us 2.1.4: [https://www.phpbb.com/customise/db/extension/about_us/]

 

CS 3.13.4:
{code:java}CS ruleset    : phpBB PHP Strict Standard Extensions
Extensions    : php
Files found   : 15
Files affected: 0


No issues found {code}
 

CS 4.0 without PPSSE patch:
{code:java}CS ruleset    : phpBB PHP Strict Standard Extensions
Extensions    : php
Files found   : 15
Files affected: 1


FILE: crizzo\aboutus\event\main_listener.php
--------------------------------------------------------------------------------
FOUND 4 ERRORS AFFECTING 4 LINES
--------------------------------------------------------------------------------
  1 | ERROR | An error occurred during processing; checking has been aborted.
    |       | The error message was: Uninitialized string offset 0 in
    |       | \lib\phpbb\php-strict-standard-extensions_3\phpbb\Sniffs\Namespaces\UnusedUseSniff.php
    |       | on line 106
    |       | The error originated in the phpbb.Namespaces.UnusedUse sniff on
    |       | line 106.
 54 | ERROR | Either use statement or full name must be used.
 68 | ERROR | Either use statement or full name must be used.
 86 | ERROR | Either use statement or full name must be used.
--------------------------------------------------------------------------------{code}
 

CS 4.0 with PPSSE patch:
{code:java}CS ruleset    : phpBB PHP Strict Standard Extensions
Extensions    : php
Files found   : 15
Files affected: 1


FILE: crizzo\aboutus\event\main_listener.php
----------------------------------------------------------------------
FOUND 4 ERRORS AFFECTING 4 LINES
----------------------------------------------------------------------
 16 | ERROR | There must not be unused USE statements.
 54 | ERROR | Either use statement or full name must be used.
 68 | ERROR | Either use statement or full name must be used.
 86 | ERROR | Either use statement or full name must be used.
----------------------------------------------------------------------{code}
This means two things:
1. The primary problem with CS 4 is resolved. (y)
2. We now have to deal with the ""new"" PPSSE messages in our extensions.

 

edit:

I have now also tested how the PPSSE patch behaves in combination with 3.13.4: no problems found:
{code:java}
CS ruleset    : phpBB PHP Strict Standard Extensions
Extensions    : php
Files found   : 15
Files affected: 0


No issues found{code};;;",,,,,,,,,,,
"user_delete should anonymize posts, PMs and poll votes",PHPBB-17578,40093,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Aeonic,Aeonic,28/Oct/25 9:33 PM,28/Oct/25 10:28 PM,08/Nov/25 11:12 AM,,3.0.14,3.1.12,3.2.11,3.3.15,4.0.0-a1,,Other,,,,,,0,,,,,,,,"The function user_delete in functions_user.php does not delete poll votes, as previously reported here: https://tracker.phpbb.com/browse/PHPBB3-9838

While that was closed as ""won't fix"", anonymizing poll vote user IDs and especially IP addresses should still be done.

Similarly, posts and PMs retained after user deletion still keep IP addresses.

Users often request account deletion out of privacy concerns. It is reasonable for users and board administrators to expect that user deletion removes all personal data that can be removed automatically.

Especially when retaining posts under their original username, having IP addresses associated with those posts can be a privacy concern.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qfz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrap all front controllers by HttpKernel,PHPBB-14435,32598,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,nicofuma,nicofuma,nicofuma,26/Jan/16 10:12 PM,27/Oct/25 2:13 PM,08/Nov/25 11:12 AM,,3.2.0-a2,,,,,4.1.0-a1,,,,,,,0,,,,,,,,Wrapping all front controllers by HttpKernel will ease the integration of new features and the refactoring of transversal features (like the auth system),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002vz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update storage configuration options to include adapter name,PHPBB-17574,40088,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,rubencm,rubencm,rubencm,26/Oct/25 10:32 AM,26/Oct/25 10:32 AM,08/Nov/25 11:12 AM,,4.0.0-a2,,,,,,,,,,,,0,,,,,,,,"As discussed with rxu, I think is better to update configuration options from
{code:java}
storage\avatars\config\path{code}
to something like
{code:java}
storage/avatars/config/local/path{code}
This way extension can set default values for configurations when installing them, also they can clean their configuration options after they are removed.

Also, currently configuration options are shared between adapters, so they are overwriten every time.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to run phpunit in local again,PHPBB-17573,40087,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,rubencm,rubencm,rubencm,26/Oct/25 10:13 AM,26/Oct/25 10:25 AM,08/Nov/25 11:12 AM,,4.0.0-a2,,,,,,,,,,,,0,,,,,,,,"[https://github.com/phpbb/phpbb/pull/6273]

 

After this PR, phpunit stoped working in local for me reporting a lot of database errors.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qen:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Diff engine causes PHP fatal error,PHPBB-17560,39988,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,29/Sep/25 5:08 PM,18/Oct/25 3:57 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Update system,,,,,,0,,,,,,,,"Report: [https://www.phpbb.com/community/viewtopic.php?p=16082743#p16082743]

 

Diff engine declares $final1 and $final2 properties of class diff3_op as protected:

[https://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L771]

https://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L776

 

but refers them dynamically from outside:

[https://github.com/phpbb/phpbb/blob/a063b534eb7441f30251e6e470bd255ccd74eb2a/phpBB/includes/diff/diff.php#L570]

 

Hence the error in advanced update package:

PHP Fatal error: Uncaught Error: Cannot access protected property diff3_op::$final1 in [ROOT]/install/update/new/includes/diff/diff.php:570",PHP 8.4,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extension Catalog can be installed without repositories,PHPBB-17559,39987,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MattF,MattF,29/Sep/25 3:11 PM,29/Sep/25 3:16 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Extensions,,,,,,0,,,,,,,,"Depending on how you are installing a new forum, the extension repositories in the extension catalog is missing the expected repositories that allow the catalog to work as intended.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CPF Skype,PHPBB-17558,39986,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,david63,david63,29/Sep/25 10:02 AM,29/Sep/25 1:24 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,ACP,,,,,,0,,,,,,,,The Skype CPF is still available in phpbb even though it was retired in May 2025,,,,,,,,,,PHPBB-17505,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qbb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove skype from phpbb,PHPBB-17505,39701,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,08/May/25 1:13 PM,29/Sep/25 1:24 PM,08/Nov/25 11:12 AM,,3.3.16-RC1,4.0.0-a1,,,,,,,,,,,0,beginner,Beginner,easy,,,,,"Microsoft has closed skype, so it don't exist anymore.

This can be used as base

https://github.com/phpbb/phpbb/pull/5923/files",,,,,,,,,PHPBB-17558,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pzb:",,,,,,,,,,,,,,"08/May/25 3:27 PM;rxu;Or probably replace it with Teams.;;;","10/May/25 6:28 PM;rubencm;Well, to be honest, I would remove most of them (aol, icq, yahoo) and add those that people actually use this days, like instagram, discord, telegram, github, ...;;;","11/May/25 5:50 AM;rxu;BTW, ICQ doesn't exist anymore either.;;;",,,,,,,,,,,,,,,,,,,
Bug: Topic merge view count is not merged after a merger,PHPBB-17482,39618,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Neustradamus,Neustradamus,07/Mar/25 3:40 AM,28/Sep/25 10:43 AM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Viewing posts,,,,,,0,viewtopic,,,,,,,"Dear phpBB team,

I have found a bug, I have merged two topics but the viewer counter has not been updated with number addition.

Can you solve it?

Thanks in advance.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pu7:",,,,,,,,,,,,,,"27/Mar/25 10:32 AM;battye;There's been a little bit of chat on Discord about this.

On line 458 of mcp_forum.php it's purposely taking the higher view count of the merged topics. It looks like it was written that way intentionally.

But I agree that it might make more sense to merge the view counts.

Do you have any thoughts [~Marc]?;;;","28/Sep/25 10:43 AM;Crizzo;That was done on purpose with [ticket/14795] https://tracker.phpbb.com/browse/PHPBB-14795
https://github.com/phpbb/phpbb/commit/fce30d1d91d7e1e4a2c2989640d5c5176e7fada0 ;;;",,,,,,,,,,,,,,,,,,,,
Upgrade to Symfony 7.4,PHPBB-17556,39984,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Marc,Marc,27/Sep/25 5:06 PM,28/Sep/25 9:25 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,We should upgrade to Symfony 7.4 for the LTS version coming at the end of this year.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
at a minimum we should start including a minified version of the style,PHPBB-15405,34556,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Hanakin,Hanakin,16/Oct/17 4:50 PM,27/Sep/25 4:11 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Styles,,,,,,0,4.0,Chameleon,easy,front-end,,,,"We can determine how and what to do with it in a separate ticket, but we should at least include it for those who wish to manually use it.",,,,,,,,,,,,,,,PHPBB-14149,,,,,,,,,,,,,,,,,,,"0|i03btz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Offer a way for extensions to configure the text_formatter.parser service for a given user,PHPBB-13802,30974,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,JoshyPHP,JoshyPHP,30/Apr/15 9:16 PM,27/Sep/25 11:04 AM,08/Nov/25 11:12 AM,,3.2.0-dev,,,,,,Posting,,,,,,1,Beginner,,,,,,,"Some extensions such as ABBC3 want to toggle some features based on a post's author. Currently, this is done through the {{core.text_formatter_s9e_parser_setup}} event. However, this event triggers only once during setup and with current user, who is not necessarily the post's author. It also adds a weak dependency to the parser service. There's got to be a better way.",,,,,,,,,,,,PHPBB-13803,PHPBB-13801,,,,,,,,,,,,,,,,,,,,,"0|i0074n:",,,,,,,,,,,,,,"25/May/15 5:47 PM;JoshyPHP;Since this is only really relevant during reparsing, this should probably be an event in the reparser service.;;;","27/Nov/15 10:49 PM;VSE;@JoshyPHP got any ideas for this yet?;;;","29/Nov/15 9:13 AM;JoshyPHP;No specific ideas, no. The first step would be to [modify phpbb\textreparser\base to add a ""user_id"" field to each record|https://github.com/phpbb/phpbb/compare/master...JoshyPHP:ticket/13802?expand=1] and then create an event that gives access to the record. It would have to default to ANONYMOUS because not every text has a known author: contact_admin_info, forum_description, forum_rules, group_description don't have one.

Then I guess _maybe_ extensions can configure the text_formatter.parser service to toggle features depending on the author?

Or perhaps the original message_parser class should be modified to be aware of a message's author instead. That could fix the root cause of the problem, because as it is extensions still rely on the assumption that the current user is the author of the message being parsed.;;;","18/Dec/15 12:39 AM;VSE;Would this work?? Define a constant in the text reparser class, ie: IN_TEXT_REPARSER. Then in an extension like ABBC3 you could simply bypass any user permission restrictions if IN_TEXT_REPARSER is defined and true?;;;","18/Dec/15 11:20 AM;JoshyPHP;I don't know, that seems dodgy.;;;","18/Dec/15 4:11 PM;VSE;Yeah. In fact thinking about this further, i think the solution really needs to be entirely within phpBB itself, because if it relies on an extensions to use an event or something, there's no guarantee that users will have the version of an extension that could address this installed when the reparser runs.;;;","12/Mar/16 12:04 AM;VSE;JoshyPHP

Based on your earlier comment, couldn't you grab the post author's user id, where applicable, and temporarily assign the $user data array's user_id to the post author, during the reparsing? Should work for the CLI, but might be a problem with cron triggered tasks.

Would like to see some solution to this before 3.2 is released. :S;;;","12/Mar/16 12:16 AM;JoshyPHP;I don't know, changing the global $user during reparsing seems dangerous to me. I don't think there's an easy way to do this and I don't see that happening in 3.2. The correct way might be to have a proper service or API to replace the parse_message class and have this service use an instance of the user object (which would be set to the current user by default) to configure the textformatter service according to this user's preference and credentials. Calls to the parse_message class or the generate_text_for_* functions would have to be replaced and extensions that rely on the many, many events triggered by those functions would need to be updated unless a compatibility layer is provided. That would be an extensive change.;;;",,,,,,,,,,,,,,
Add method for displaying location of routes in viewonline,PHPBB-13671,30741,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marc,Marc,05/Mar/15 2:15 PM,27/Sep/25 11:04 AM,08/Nov/25 11:12 AM,,3.2.0-dev,,,,,,,,,,,,0,,,,,,,,Viewonline should correctly display the location of routes without us having to treat those in a special manner. See related change and comment: https://github.com/phpbb/phpbb/pull/3434/files#diff-6a60e6a12bd4417e26a9c7e7fd9bef1aR359,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i007zr:",,,,,,,,,,,,,,"31/Oct/19 6:54 PM;rubencm;Related: https://github.com/phpbb/phpbb/pull/5410/files#diff-bf89cb421bf9f6fb8770a54ba5711efcR340-R389;;;",,,,,,,,,,,,,,,,,,,,,
m_report should properly imply f_read for reported posts,PHPBB-13676,30747,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,bantu,bantu,06/Mar/15 11:33 PM,27/Sep/25 11:03 AM,08/Nov/25 11:12 AM,,3.1.3,,,,,,,,,,,,0,,,,,,,,"Previously reported in https://tracker.phpbb.com/browse/SECURITY-179

m_report already implies f_read for reported posts, but such reports are only accessible if the forum_id is removed from the URL.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i007yf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Separate option for forcing path/server vars on front controller or revert forcing settings,PHPBB-14723,33068,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MichaelC,MichaelC,27/Jul/16 11:40 PM,27/Sep/25 11:03 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Otherwise front controllers in other locations have problems generating routes, this brought down titania and was a BC break to fix a bug.

https://github.com/phpbb/phpbb/commit/1a5fbd4bd06e7ae7a89637c0977da2fed8cd62fb#diff-56688d0c8efc8fb2f9ee96495fbdc976R151

https://tracker.phpbb.com/browse/PHPBB3-13683",,,,,,PHPBB-13683,,,,,,,,,WEBSITE-1284,,,,,,,,,,,,,,,,,,,"0|i000wv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private Message Search Inbuilt,PHPBB-14582,32889,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Tarantino,Tarantino,06/Apr/16 6:01 PM,27/Sep/25 10:32 AM,08/Nov/25 11:12 AM,,,,,,,,Private Messages (PM),Search,,,,,3,,,,,,,,"I guess all will agree that a PM Search is Needed for any forum. It doesnt make sense to not have a way to search on the private messages.

I saw this extension: https://github.com/satanasov/pmsearch

But this really should exist on the phpbb core! ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i035r3:",,,,,,,,,,,,,,"27/Sep/25 10:32 AM;rubencm;I think this should go in [https://www.phpbb.com/ideas/];;;",,,,,,,,,,,,,,,,,,,,,
Attachments Dissapears From Post,PHPBB-15281,34298,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Leinad4Mind,Leinad4Mind,19/Jul/17 10:38 PM,26/Sep/25 10:28 AM,08/Nov/25 11:12 AM,,3.1.10,3.2.1,3.2.2,3.3.7,,4.0.0-a2,Posting,,,,,,1,attachments,permissions,,,,,,"I am a moderator of phpbbportugal forum and if I edit this post from an admin:

[http://i.imgur.com/Q0jmjfM.png|http://i.imgur.com/Q0jmjfM.png]

Since I don't have permissions to add attachments, after fix any error on the text and then submit. It will delete the attachment from the post, and the attachment was already there, sended by the admin.

I know I don't have permissions to add attachments, but since it was added by other user then me the user that is editing that post, it should send the post without losing the attachment, since it was added not by me. 

Basically, phpbb should save who adds the attachments for each post, and if someone that is not the author edits that post and without having permission to add attachments, it should keep the attachment and not remove it from post...

We can see that on viewforum it still appears the icon of the existance of attachment:
[https://i.imgur.com/dCJFzag.png|https://i.imgur.com/dCJFzag.png]

But inside, we can't see nothing no more:
[https://i.imgur.com/ZvzYDMP.png|https://i.imgur.com/ZvzYDMP.png]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ay7:",,,,,,,,,,,,,,"20/Jul/17 1:05 AM;DavidIQ;Is this an issue in 3.2 as well?;;;","21/Jul/17 4:42 PM;Leinad4Mind;They will update the forum to 3.2 I'll try again soon and report it. ;;;","24/Sep/17 10:56 AM;Leinad4Mind;I can confirm that this still happens on 3.2.1;;;","12/Sep/22 10:12 AM;Leinad4Mind;Problem still happens on 3.3.7, so it should still be present on 3.3.8 as well.

This was reported 5 years ago...;;;",,,,,,,,,,,,,,,,,,
Improve handling of DDoS/brute force attacks on login form,PHPBB-17545,39881,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Derky,Derky,Derky,25/Sep/25 1:11 PM,25/Sep/25 1:11 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Sessions,,,,,,0,,,,,,,,"Ticket number for this PR: [https://github.com/phpbb/phpbb/pull/6383]

 
{panel:title=rob006 wrote}
Background:

I had a DDoS attack on login form. It quickly filled the sessions table with tens of thousands of sessions for the anonymous user. A lot of sessions for this user dramatically decreased the performance of {{SELECT COUNT(session_id) AS sessions FROM  SESSIONS_TABLE  ...}} query, since the efficiency of {{session_user_id}} index was almost non-existent (99% of sessions was for anonymous user, so the query needed to count almost all rows in table). I excluded this query for the anonymous user, since it was not needed anyway. This significantly improved performance of forum, but...

...sessions were still created and the sessions table was growing. I ignored this, but after a few days I realized that cron does not work correctly. It turns out that task for clearing old sessions tried to load hundreds of thousands of sessions in one query, which exceeded the memory limit, and the whole process failed (and this was repeated over and over since old sessions were never removed). I added a limit to this query, so sessions could be cleaned up in smaller batches (I'm still not sure if this limit is optimal, but it worked for me).
{panel}
 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6383,,,,"0|i03q8f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use virtual filesystem in tests,PHPBB-16961,37940,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,31/Jan/22 12:57 AM,24/Sep/25 3:08 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,4.1.0-a1,,,,,,,0,testsuite,,,,,,,"Try to mock the filesystem using https://github.com/bovigo/vfsStream
So tests wont modify filesystem, also wont be necesary to clean the filesystem modifications before/after the test is run",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ext Mgr Version Check Should Respect Branches,PHPBB-15004,33649,,Bug,Confirmed,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,VSE,VSE,13/Jan/17 9:19 PM,24/Sep/25 3:08 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0,,,,4.0.0-a2,ACP,Extensions,,,,,0,Sorted,,,,,,,"The version check feature of the extension manager is not branch-aware.

This means, a user of phpBB 3.1.x would be notified an extension is out of date and needs updating, if that extension happens to have a new release just for phpBB 3.2.x, while in fact the 3.1.x release may be current and up to date.

This could cause some users to install incompatible extensions on their 3.1.x boards. At the very least it will also prevent users from knowing when their extensions truly are out of date.

The extension manager should be able to dicern the difference so it can tell users when the extension from the branch they are using is the one that's been updated.

Version info files from titania will contain branches if the extension has separate downloads/revisions for the 3.1.x line and 3.2.x line. For example:
{code}
{
    ""stable"": {
        ""1.0"": {
            ""current"": ""1.0.3"",
            ""download"": ""https://www.phpbb.com/customise/db/download/xxx"",
            ""announcement"": ""https://www.phpbb.com/customise/db/extension/xxx/"",
            ""eol"": null,
            ""security"": false
        },
        ""2.0"": {
            ""current"": ""2.0.0"",
            ""download"": ""https://www.phpbb.com/customise/db/download/xxxx"",
            ""announcement"": ""https://www.phpbb.com/customise/db/extension/xxx/"",
            ""eol"": null,
            ""security"": false
        }
    }
}
{code}
",,,,,,,,,,,,,,,PHPBB-14968,,,,,,,,,,,,,,,,,,,"0|i0391j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Doctrine DBAL,PHPBB-14463,32705,,New Feature,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,MichaelC,MichaelC,MichaelC,06/Feb/16 4:49 PM,24/Sep/25 3:07 PM,08/Nov/25 11:12 AM,,,,,,,4.1.0-a1,,,,,,,1,,,,,,,,"Nuke Current DBAL
Expose doctrine DBAL through a new service
Add a wrapper for the doctrine dbal to prevent BC breaks.

RFC: https://area51.phpbb.com/phpBB/viewtopic.php?f=108&t=44487",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002vb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Temp Admin Account,WEBSITE-1442,39805,,Security Issue,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,thecoalman,thecoalman,11/Aug/25 3:03 PM,19/Sep/25 9:43 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"There is at least two topics I have seen where user report duplicate entry for admin1 which is presumably because they didn't follow directions and delete it previously. I would also guess that the hackers/exploiters are aware of that account.  

For a long term solution I suggested in the Ideas forum it be part of my ""phpBB Safe mode"" idea.

[https://www.phpbb.com/community/viewtopic.php?f=436&t=2655673]

Short term perhaps the password should be changed occasionally in canned message and retroactively change existing posts to something different than ""admin"".  

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q6f:",,,,,,,,,,,,,,"04/Sep/25 5:30 PM;Paul;Not sure how this is related to the website? All team members are free to update the canned messages, and we can't do much about users not following instructions.;;;","19/Sep/25 9:43 PM;thecoalman;It has to do with the website because the canned message has been posted so frequently and many people are going to come across it searching for answer. Editing those posts so username and password is less obvious will help prevent future occurrences. ;;;",,,,,,,,,,,,,,,,,,,,
Unsubscribe from emails without logging in,PHPBB-10282,20606,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Elsensee,Marshalrusty,Marshalrusty,17/Jul/11 2:53 AM,21/Jul/25 7:22 PM,08/Nov/25 11:12 AM,,3.1.0-dev,,,,,4.1.0-a1,Other,,,,,,1,,,,,,,,"There is currently no way to unsubscribe from a phpBB board's emails without first logging in. Whenever an old topic on a board gets bumped and/or becomes active again, there will likely be a number of users who no longer care about the site (and don't remember their credentials) and yet receive notification emails. To unsubscribe, they have to login, which means resetting their password.",,,,,,,,,,,,PHPBB-14656,,,,,,,,,,,,,,,,,,,,,,"0|i01fd3:",,,,,,,,,,,,,,"29/Nov/11 3:35 PM;imkingdavid;I've wanted something like this for a while, but never actually got around to writing a MOD. I'd be willing to work on the feature. This is for 3.1, right? I don't see an RFC on area 51, though. EDIT: RFC is posted: http://area51.phpbb.com/phpBB/viewtopic.php?f=108&t=42071

What would be a good way to do this? We could simply have an unauthenticated unsubscribe page, and in the email include a link that would send the email address in the URL as a _GET value. That could be maliciously used, however, to unsubscribe other people if you know their email address, if you could call that ""malicious"" instead of ""annoying"".

Instead, I propose this. In the email, include a link to an unsubscribe page, optionally including the email address as a _GET value, as before. On that page, a text box is prefilled with the email address if provided, or the user can type it in if needed. Then ANOTHER email is sent to the email address in the text box with a link that contains a random key. The user then clicks the link with the random key to unsubscribe their email address.

This way, as long as the user still has access to their email address, they are able to unsubscribe without having to remember their login for that board.

I'll go ahead and get started on this. It shouldn't be too hard. Although, any ideas on where it should go. IIRC, it can't go in the UCP because you have to login to access it and the whole point of this is to not have to login to do this.

EDIT: Alright, so I've branched on my fork and am working on this. The feature would make most sense being put in the memberlist, I think, since UCP isn't going to work.

Now this feature will require another column on the user's row, unsubscribe_key VARCHAR(255) NOT NULL should do the trick. Should I use the same encryption as is used for passwords and just run it on a random string created by current time, username, and other unique data?;;;","29/Nov/11 3:53 PM;Oleg;Please do create an RFC. Per our current policy it should go into 3.2 RFC forum, and if the implementation is finished before 3.1 alpha we will move it to 3.1. You can copy-paste everything in this ticket into the RFC. In any case the code should be based off of develop branch as we have no branch for 3.2 at this time.

An issue with the implementation you describe is that people can annoy other people by requesting unsubscribes. But there is any number of ways to send someone junk mail (including simply sending them mail) so probably it is not a big concern. An alternative would be to include unique keys with each email we send, which would require us to store these keys in the database, which is not great either.

Unsubscribe key should probably not be stored in user table since we might need more than one at a time.

Another question is whether unsubscribing without logging in should unsubscribe from that one topic or forum or from everything the user might be subscribed to.;;;","29/Nov/11 3:56 PM;rxu;{quote}In the email, include a link to an unsubscribe page, optionally including the email address as a _GET value, as before. On that page, a text box is prefilled with the email address if provided, or the user can type it in if needed. Then ANOTHER email is sent to the email address in the text box with a link that contains a random key. The user then clicks the link with the random key to unsubscribe their email address.{quote}
That way seems to be overcomplicated, to my taste. What if we just include a link to unsubscribe (as we do currently I think), but include some subscription-unique key in URL? Then a user can unsubscribe in one step, just by click on the link (with confirmation page probably, but that is discussible).;;;","29/Nov/11 4:19 PM;imkingdavid;@ Oleg: So then a new table, e.g. phpbb_unubscribe with user_id (and/or email_address), and unique_key?

@Ruslan: Would a new key be generated each time an email is sent, or just one key? I think that if we're allowing unsubscribing from one topic at a time, a new key should be generated and put into the new table Oleg suggested, and then another column or two on that table would tell what to unsubscribe from (i.e. column ""from"" would be something like 'topic' or 'forum', etc., and ""id"" would be the specific topic or forum id. If ""from"" is all, completely remove all subscriptions). Then we could include multiple unsubscribe links. One for unsubscribing from the topic, one from the forum (if they're subscribed to it) and one from everything.

EDIT: RFC posted: http://area51.phpbb.com/phpBB/viewtopic.php?f=108&t=42071;;;","29/Nov/11 4:30 PM;rxu;Yep, that looks better.
As for the table, I'd think about use of phpbb_topics_watch and phpbb_forums_watch tables, which already exist. Those could be just added with unsubscribe key column. To fully drop subscriptions, we could have some type=all parameter in URL request string, and drop all records related to user from both tables if that parameter was sent along with unsubscribe key.;;;","29/Nov/11 4:52 PM;imkingdavid;Good point. However, how would it work for unsubscribing from everything? There needs to be a unique key for that as well, so where would that be stored? I guess it could just accept a key from either of the *_watch tables and only if the parameter for ""all"" is provided, all are dropped.;;;","29/Nov/11 4:55 PM;rxu;{quote}I guess it could just accept a key from either of the *_watch tables and only if the parameter for ""all"" is provided, all are dropped.{quote}
Yes, that is what I meant really.;;;","29/Nov/11 5:42 PM;imkingdavid;Another question. If type is ""all"", are we ceasing ALL board communication, or just that from the topics/forums watch tables? I am assuming all communications, but want to make sure.;;;","30/Nov/11 1:04 PM;rxu;Well, if we're talking about ""Unsubscribe"" feature, I'd assume topics/forums watching only.;;;","15/Dec/11 1:50 AM;naderman;No this means ""unsubscribe"" as in ""unsubscribe from any and all communication"". Personally I think that on the page the unsubscribe link goes to you should be able to select what you want to unsubscribe from: that topic/forum, all topic notifications or simply all email from that board.;;;","26/Jul/18 1:14 PM;Senky;I think unsubscribe link that doesn't require any more action is required by the European Union. Solution is tricky though. Currently, all emails are sent in batches. In order to send unique unsubscribe links, every email has to be sent individually, adding load to the server.;;;",,,,,,,,,,,
Custom Profile Field type date has inconsistent format,PHPBB-12556,25135,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Lucifer4o,Lucifer4o,16/May/14 11:21 AM,21/Jul/25 7:22 PM,08/Nov/25 11:12 AM,,3.1.0-b3,,,,,4.0.0-a2,Memberlist/viewing profiles,User Control Panel (UCP),,,,,0,,,,,,,,"At the moment Custom Profile Field type DATE is saved in the DB in the string format of d-m-Y where the leading zero to the days and months are not written to DB.

The DB column in the DB is of the type VARCHAR. 

This creates an issue when we want to search date range in the Custom Profile Fields as the DB engine doesn't recognize the dates as dates, but as arbitrary strings. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i011nz:",,,,,,,,,,,,,,"09/Aug/14 11:33 AM;Marc;WIP PR: https://github.com/phpbb/phpbb/pull/2689;;;",,,,,,,,,,,,,,,,,,,,,
Use a lazy service to delay the construction of the template engine,PHPBB-12578,25193,23192,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nicofuma,nicofuma,22/May/14 10:55 AM,21/Jul/25 7:20 PM,08/Nov/25 11:12 AM,,3.1.0-b3,,,,,4.1.0-a1,,,,,,,0,,,,,,,,"The template engine is build on each page because of the compatibility_globals stuff, but it is not used on every page (feed, console, some extensions...) so it should be construct only when it is used (http://symfony.com/doc/current/components/dependency_injection/lazy_services.html)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i011jb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrap all the globals in a proxy (in includes/compatibility_globals.php),PHPBB-12587,25202,23192,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nicofuma,nicofuma,23/May/14 11:59 AM,21/Jul/25 7:20 PM,08/Nov/25 11:12 AM,,3.1.0-b3,,,,,4.1.0-a1,,,,,,,0,,,,,,,,"includes/compatibility_globals.php contains the definition of some globals used by the legacy code. Because these variables aren't used everywhere (ie: $template in the cli, $phpbb_log on the index etc...) they should be wrapped in a proxy.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i011h3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Review/Rewrite Registration Terms,PHPBB-12868,28504,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marshalrusty,Marshalrusty,Marshalrusty,18/Jul/14 8:57 PM,21/Jul/25 7:19 PM,08/Nov/25 11:12 AM,,3.1.0-RC2,,,,,4.0.0-a2,,,,,,,0,,,,,,,,"The FAQ needs serious looking at as well.
",,,,,,,,,PHPBB-9358,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00hy7:",,,,,,,,,,,,,,"26/Oct/14 3:58 AM;Marshalrusty;Pushing this back to 3.1.1 so the text can be coordinated with the new ToS page.;;;",,,,,,,,,,,,,,,,,,,,,
View unread PMs only,PHPBB-13196,29846,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marshalrusty,Marshalrusty,22/Oct/14 2:51 AM,21/Jul/25 7:19 PM,08/Nov/25 11:12 AM,,3.1.0-RC5,,,,,4.1.0-a1,User Control Panel (UCP),,,,,,3,,,,,,,,"So far, the single biggest source of complaints has been the change to the PM count behavior. People have an unread PM on page 17 and the count never goes to 0, which they assume is a bug.

It seems that the simplest solution would be to offer a button to mark all PMs as read, thus dropping the count to 0.

It would also be helpful to have a view for unread PMs.

Probably not realistic for 3.1.0, but all the same.


Examples:
https://tracker.phpbb.com/browse/WEBSITE-1134
https://www.phpbb.com/community/viewtopic.php?p=13762216#p13762216",,,,,,,,,,,,PHPBB-13205,,,PHPBB-15682,,,,,,,,,,,,,,,,,,,"0|i00bpb:",,,,,,,,,,,,,,"22/Oct/14 6:39 AM;Danielx64;I like the idea of having a link where we can see all unread PMs on one page.;;;","22/Oct/14 5:00 PM;Dragosvr92;I think this change should be included asap. Shouldn't be too much work to include it.;;;","22/Oct/14 7:57 PM;Marshalrusty;The problem isn't so much the amount of work it is (it's not much), but rather that we are past the point where we want to potentially introduce bugs into 3.1.0. There is insufficient time to test this.;;;","22/Oct/14 9:07 PM;naderman;Going to add a button to at least mark them all ready for 3.1.0: https://tracker.phpbb.com/browse/PHPBB3-13205;;;","23/Oct/14 2:24 AM;Pony99CA;A Mark All Read button isn't really a solution.  If I missed a PM, I might actually want to read it, not sweep it under the rug.

I've opened an RFC at Area 51 for this:  https://area51.phpbb.com/phpBB/viewtopic.php?f=108&t=46305 -- Allow Searching PMs.  I recommend discussing proposed solutions there.;;;","23/Oct/14 9:30 AM;nickvergessen;[~Pony99CA] we are just doing both. However, the extra search/filter/view is not going to happen for 3.1.0 since it's only 1 week.
The button is easy enough for 3.1.0, so sorry that the lesser perfect version comes first, but it helps people to get rid of the 1 unread message, if they want to.;;;","30/Dec/15 11:16 PM;exussum;Im pretty much though this, Ive not done any of the templating part. It makes a new url variable ""unread_only"" setting that to 1 will show all unreads in the current view.

Not 100% sure the best way to display it, Shall I put a pull request up with what I have currently ? or agree a good way to display and edit both templates ?;;;",,,,,,,,,,,,,,,
Add user id to login/logout urls,PHPBB-13443,30384,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nickvergessen,nickvergessen,02/Jan/15 4:26 PM,21/Jul/25 7:15 PM,08/Nov/25 11:12 AM,,3.1.2,,,,,4.1.0-a1,Sessions,User Control Panel (UCP),,,,,2,,,,,,,,This allows to identify the user someone logged in when digging through access logs.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009kv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Implement two factor authentication using google authenticator,PHPBB-13458,30402,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marc,Marc,04/Jan/15 2:21 PM,21/Jul/25 7:15 PM,08/Nov/25 11:12 AM,,3.2.0-dev,,,,,4.1.0-a1,ACP,Login,,,,,3,,,,,,,,We should implement two factor authentication into phpBB using the Time-based One-time Password Algorithm (TOTP). This can be used with Google Authenticator for a proper two factor authentication. Similar implementations already exist for example on Github.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009gn:",,,,,,,,,,,,,,"31/Oct/19 6:56 PM;rubencm;https://www.phpbb.com/community/viewtopic.php?t=2341856;;;",,,,,,,,,,,,,,,,,,,,,
Move front facing files to controllers,PHPBB-13646,30713,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nicofuma,nicofuma,22/Feb/15 6:14 PM,21/Jul/25 7:15 PM,08/Nov/25 11:12 AM,,3.2.0-dev,,,,,4.1.0-a1,,,,,,,0,,,,,,,,"A few rules to make it consistent:

* The routes should be prefixed (/feed/, /api/, /help/ etc...)
* The main routing file goes to /config/routing/<prefix>.yml and if it has to be split the other files goes to /config/routing/<prefix>/<name>.yml
* The services should be prefixed by <prefix>.
* The main service file goes to /config/container/<prefix>.yml and if it has to be split the other files goes to /config/container/<prefix>/<name>.yml
* The controllers goes to /phpbb/<prefix>/controller/<name>.php",,,,,,,,,PHPBB-11505,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000fb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move viewtopic to controller,PHPBB-13889,31068,30713,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,prototech,prototech,29/May/15 11:58 AM,21/Jul/25 7:14 PM,08/Nov/25 11:12 AM,,3.2.0-dev,,,,,4.1.0-a1,Viewing posts,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i006jr:",,,,,,,,,,,,,,"08/Sep/16 5:40 PM;nicofuma;Unassigned prototech as we never saw anything about that  and he is unreachable for a few months;;;",,,,,,,,,,,,,,,,,,,,,
Add Restart link to installer,PHPBB-15007,33653,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Noxwizard,Noxwizard,14/Jan/17 7:40 AM,21/Jul/25 7:12 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,4.0.0-a2,Installation system,,,,,,0,Sorted,,,,,,,"During installation, if you need to change any of your previously entered settings or want to restart for any reason, you must manually delete /store/install_config.php. This is confusing for new users and they must come post in the support forum asking how to go back a step. It would nice if there could be a way to go back to a previous step, or at least a link/button that deletes the file to restart the installation process.",,,,,,,,,PHPBB-14669,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/4739,,,,"0|i0392f:",,,,,,,,,,,,,,"22/Jan/17 4:51 PM;nicofuma;Going back for just on step may not be that easy, but starting fresh is;;;","14/Mar/17 2:21 PM;Awesome_arnold;Hi everyone!
I will like to work on this issue
;;;","14/Mar/17 6:57 PM;balabky9;Would like to to this issue. 
;;;",,,,,,,,,,,,,,,,,,,
Improve explanations in ACP extensions page and remove HTML,PHPBB-16957,37936,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marc,Marc,22/Jan/22 7:52 PM,21/Jul/25 7:09 PM,08/Nov/25 11:12 AM,,,,,,,4.0.0-a2,,,,,,,0,,,,,,,,"Some of the explanations do not work very well with how they're currently being used. As described by Matt on GitHub:

Small issue. The EXTENSION_***_EXPLAIN language keys being used as href titles isn't working because they contain HTML:
[!https://user-images.githubusercontent.com/303711/147126086-0c556b24-cf34-4a97-9c3e-74139a2883cc.png|width=368!|https://user-images.githubusercontent.com/303711/147126086-0c556b24-cf34-4a97-9c3e-74139a2883cc.png]

Composer based extension ""Update"" should say:
{quote}Updating an extension will disable the currently installed extension and delete the extension’s files from the filesystem. The extension's most recent compatible release will be uploaded to your board and re-enabled.
{quote}
Composer based extension ""Remove"" should say:
{quote}Removing an extension will remove all of its data and settings and delete the extension’s files from the filesystem.
{quote}
 

In general, we should aim at removing the HTML from these help lines to prevent similar issues from occuring.",,,,,,,,,,,,,,,PHPBB-16688,PHPBB-16943,,,,,,,,,,,,,,,,,,"0|i03mbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for stateless routes,PHPBB-17474,39609,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Marc,Marc,26/Feb/25 7:40 PM,21/Jul/25 7:03 PM,08/Nov/25 11:12 AM,,,,,,,4.0.0-a2,Sessions,,,,,,1,,,,,,,,"Similar to the support in Symfony's routing, we should have support for stateless routes:
[https://symfony.com/doc/current/routing.html#stateless-routes]

This will essentially prevent creating a full session when matching a request for a route and reducing the resources needed. This can especially make sense for static routes that can and should be cached as well as routes that do not require session info to serve a semi-static page like cron tasks.",,,,,,,,,,,,,,,PHPBB-17457,,,,,,,,,,,,,,,,,,,"0|i03ps7:",,,,,,,,,,,,,,"26/Feb/25 8:43 PM;MattF;I think this can be added to the avatar route in the storage.yml routing too since it just serves images

I think we can also do this for the manifest, but we would just need to remove the $user object related stuff from the manifest controller file (which is only being used to check if a bot is accessing the manifest);;;","21/Jul/25 7:02 PM;Marc;A PoC for this was created here:
https://github.com/marc1706/phpbb/tree/feature/stateless_sessions;;;",,,,,,,,,,,,,,,,,,,,
Uncaught Exception on installation when using mysql (non-PDO) Doctrine driver,PHPBB-17534,39801,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,11/Jul/25 4:01 AM,11/Jul/25 4:01 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Database Abstraction Layer (DBAL),Installation system,,,,,0,,,,,,,,"Attempt to use non-PDO Doctrine driver causes installer to fail with error:
{noformat}
Uncaught Exception: An exception occurred while executing a query: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near ':lang_iso, :lang_dir, :lang_english_name, :lang_local_name, :lang_author)'{noformat}
The issue is that original query string uses named parameters which only comply with PDO:

[https://github.com/phpbb/phpbb/blob/30ee379576dc44cadc26c72f430a0c92da7b437b/phpBB/phpbb/install/module/install_data/task/add_languages.php#L84-L86]

[https://github.com/phpbb/phpbb/blob/30ee379576dc44cadc26c72f430a0c92da7b437b/phpBB/phpbb/install/module/install_data/task/setup_languages.php#L112-L114]
{noformat}
		$sql = 'INSERT INTO ' . $this->lang_table			. ' (lang_iso, lang_dir, lang_english_name, lang_local_name, lang_author)'			. ' VALUES (:lang_iso, :lang_dir, :lang_english_name, :lang_local_name, :lang_author)';{noformat}
Actually this issue doesn't affect the current code as the core for now uses only pdo_* Doctrine drivers. To make it compatible with any kind of drivers, question marks should be used instead:
{noformat}
 $sql = 'INSERT INTO ' . $this->lang_table . ' (lang_iso, lang_dir, lang_english_name, lang_local_name, lang_author)' . ' VALUES (?, ?, ?, ?, ?)';{noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Empty password hash after phpBB upgrade,PHPBB-17531,39798,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,22/Jun/25 9:38 AM,22/Jun/25 9:38 AM,08/Nov/25 11:12 AM,,3.3.15,4.0.0-a1,,,,,Authentication,Other,,,,,0,,,,,,,,"After upgrade from phpBB 2.0.x/3.0.x, phpBB performs password hashes conversion to newer format (usually to some of Argons). This also happens if a user logs in phpBB account having password hash convert flag set.

In case password driver's hash() method doesn't return valid hash due to error (f.e. memory allocation error etc), password hash gets updating to an empty string.

Neither ""update_hashes cron"" nor ""db"" auth provider performs the check for the new hash emptiness.

Additionally, since PHP 8.0.0 no longer returns false on failure, instead a ValueError will be thrown if the password hashing algorithm is not valid, or an Error if the password hashing failed for an unknown error. This is also changed since PHP 8.3.0 (see https://www.php.net/manual/en/function.password-hash.php).

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add possibility to use index key length in migrations,PHPBB-17524,39791,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,10/Jun/25 3:00 AM,12/Jun/25 3:50 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"In phpBB 3.3.x, it is possible to add index key length in migrations, f.e.

 
{noformat}	public function update_schema()
	{
		return [
			'add_index'	=> [
				$this->table_prefix . 'my_table'		=> [
					'my_index'	=> ['column1', 'column2(191)'],
				],
			]
		];
	}
{noformat}
Index length is a mandatory in some cases, f.e. in MySQL for the TEXT data type index, otherwise it will throw MySQL exceptions like ""An exception occurred while executing a query: BLOB/TEXT column \'column_name\' used in key specification without a key length"".

Currently specifying index key length in migration won't work in phpBB 4.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q3b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Symfony auth.provider_collection"" service is private",PHPBB-17523,39790,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,wintstar,wintstar,09/Jun/25 1:42 PM,10/Jun/25 7:59 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Other,,,,,,0,auth,provider_collection,symfony,,,,,"The ""auth.provider_collection"" service is private, getting it from the container is deprecated since Symfony 3.2 and will fail in 4.0. You should either make the service public, or stop using the container directly and use dependency injection instead.

BACKTRACE

FILE: /var/www/html/phpBB3/vendor/symfony/dependency-injection/Container.php
LINE: 282
CALL: trigger_error()

FILE: /var/www/html/phpBB3/phpbb/session.php
LINE: 403
CALL: Symfony\Component\DependencyInjection\Container->get()"," Apache/2.4.62 (Debian)
Datenbank-Client Version: libmysql - mysqlnd 8.4.7 
PHP-Version: 8.4.7 
phpBB 3.3.15
No extensions
Style prosilver standard",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q33:",,,,,,,,,,,,,,"10/Jun/25 2:54 AM;rxu;What's the use scenario?;;;","10/Jun/25 7:55 PM;wintstar;I have tested an extension under php 8.4. With php 8.4 even more errors are reported.  I changed the error reports for this to
{code:java}
$level = E_ALL{code}
 

These errors are reported before the installation, under php 8.4. With php 8.3 the messages have disappeared
{code:java}
Deprecated: GuzzleHttp\Promise\queue(): Implicitly marking parameter $assign as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 24
Deprecated: GuzzleHttp\Promise\each(): Implicitly marking parameter $onFulfilled as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 260
Deprecated: GuzzleHttp\Promise\each(): Implicitly marking parameter $onRejected as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 260
Deprecated: GuzzleHttp\Promise\each_limit(): Implicitly marking parameter $onFulfilled as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 285
Deprecated: GuzzleHttp\Promise\each_limit(): Implicitly marking parameter $onRejected as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 285
Deprecated: GuzzleHttp\Promise\each_limit_all(): Implicitly marking parameter $onFulfilled as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/guzzlehttp/promises/src/functions.php on line 307
Deprecated: phpbb\class_loader::__construct(): Implicitly marking parameter $cache as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/class_loader.php on line 51
Deprecated: phpbb\class_loader::set_cache(): Implicitly marking parameter $cache as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/class_loader.php on line 72
Deprecated: set_config(): Implicitly marking parameter $set_config as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/includes/functions_compatibility.php on line 285
Deprecated: set_config_count(): Implicitly marking parameter $set_config as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/includes/functions_compatibility.php on line 315
Deprecated: phpbb\request\request::__construct(): Implicitly marking parameter $type_cast_helper as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/request/request.php on line 60
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $query as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $request as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $attributes as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $cookies as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $files as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::duplicate(): Implicitly marking parameter $server as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 460
Deprecated: Symfony\Component\HttpFoundation\Request::getPreferredLanguage(): Implicitly marking parameter $locales as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Request.php on line 1716
Deprecated: Symfony\Component\HttpFoundation\HeaderBag::getDate(): Implicitly marking parameter $default as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/HeaderBag.php on line 221
Deprecated: Twig\Loader\FilesystemLoader::__construct(): Implicitly marking parameter $rootPath as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Loader/FilesystemLoader.php on line 37
Deprecated: phpbb\template\twig\environment::__construct(): Implicitly marking parameter $extension_manager as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/template/twig/environment.php on line 62
Deprecated: phpbb\template\twig\environment::__construct(): Implicitly marking parameter $loader as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/template/twig/environment.php on line 62
Deprecated: phpbb\template\twig\environment::__construct(): Implicitly marking parameter $phpbb_dispatcher as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/template/twig/environment.php on line 62
Deprecated: Twig\Environment::createTemplate(): Implicitly marking parameter $name as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Environment.php on line 446
Deprecated: ProxyManager\Proxy\LazyLoadingInterface::setProxyInitializer(): Implicitly marking parameter $initializer as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/ocramius/proxy-manager/src/ProxyManager/Proxy/LazyLoadingInterface.php on line 30
Deprecated: Return type of phpbb\di\service_collection::offsetGet($index) should either be compatible with ArrayObject::offsetGet(mixed $key): mixed, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/phpbb/di/service_collection.php on line 55
Deprecated: Return type of phpbb\di\service_collection::getIterator() should either be compatible with ArrayObject::getIterator(): Iterator, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/phpbb/di/service_collection.php on line 47
Deprecated: phpbb\template\twig\twig::__construct(): Implicitly marking parameter $user as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/template/twig/twig.php on line 88
Deprecated: phpbb\template\twig\twig::__construct(): Implicitly marking parameter $extension_manager as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/template/twig/twig.php on line 88
Deprecated: Return type of phpbb\di\service_collection_iterator::current() should either be compatible with ArrayIterator::current(): mixed, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/phpbb/di/service_collection_iterator.php on line 42
Deprecated: phpbb\event\dispatcher::dispatch(): Implicitly marking parameter $event as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/event/dispatcher.php on line 53
Deprecated: phpbb\controller\resolver::__construct(): Implicitly marking parameter $template as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/phpbb/controller/resolver.php on line 56
Deprecated: Symfony\Component\HttpKernel\HttpKernel::__construct(): Implicitly marking parameter $requestStack as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-kernel/HttpKernel.php on line 46
Deprecated: Symfony\Component\HttpKernel\HttpKernel::__construct(): Implicitly marking parameter $argumentResolver as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-kernel/HttpKernel.php on line 46
Deprecated: Symfony\Component\HttpKernel\HttpKernel::terminateWithException(): Implicitly marking parameter $request as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-kernel/HttpKernel.php on line 94
Deprecated: Return type of Symfony\Component\Finder\Iterator\FilterIterator::rewind() should either be compatible with FilterIterator::rewind(): void, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/vendor/symfony/finder/Iterator/FilterIterator.php on line 32
Deprecated: Return type of Symfony\Component\Finder\Iterator\RecursiveDirectoryIterator::getChildren() should either be compatible with RecursiveDirectoryIterator::getChildren(): RecursiveDirectoryIterator, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/vendor/symfony/finder/Iterator/RecursiveDirectoryIterator.php on line 89
Deprecated: Return type of Symfony\Component\Finder\Iterator\RecursiveDirectoryIterator::rewind() should either be compatible with FilesystemIterator::rewind(): void, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/vendor/symfony/finder/Iterator/RecursiveDirectoryIterator.php on line 117
Deprecated: Return type of Symfony\Component\Finder\Iterator\RecursiveDirectoryIterator::current() should either be compatible with FilesystemIterator::current(): SplFileInfo|FilesystemIterator|string, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice in /var/www/html/phpBB/vendor/symfony/finder/Iterator/RecursiveDirectoryIterator.php on line 65
Deprecated: Symfony\Component\Routing\Generator\UrlGenerator::__construct(): Implicitly marking parameter $logger as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/routing/Generator/UrlGenerator.php on line 68
Deprecated: Symfony\Component\HttpFoundation\Response::setExpires(): Implicitly marking parameter $date as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Response.php on line 756
Deprecated: Symfony\Component\HttpFoundation\Response::setLastModified(): Implicitly marking parameter $date as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/symfony/http-foundation/Response.php on line 916
Deprecated: Twig\Node\Node::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/Node.php on line 39
Deprecated: Twig\Parser::addImportedSymbol(): Implicitly marking parameter $node as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Parser.php on line 274
Deprecated: Twig\NodeVisitor\SafeAnalysisNodeVisitor::intersectSafe(): Implicitly marking parameter $a as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/NodeVisitor/SafeAnalysisNodeVisitor.php on line 137
Deprecated: Twig\NodeVisitor\SafeAnalysisNodeVisitor::intersectSafe(): Implicitly marking parameter $b as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/NodeVisitor/SafeAnalysisNodeVisitor.php on line 137
Deprecated: Twig\TokenStream::__construct(): Implicitly marking parameter $source as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/TokenStream.php on line 28
Deprecated: Twig\TokenStream::expect(): Implicitly marking parameter $message as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/TokenStream.php on line 71
Deprecated: Twig\Node\IncludeNode::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/IncludeNode.php on line 25
Deprecated: Twig\Node\PrintNode::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/PrintNode.php on line 25
Deprecated: Twig\Template::displayBlock(): Implicitly marking parameter $templateContext as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Template.php on line 162
Deprecated: Twig\Node\IfNode::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/IfNode.php on line 24
Deprecated: Twig\Node\Expression\ArrayExpression::addElement(): Implicitly marking parameter $key as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/Expression/ArrayExpression.php on line 59
Deprecated: Twig\Node\ForNode::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/ForNode.php on line 28
Deprecated: Twig\Node\ForLoopNode::__construct(): Implicitly marking parameter $tag as nullable is deprecated, the explicit nullable type must be used instead in /var/www/html/phpBB/vendor/twig/twig/src/Node/ForLoopNode.php on line 23
{code};;;",,,,,,,,,,,,,,,,,,,,
Installer won't recognize available non-pdo DBMS drivers,PHPBB-17520,39787,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,04/Jun/25 2:56 AM,04/Jun/25 2:57 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Installation system,,,,,,0,,,,,,,,"When installing phpBB 4.0, installer won't recognize available DBMS drivers when they aren't pdo, and will throw error:

 
{noformat}
Supported databases
You must have support for at least one compatible database within PHP. If no database modules are shown as available you should contact your hosting provider or review the relevant PHP installation documentation for advice.{noformat}
Doctrine DBAL 3.9 has built-in drivers for both type of interfaces (see [https://www.doctrine-project.org/projects/doctrine-dbal/en/3.9/reference/configuration.html#configuration),] which should become available after merging the patch for PHPBB-17509.",,,,,,,,PHPBB-17509,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q2f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Problems with egosearch after the update to version 3.3.13,PHPBB-17456,39587,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,terrestino,terrestino,16/Dec/24 2:51 PM,08/May/25 2:58 AM,08/Nov/25 11:12 AM,,3.3.13,3.3.14,,,,,Search,,,,,,0,egosearch,sesarch,update,,,,,"Hi,

I am a user at https://debianforum.de. We use phpBB and are very happy with it. Unfortunately, since the upgrade to version 3.3.13, the search for user posts no longer works correctly. The latest posts are missing.

The effect occurs when you click on the post counter of a user under the avatar picture next to the post, or when you search for a user in the advanced search. However, the search works correctly as soon as you limit the time period. The search also works correctly if you only search individual sub-forums. Only if you do an unlimited search for all posts by a user, the most recent posts are missing. Example: search.php?author_id=13014&sr=posts

If you search for some users, the last two days are missing, for others only the last day is missing. For still others, the latest posts are also found (example: search.php?author_id=23574&sr=posts). The effects are identical, no matter which user starts the search. (Only moderators see posts in hidden sub-forums, of course, but the effect is the same).

With the upgrade to phpBB version 3.3.14 the search worked correctly again for a short time, but now the latest posts no longer appear for some users. The search results are frozen.

So far, our research has not uncovered any other such problems in other forums. To our knowledge our setup is standard. We use a vanilla phpBB and MySQL Fulltext as search backend.

Here is some more information (it's a German forum, so it's in German, but we can translate if needed):
https://debianforum.de/forum/viewtopic.php?t=190559
https://debianforum.de/forum/viewtopic.php?t=191036
https://wiki.debianforum.de/September2024-Update-Challenge

We would be very happy if you could help us.

 

Translated with DeepL.com (free version)","Maria DB 10.11.6-0+deb12u1
PHP 8.2 8.2.26-1~deb12u1
searchbackend ""MySQL Fulltext""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pnb:",,,,,,,,,,,,,,"08/May/25 2:58 AM;rxu;There's a chance it can be related to https://tracker.phpbb.com/browse/PHPBB-17491, you might want to test the fix if it's appropriate.;;;",,,,,,,,,,,,,,,,,,,,,
Notification/Confirmation of email/password changes,PHPBB-13446,30387,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nickvergessen,nickvergessen,02/Jan/15 4:37 PM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.1.2,,,,,3.3.16-RC1,ACP,Sessions,User Control Panel (UCP),,,,8,,,,,,,,"We should notify users about email/password changes on their current email address.
This helps to prevent accounts being stolen by others.

For passwords an email like the one from github could be used:
{quote}Hello xyz,

We wanted to let you know that your GitHub password was changed.

If you did not perform this action, you can recover access by entering security@phpbb.com into the form at https://github.com/password_reset.

To see this and other security events for your account, visit https://github.com/settings/security.

If you run into problems, please contact support by visiting https://github.com/contact or replying to this email.{quote}
(the named reset password action would need to be added thou).

For emails I would even require a validation of the new address (send activation link or something similar, currently you can lock yourself out of your account), before changing it and also notify the old email when the action has been performed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009kn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Lazy load images from img bbcode,PHPBB-16385,36416,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,DavidIQ,Tomba,Tomba,27/Feb/20 7:23 PM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,3.3.16-RC1,BBCode Engine,,,,,,0,performance,,,,,,,"In many cases, forum posts contain images inserted via bbcode. With pages showing 10 or most posts per page, it doesn't make much sense to load all these images at once, but rather only when scrolling down.

This could be especially beneficial for initial page load.

Therefore, the img bbcode should generate an img tag with attribute loading=""lazy"".

Browsers are increasingly supporting this: [https://caniuse.com/#feat=loading-lazy-attr]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03iif:",,,,,,,,,,,,,,"28/Feb/20 10:59 AM;mrgoldy;The {{loading}} attribute you're linking doesn't support all browsers that phpBB supports, so that is probably not an option.
There is already a lazy load method using JavaScript, where it replaces attributes: {{data-src}} to {{src}}.

Currently this is pretty much only used for images (avatars) in the notifications dropdown.
Cause the dropdown is always hidden on loading a page, so loading those images immediately wouldn't make sense.

However, in the case of a topic with a large(r) posts per page setting, it is rather hard to determine on what actual post the page was opened,
as there are so many anchors that can be used to link to that page. For example you can link to a specific post, eg, post number 12.
Then when the user clicks on that link it will open the page on that part of the page.

Therefore it will be rather hard and complicated to determine what images have to be loaded during load time and which with lazy load.
Apart from the fact that then we rely more and more on the presence of JavaScript, which is indeed more and more common but still shouldn't be taken for granted.;;;","29/Feb/20 1:14 PM;Tomba;Browsers that don't support the attribute, just load the images directly, just like with a normal img html tag. Adding the attribute on the output html wouldn't break anything either. It will just improve initial page load, and reduce network overhead for users who don't scroll to the bottom of the page.

But with chrome, edge, and soon firefox supporting this new attribute, the majority of users is covered anyway. So not doing this because there are x% of users not supported seems like a really bad argument.

I don't think we should implement javascript loading strategies for img bbcodes, but a standard html attribute seems like a very easy solution, leaving all the thinking about when to load what over to the browsers instead.;;;","29/Feb/20 1:25 PM;DavidIQ;This is probably something for the text-formatter to handle.  JoshyPHP can maybe comment on this.;;;","29/Feb/20 1:34 PM;JoshyPHP;You can already edit the template used for images in the bbcode.html file.

As a user, I think I'd generally prefer lazy-loading images in JavaScript to avoid the initial partial request.;;;","29/Feb/20 1:37 PM;DavidIQ;[https://github.com/phpbb/phpbb/blob/3.3.x/phpBB/styles/prosilver/template/bbcode.html#L73]

If it's just adding the attribute there then there's very little reason to _not_ do this change. Would be for 3.3.;;;","08/Jun/20 11:15 AM;bug-i;Does it make sense to do the lazy-loading not only for Images, but also for videos or other pre-loaded external content? 
This becomes interesting if the media-embed extension is used:

[https://www.phpbb.com/customise/db/extension/mediaembed/]

 ;;;","08/Jun/20 12:13 PM;DavidIQ;No, not at all. We can only control what the core produces, not what extensions produce regardless of the extension's origin.;;;","22/Jun/20 3:47 PM;JoshyPHP;You can add your own modifications globally through the template normalizer. They'll be applied to all templates regardless of their origin.

https://s9etextformatter.readthedocs.io/Templating/Template_normalization/Examples/#set-loadinglazy-on-images
https://github.com/phpbb/phpbb/blob/2828d57f5f55415317eb1a5f5b18cea1ae7e9ccf/phpBB/phpbb/textformatter/s9e/factory.php#L232-L234;;;",,,,,,,,,,,,,,
Disable Custom BBcode on Demo Board,WEBSITE-1439,39608,,Security Issue,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,thecoalman,thecoalman,24/Feb/25 10:05 AM,24/Feb/25 10:06 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,According to main demo page it's restricted to IP but multiple users can be coming from same IP thus is exploitable with JS etc.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03prz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Web Push Notifications can fatal error,PHPBB-17472,39605,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MattF,MattF,17/Feb/25 5:59 PM,17/Feb/25 6:03 PM,08/Nov/25 11:12 AM,,4.0.0-a2,,,,,,Notification System,,,,,,0,,,,,,,,"The webpush uses *sql_in_set* with an array of users that could be unexpectedly empty, particularly after removing banned users from the users to notify array in the *notify_using_webpush()* method.

Suggest early return if *$notify_users* is empty after doing the array_diff to it with {*}$banned_users{*}.

Report from the extension:

[https://www.phpbb.com/customise/db/extension/webpushnotifications/support/topic/250144?p=893200#p893200]

Error message from phpBB 4.0.0-a2
{code:java}ErrorException:
User Error: SQL ERROR [ mysqli ]<br /><br /> [0]<br /><br />SQL<br /><br />No values specified for SQL IN comparison

  at /Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/driver.php:1094
  at phpbb\db\driver\driver->sql_error('No values specified for SQL IN comparison')
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/driver.php:629)
  at phpbb\db\driver\driver->sql_in_set('user_id', array(), false, false)
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/db/driver/factory.php:467)
  at phpbb\db\driver\factory->sql_in_set('user_id', array())
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:411)
  at phpbb\notification\method\webpush->get_user_subscription_map(array())
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:204)
  at phpbb\notification\method\webpush->notify_using_webpush()
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/method/webpush.php:168)
  at phpbb\notification\method\webpush->notify()
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:434)
  at phpbb\notification\manager->add_notifications_for_users('notification.type.quote', array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:""Your first category"";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'), array(array('notification.method.board', 'notification.method.webpush')))
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:321)
  at phpbb\notification\manager->add_notifications('notification.type.quote', array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:""Your first category"";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'), array('ignore_users' => array()))
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/phpbb/notification/manager.php:292)
  at phpbb\notification\manager->add_notifications(array('notification.type.mention', 'notification.type.quote', 'notification.type.bookmark', 'notification.type.post', 'notification.type.forum'), array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 2, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:""Your first category"";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1', 'post_username' => 'admin', 'post_text' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'post_time' => 1739814866, 'post_subject' => 'Re: Test'))
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/includes/functions_posting.php:2477)
  at submit_post('quote', 'Re: Test', 'admin', 0, array(), array('topic_title' => 'Test', 'topic_first_post_id' => 5, 'topic_last_post_id' => 5, 'topic_time_limit' => 0, 'topic_attachment' => 0, 'post_id' => 6, 'topic_id' => 4, 'forum_id' => 2, 'icon_id' => 0, 'poster_id' => 58, 'enable_sig' => true, 'enable_bbcode' => true, 'enable_smilies' => true, 'enable_urls' => true, 'enable_indexing' => true, 'message_md5' => 'dc5276314695a6d8769d237fce7f35a7', 'post_checksum' => '0cbc6611f5540bd0809a388dc95a615b', 'post_edit_reason' => '', 'post_edit_user' => 0, 'forum_parents' => 'a:1:{i:1;a:2:{i:0;s:19:""Your first category"";i:1;i:0;}}', 'forum_name' => 'Your first forum', 'notify' => false, 'notify_set' => 0, 'poster_ip' => '::1', 'post_edit_locked' => 0, 'bbcode_bitfield' => '', 'bbcode_uid' => 'nohh6g', 'message' => '<r><QUOTE author=""user1"" post_id=""5"" time=""1739814824"" user_id=""58""><s>[quote=user1 post_id=5 time=1739814824 user_id=58]</s>Test<e>[/quote]</e></QUOTE>We banned you</r>', 'attachment_data' => array(), 'filename_data' => array('filecomment' => ''), 'topic_status' => '0', 'topic_visibility' => '1', 'post_visibility' => '1'), true, true)
     (/Users/matt/Sites/repos/phpbb3-dev/phpBB/posting.php:1561)    {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03prb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Attachments controller: Use BinaryFileResponse when adapter is local,PHPBB-17447,39511,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,rubencm,rubencm,rubencm,01/Dec/24 12:32 PM,23/Dec/24 10:27 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Storage,,,,,,0,,,,,,,,Also remove dead code,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03plj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
User Guide: Sphinx search configuration instructions out of date,WEBSITE-1436,39580,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,P_I,P_I,12/Dec/24 4:32 PM,12/Dec/24 4:32 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"The instructions in [Sphinxsearch Installation Instructions|https://www.phpbb.com/support/docs/en/3.3/ug/serverguide/server_sphinx_installation/] are likely out of date. A decent reference source is [How To Install and Configure Sphinx on Ubuntu 16.04 | DigitalOcean|https://www.digitalocean.com/community/tutorials/how-to-install-and-configure-sphinx-on-ubuntu-16-04#step-4-managing-the-index]. 

At a minimum the instructions in 6.1.2.6. Incremental Updates should have the admin check if their distributions pre-configured cron setup for Sphinxsearch.

For example, Ubuntu 24.04 ships with /etc/cron.d/sphinxsearch that contains:
{code:java}
# Rebuild all indexes daily and notify searchd.
@daily      sphinxsearch . /etc/default/sphinxsearch && if [ ""$START"" = ""yes"" ] && [ -x /usr/bin/indexer ]; then /usr/bin/indexer --quiet --rotate --all; fi# Example for rotating only specific indexes (usually these would be part of
# a larger combined index).# */5 * * * * sphinxsearch [ -x /usr/bin/indexer ] && /usr/bin/indexer --quiet --rotate postdelta threaddelta{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pm7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
acp_icons.php incorrectly handles SVG images,PHPBB-17441,39505,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,DionDesigns,DionDesigns,25/Nov/24 12:21 AM,25/Nov/24 12:50 AM,08/Nov/25 11:12 AM,,3.3.14,,,,,,ACP,,,,,,0,ACP,svg,,,,,,"The acp_icons.php script incorrectly handles SVG smilies or topic icons that use viewBox without explicit width/height attributes. Most SVG images are in this format to insure the image will automatically fill the available area.

Right now, such SVG images will be set by phpBB to be 32x32 regardless of their aspect ratio. In addition, such images will be displayed incorrectly in the ACP and on the frontend. Attached is a ZIP containing a sample SVG file that can be added to the images/smilies or images/icons directory that demonstrates the issue in either the ACP icons or smilies area, and also when the image is displayed on the frontend.

The ZIP also contains a DIFF that fixes the issue.
","phpBB 3.3.14, PHP 8.3.12, MariaDB 10.2",,,,,,,,,,,,,,,,"25/Nov/24 12:14 AM;DionDesigns;acp_icons.zip;https://tracker.phpbb.com/secure/attachment/23025/acp_icons.zip",,,,,,,,,,,,,,,,,"0|i03pk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Prosilver v2 design for Triton (4.0),PHPBB-17437,39501,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,danieltj,danieltj,22/Nov/24 10:37 AM,22/Nov/24 5:57 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Styles,,,,,,1,4.0,prosilver,,,,,,"Prosilver requires a fresh look for phpBB v4 for a couple of reasons;
 # The codebase is extremely old and has had possibly hundreds of people chop and change it over the years which has caused the codebase to be messy and difficult to build upon.
 # Prosilver looked great back in the early 00s but now looks outdated and phpBB v4 needs to come with a new, fresher look.
 # phpBB v4 is a perfect opportunity to incorporate a new design structure to allow style authors to build new, more exciting styles with a solid foundation to work from.
 # From a marketing perspective, prosilver as it is currently cannot be the face of a new version of phpBB because it does not send a positive message that the software is improving and evolving if it looks exactly the same.

Prosilver v2 should remain as 'prosilver' in the codebase for compatibility reasons but for all intents and purposes be a different style. It needs a proper foundation of HTML elements, better CSS and minimal JavaScript now that modern browsers are capable of lots of things that previously heavily relied on JavaScript functions to achieve.

Design discussion will take place on the phpBB forums where appropriate but material will also be shared here too for consistency. The idea for this 'new style' is that it should look familiar to classic / current prosilver but clearly be a new iteration of it to support the new features included within phpBB 4.0.

Feel free to whimsically refer to this as {_}Operation Cold Friday{_}.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pjb:",,,,,,,,,,,,,,"22/Nov/24 12:32 PM;rxu;I'd step with the same suggestion I did years ago for dropping subsilver2: keep prosilver as is (supported and updated for 4.0 lifetime), but mark/state/announce it as deprecated and to be removed in 5.0 and create new prosilver2 along with prosilver.;;;","22/Nov/24 4:19 PM;MattF;And maybe give it a new name, like.... Triton;;;","22/Nov/24 5:08 PM;danieltj;[~rxu] I would disagree here purely because I think it's important that 4.0 is seen as a bigger step than say a 3.4 version release. Optics matter a lot and sticking with prosilver as-is for the next major release will certainly damage the reputation of the project moving forward. Prosilver has been the default style for like, 17 years I believe (2007 maybe?) so not having a new style for the next massive milestone will look like the project is in LTS-mode. I do think a radical new style for a 5.0 release is a must though, I agree with you on that.

[~MattF] that's above my pay grade to decide but I'm not against it. I do think a larger discussion is needed for that though as that would cause compatibility issues... I think? Maybe.;;;","22/Nov/24 5:16 PM;MattF;I think rxu meant keep the existing pro silver like the way we kept subsilver2 around for a few versions before dropping it. That way existing styles can keep working for a while and have time to transition to the newer style. ;;;","22/Nov/24 5:29 PM;rxu;Yeah. That is exactly how subsilver2 was replaced by prosilver previously.;;;","22/Nov/24 5:31 PM;danieltj;Sorry, I misunderstood what you said. I see, yeah that makes sense to me and a good idea.;;;","22/Nov/24 5:57 PM;thecoalman;Three areas I would suggest for improvements:
 * New topic icons that are not so similar that are immediately identifiable. e.g. same color but transparent for read. 
 * Increase the font size or even bring back the font size link in some form. Perhaps a setting in the UCP.
 * Bring back style.php <gasp>, instead of using it serve the CSS file have it write a css file on cache purge. This will avoid any issues with browser cache(and other caches) if the CSS has been edited. As it is now the only way you can do this is by changing the hash value  in stylesheet.css for whatever CSS file has changed and purging the cache to increase the asset version.

 

 ;;;",,,,,,,,,,,,,,,
Old text in the ‘Development’ drop-down on .com,WEBSITE-1425,38431,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,Mick,Mick,16/Jul/23 4:29 PM,12/Oct/24 4:09 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,!image-2023-07-16-17-28-19-399.png!,,,,,,,,,,,,,,,,,"16/Jul/23 4:28 PM;Mick;image-2023-07-16-17-28-19-399.png;https://tracker.phpbb.com/secure/attachment/21986/image-2023-07-16-17-28-19-399.png",,,,,,,,,,,,,,,,,"0|i03nqv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Add more control to the users/board admins to handle guest permissions, hide all profile/user data",PHPBB-14543,32846,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Scanialady,Scanialady,18/Mar/16 8:49 PM,08/Sep/24 3:04 PM,08/Nov/25 11:12 AM,,3.1.8,3.1.9,3.2.0-RC1,4.0.0-a1,,,Group Management,Memberlist/viewing profiles,Viewing forums,Viewing posts,,,0,,,,,,,,"Die Berechtigungen für Gäste (und anonyme Benutzer) lauten wie folgt: 
„Kann Profile, Mitgliederliste und wer online ist anzeigen = *NIE* “

Wenn ich als Gast ein 3.1.x-Board besuche, sehe ich in den Themen im Profil die Kontaktinformationen für Messenger und Websites von Benutzern. Nicht cool. 
Jeder Gast kann Ihre Messenger-IDs, Ihren Skype-Namen und Ihren Weblink sehen. Wenn Sie beispielsweise auf ICQ-Kontaktinformationen klicken, wird das Profil dieses Benutzers angezeigt. Dasselbe gilt für Skype oder andere Messenger.

siehe Thema [https://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=49001]

Wenn Mitgliederlisten *nicht öffentlich* sind , müssen wir meiner Meinung nach auch alle Benutzerdaten und Messenger-Kontakte schützen. Alle Profildaten der Mitglieder sollten standardmäßig ausgeblendet sein, mit Ausnahme der Administration, wenn die Mitgliederliste für Gäste nicht sichtbar ist. Wenn ein Mitglied sie teilen möchte, sollte er dies selbst aktivieren können, wie es auf Social-Media-Plattformen der Fall ist.

Man weiß nicht, was morgen mit den EU-Gesetzen zum Datenschutz passiert. Jedes Jahr werden neue Gesetze zum Datenschutz erlassen. Außerdem sind sie in jedem Land unterschiedlich, in Deutschland ist es ein heißes Thema. Viele Anwälte sind auf der Jagd nach Leuten, die auf ihren Websites gegen Gesetze verstoßen und mit wenig Aufwand viel Geld verdienen.

Daten, die wir vor 10 Jahren in unsere Profile geschrieben haben, sind jetzt sichtbar und werden mit anderen Websites (Skype, Facebook ...) verknüpft, wo jemand unsere echten Daten herausfinden kann. Vor 10 Jahren hatten wir ein anderes Verständnis von Sicherheit (und wir hatten kein Facebook oder Google). Mit einem Namen, einem Ort und einem Geburtsdatum kann man viel anfangen ...

Und bei phpBB 2.x/3.0.x haben wir selbst Änderungen an Kerndateien vorgenommen. Bei 3.1.x/3.2.x wollen wir das Bearbeiten von Kerndateien vermeiden.

Die öffentliche Anzeige von Benutzerprofildaten ist heutzutage gefährlich. Daher möchte ich Gästen die Berechtigung geben, auch benutzerdefinierte Profilfelder auszublenden. Um Namen, Avatare, Standorte, Messenger, wer online ist, Geburtstage, Ranglisten und alles andere über Benutzer auf einem Board auszublenden.

Es sollte eine Kernfunktion und keine Erweiterung sein, denn wenn ein Entwickler von Erweiterungen seine Software nicht aktualisieren möchte, kann er das Sicherheitsniveau seines Boards nicht aufrechterhalten, sofern phpBB auf dem neuesten Stand gehalten wird.

Ich hoffe, ich bin nicht allein und schlage Ihnen vor, für diese wichtige Erweiterung der Berechtigungen zu stimmen.:)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0028v:",,,,,,,,,,,,,,"19/Mar/16 2:32 AM;RMcGirr83;I don't agree that everything should be hidden.  I do agree that the contact information should be with the exception of a users website possibly.;;;",,,,,,,,,,,,,,,,,,,,,
Users have PM notification displayed while they have no PM in their reception box,PHPBB-17392,39381,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,3l3ktr0,3l3ktr0,06/Sep/24 7:40 AM,06/Sep/24 8:02 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Hello,

I'm using phpBB v3.3.10 on my website and for multiple months now (and on older phpBB versions too) some users reports to me that they see the inbox notification badge while they have no new PM in their inbox.

After some researches in the database, I've found out that these users had some ""ghosts"" PM with an author_id = 0 remaining in the table {*}forum_privmsgs_to{*}{*}{{*}}

*!image-2024-09-06-09-32-35-087.png!*

For example this user have 2 unread ghost messages, that he can't see nor open because the author_id = 0 and I don't know how it came in this situation. In the table {*}forum_users{*}, this user have also the column user_new_privmsg and user_unread_privmsg equals to 2.

The 2 msg_id, still exists in the table *forum_privmsgs,*  for example the message 953637 has this data

 
{code:java}<table name=""forum_privmsgs"">
            <column name=""msg_id"">953637</column>
            <column name=""root_level"">0</column>
            <column name=""author_id"">0</column>
            <column name=""icon_id"">0</column>
            <column name=""author_ip"">REDACTED</column>
            <column name=""message_time"">1725577153</column>
            <column name=""enable_bbcode"">1</column>
            <column name=""enable_smilies"">1</column>
            <column name=""enable_magic_url"">1</column>
            <column name=""enable_sig"">1</column>
            <column name=""message_subject"">REDACTED</column>
            <column name=""message_text"">REDACTED</column>
            <column name=""message_edit_reason""></column>
            <column name=""message_edit_user"">0</column>
            <column name=""message_attachment"">0</column>
            <column name=""bbcode_bitfield""></column>
            <column name=""bbcode_uid""></column>
            <column name=""message_edit_time"">0</column>
            <column name=""message_edit_count"">0</column>
            <column name=""to_address"">u_230795</column>
            <column name=""bcc_address""></column>
            <column name=""message_reported"">0</column>
        </table>
 
{code}
The user that have the bug can see in his notifications also this 

!https://cdn.discordapp.com/attachments/960239719051055164/1281515592490291281/image.png?ex=66dbffe6&is=66daae66&hm=396fa91a83b31a512e64d04bb8e30ffbd4481bc1fe47a81b456e94dd90ff349f&=!

And when he clicks he's redirected to this :

!image-2024-09-06-09-40-21-843.png!

 

UPDATE : We found out the author/user that wrote the message above, the account still exists and told us :

??The message has been sent this night, but it has disappeared from his ""Pending Sending box"" and he can't see it in is ""Sent box""??

Thank you for your consideration.",,,,,,,,,,,,,,,,,"06/Sep/24 7:32 AM;3l3ktr0;image-2024-09-06-09-32-35-087.png;https://tracker.phpbb.com/secure/attachment/22921/image-2024-09-06-09-32-35-087.png","06/Sep/24 7:40 AM;3l3ktr0;image-2024-09-06-09-40-21-843.png;https://tracker.phpbb.com/secure/attachment/22920/image-2024-09-06-09-40-21-843.png",,,,,,,,,,,,,,,,"0|i03p9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The 503 HTTP status should be sent to bots in the update process,PHPBB-17378,39282,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Big Monstro,Big Monstro,07/Aug/24 7:58 PM,07/Aug/24 8:08 PM,08/Nov/25 11:12 AM,,3.3.12,3.3.13-RC1,,,,,Update system,,,,,,0,install,,,,,,,"When an administrator disables the board through the ACP, the 503 HTTP status is sent to bots.

That status sending is achieved thanks to that code in phpbb/user.php

 
{code:java}        // Is board disabled and user not an admin or moderator?
        if ($config['board_disable'] && !defined('IN_INSTALL') && !defined('IN_LOGIN') && !defined('SKIP_CHECK_DISABLED') && !$auth->acl_gets('a_', 'm_') && !$auth->acl_getf_global('m_'))
        {
            if ($this->data['is_bot'])
            {
                send_status_line(503, 'Service Unavailable');
            }{code}
 

When a directory named _install_ is located at the board root (= someone is updating the board to a newer version of phpbb), the board is automatically disabled. However, the reported HTTP status for bots is 200 (everything is OK, there is currently no maintenance according to the HTTP status).

 

*The 503 HTTP status should be sent to bots in the update process.*

 

That code in phpbb/user.php...
{code:java}        if (!$phpbb_container->getParameter('allow_install_dir') && !defined('ADMIN_START') && !defined('IN_INSTALL') && !defined('IN_LOGIN') && file_exists($phpbb_root_path . 'install') && !is_file($phpbb_root_path . 'install'))
        {
            // Adjust the message slightly according to the permissions
            if ($auth->acl_gets('a_', 'm_') || $auth->acl_getf_global('m_'))
            {
                $message = 'REMOVE_INSTALL';
            }
            else
            {
                $message = (!empty($config['board_disable_msg'])) ? $config['board_disable_msg'] : 'BOARD_DISABLE';
            }
            trigger_error($message);
        } {code}
... should be replaced by this one:
{code:java}        if (!$phpbb_container->getParameter('allow_install_dir') && !defined('ADMIN_START') && !defined('IN_INSTALL') && !defined('IN_LOGIN') && file_exists($phpbb_root_path . 'install') && !is_file($phpbb_root_path . 'install'))
        {
            if ($this->data['is_bot'])
            {
                send_status_line(503, 'Service Unavailable');
            }
            // Adjust the message slightly according to the permissions
            if ($auth->acl_gets('a_', 'm_') || $auth->acl_getf_global('m_'))
            {
                $message = 'REMOVE_INSTALL';
            }
            else
            {
                $message = (!empty($config['board_disable_msg'])) ? $config['board_disable_msg'] : 'BOARD_DISABLE';
            }
            trigger_error($message);
        } {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03p5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use thephpleague oauth 2.0 client for oauth,PHPBB-17197,38469,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Marc,Marc,23/Sep/23 12:32 PM,12/Jul/24 7:44 PM,08/Nov/25 11:12 AM,,,,,,,,Authentication,,,,,,0,,,,,,,,"The no longer supported oauth library will be replaced with thephpleague oauth 2.0 client library.

Make sure that login is possible from all pages (see https://tracker.phpbb.com/browse/PHPBB-13505).",,,,,,,,,,,,PHPBB-13505,PHPBB-13172,PHPBB-13275,,,,,,,,,,,,,,,,,,,,"0|i03nzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
get_submitted_attachment_data causes fatal error when attachments are gone on the server,PHPBB-16355,36383,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,05/Feb/20 2:46 AM,15/May/24 5:22 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Attachments,,,,,,0,,,,,,,,"Currently the {{parse_message::get_submitted_attachment_data}} function calls {{trigger_error('NO_ACCESS_ATTACHMENT', E_USER_ERROR)}} if any attachment from the POST data is not found in the database. This approach makes it very difficult for users to recover their post content if an attachment happens to be deleted before the final form submission. There appear to be multiple past reports about this problem (PHPBB3-4238, PHPBB3-9048, PHPBB3-9789, PHPBB3-11944, PHPBB3-12914), but they’re all closed, even though the bug still exists.

This bug can be triggered in multiple ways:

1. The board is set up to purge orphaned attachments in some way;
2. A post is being edited simultaneously in two windows, and one of them deletes an attachment;
3. With plupload enabled, an attachment is deleted by XHR and then the form is submitted before the row containing the form fields for that attachment is actually removed from the DOM.

There is no reason for {{get_submitted_attachment_data}} to trigger an error, since all the call sites have access to error arrays for sending errors to the user in the normal way. Instead of calling {{trigger_error}}, this function should just process all the attachments at once, and then at the end of the function return whether or not all incoming attach_ids were successfully handled. The caller can then add errors which will prevent form submission while giving the user an opportunity to make corrections in the normal way.

Reproduction:

1. Go to posting form
2. Upload an attachment
3. Remove the record for that attachment from the database
4. Submit the form

Expected: A normal inline error that some attachments are not available any more. User can re-upload files or save the rest of their post content without attachments.

Actual: “General Error: You are not allowed to access this file”. Post content is probably lost since the user can’t get back to the form.

Attached is one possible patch. I have no idea why the original code was iterating over non-orphans (which may have included orphans since the query did not actually filter out orphaned files!) separately from orphans since the end result was always the same so this patch also gets rid of that duplicate code.",,,,,,,,,,,,,,,,,"14/Feb/20 5:27 PM;Snover;fix-no-access-attachment.patch;https://tracker.phpbb.com/secure/attachment/20282/fix-no-access-attachment.patch",,,,,,,,,,,,,,,,,"0|i03ib3:",,,,,,,,,,,,,,"15/May/24 5:22 PM;colnector;Any updates on this one? Seems to be a major issue open for 4+ years and still happening...;;;",,,,,,,,,,,,,,,,,,,,,
Update docs/ to PHP version 8.2/8.3 ,PHPBB-17311,38693,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Crizzo,Crizzo,13/May/24 6:41 AM,13/May/24 6:41 AM,08/Nov/25 11:12 AM,,3.3.12-RC1,,,,,,Documentation,,,,,,0,,,,,,,,"E.g. docs/INSTALL.html 
https://github.com/phpbb/phpbb/blob/e195e2ad82523418dcefbc7b1596efbd926eabc8/phpBB/docs/INSTALL.html#L150

Limits to max. PHP 8.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enlarge session_browser field in sessions table to detect Googlebot,PHPBB-17290,38578,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,ingpeo,ingpeo,15/Feb/24 10:41 AM,22/Feb/24 10:42 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Memberlist/viewing profiles,Sessions,,,,,0,database,,,,,,,"In sessions table, session_browser is varchar(150).

Googlebot Smartphone (the most frequent) is not detected because user-agent is truncated.

Googlebot Smartphone user-agent:  Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5X Build/MMB29P) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/W.X.Y.Z Mobile Safari/537.36 (compatible; Googlebot/2.1; +[http://www.google.com/bot.html)]

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03olb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Fix RTL Postbody Issue - Broken RTL Search Results Layout And RTL Topic Review Quote Button Wrong Position,PHPBB-17263,38548,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,ForumFlair,ForumFlair,14/Dec/23 4:52 PM,14/Dec/23 4:52 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"This bug is not minor but not exactly major, however it is important if phpBB wants to be ""RTL ready"" out of the box for people who use RTL languages too.

 

I had previously posted this bug but it got mixed up with another bug because that bug needs to be fixed in order to fix this bug, with that in mind I have closed those bug tickets and this one ticket will be the fix for both bugs.

 

*Bug 1:*

When using an RTL language... if you are viewing search results and you make the screen smaller to about 912px, the postbody will break out of the layout.

 

*Bug 2:*

When using an RTL language... if you view a topic and press reply, the topic review panel at the bottom of the screen shows previous posts in the topic - but the quote button is almost in the middle of the post rather than at the end of the post. 

 

I have added LTR and RTL screen shots of both issues and used red arrows to make it clear,

 

*The Fix:*

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.rtl .has-profile .postbody h3 {
    margin-right: 0;
    margin-left: 180px;
}{code}
*Add Below:*
{code:java}
.rtl .search .postbody {
    width: 68%;
}{code}
*Find:*
{code:java}
    .rtl .postprofile, .rtl .postbody, .rtl .search .postbody {
        float: none;
    }{code}
*Change To:*
{code:java}
    .rtl .postprofile, .rtl .postbody, .rtl .search .postbody {
        width: auto;
        float: none;
    }{code}
 

*Find:*
{code:java}
    .rtl .postbody {
        margin-right: 0;
        margin-left: 16px;
    }{code}
*Change To:*
{code:java}
    .rtl .postbody {
        width: calc(100% - 16px - 1px - 200px);
    }{code}
*Find:*
{code:java}
.rtl .topicreview {
    padding-right: 0;
    padding-left: 5px;
}{code}
*Add Below:*
{code:java}
.rtl .topicreview .postbody {
    width: auto;
    float: none;
    margin: 0;
}{code}",,,,,,,,,,,,,,,,,"14/Dec/23 4:52 PM;ForumFlair;LTR - Search Results.png;https://tracker.phpbb.com/secure/attachment/22161/LTR+-+Search+Results.png","14/Dec/23 4:52 PM;ForumFlair;LTR - Topic Review.png;https://tracker.phpbb.com/secure/attachment/22159/LTR+-+Topic+Review.png","14/Dec/23 4:52 PM;ForumFlair;RTL - Search Results.png;https://tracker.phpbb.com/secure/attachment/22160/RTL+-+Search+Results.png","14/Dec/23 4:52 PM;ForumFlair;RTL - Topic Review.png;https://tracker.phpbb.com/secure/attachment/22158/RTL+-+Topic+Review.png",,,,,,,,,,,,,,"0|i03oen:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move viewprofile page to controller,PHPBB-15814,35506,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,28/Sep/18 3:45 PM,23/Sep/23 1:41 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03el3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move viewonline.php to controller,PHPBB-15823,35515,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,01/Oct/18 7:47 PM,23/Sep/23 1:41 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03en3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Inconsistent default bots permissions,PHPBB-17156,38423,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Big Monstro,Big Monstro,05/Jul/23 8:32 AM,05/Jul/23 8:32 AM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Permissions,,,,,,0,bots,,,,,,,"At the installation of a phpBB board, a specific forum role is created for bots.

 

*Bot Access*
 * Can see forum
 * Can see topics
 * Can read forum
 * Can print topics
 * Can download files

 

The two last permissions are problematic.

 

Can print topics : links to print topics are hidden due to a template file (condition *not S_IS_BOT* in viewtopic_topic_tools.html). Moreover, there is a meta tag with robots as name and *noindex* as content in viewtopic_print.html. Therefore, it doesn't make sense to enable the print topics permission to bot. It's even misleading, as an administrator may believe that it's accessible to bots by testing their permissions.

 

Can download files : this permission is even more problematic and that's why I set the priority of this issue as major instead of minor. The problem is that permission isn't actually enabled due to the user permissions assigned to the group. In fact, all user permissions are set at ""No"" for bots, including ""Can download files"". That user permission overrides the forum one. *As a result, no (image) attachment can be indexed by Google or other identified search engines if the administrator doesn't fix the inconsistent bot permissions.*

 

The fix should be simple for future boards.

In install\schemas\schema_data.sql, two user permissions are set for guests
{code:java}
# GUESTS - u_download and u_search ability
INSERT INTO phpbb_acl_groups (group_id, forum_id, auth_option_id, auth_role_id, auth_setting) SELECT 1, 0, auth_option_id, 0, 1 FROM phpbb_acl_options WHERE auth_option IN ('u_', 'u_download', 'u_search'); {code}
*u_download* should be enabled for bots.

For existing boards, a fix could be added too.",,,,,,,,,,,,,,,,,"05/Jul/23 8:28 AM;Big Monstro;bots_user_permissions.png;https://tracker.phpbb.com/secure/attachment/21978/bots_user_permissions.png","05/Jul/23 8:28 AM;Big Monstro;test_of_bots_permissions.png;https://tracker.phpbb.com/secure/attachment/21979/test_of_bots_permissions.png",,,,,,,,,,,,,,,,"0|i03np3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add exception handler for unhandled exceptions,PHPBB-16958,37937,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Marc,Marc,23/Jan/22 3:40 PM,01/Jul/23 7:43 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,2,,,,,,,,"When exceptions are thrown and not caught, these will result in:
 * display_Errors = Off: 500 error page (so called white page)
 * display_Errors = On: Fatal error displayed by PHP default exception handler
 * Environment ""development"": Symfony exception handler displays nice to view exceptions page (not specific to phpBB)

In order to improve this, we should implement our own exception handler that displays a better looking exception display similar to Symfony's own exceptions page. This should be adapted for phpBB and only display exception details when it should (similar to error handler), e.g. for admins or when debug is enabled on purpose.",,,,,,,,,PHPBB-13114,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BBCode UID Throwing Deprecation Errors,PHPBB-17134,38401,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MattF,MattF,02/May/23 4:38 AM,02/May/23 4:43 AM,08/Nov/25 11:12 AM,,3.3.10,4.0.0-a1,,,,,BBCode Engine,,,,,,0,,,,,,,,"We can't do this anymore:
{code:java}$this->bbcode_uid = substr(base_convert(unique_id(), 16, 36), 0, BBCODE_UID_LEN);  {code}
As of PHP 7.4.0 supplying any invalid characters to *base_convert()* is deprecated (it only accepts numeric strings). Our *unique_id()* is creating alpha-numerical strings. The result is the following deprecation errors like:
{code:java}Deprecated: Invalid characters passed for attempted conversion,
these have been ignored in string(7) ""efaoh79""  {code}
 
I have NO idea what bbcode UID's ever were, and I don't even think they are needed anymore with the new bbcode engine. But we certainly need an alternative to this *base_convert* method.
 
This is being done in the *message_parser* and *functions_convert* files.
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nk7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Missing Display and Sorting options under Active Topics.,PHPBB-15185,33856,,Bug,Confirmed,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,M.O.B.,M.O.B.,18/Apr/17 8:49 PM,12/Apr/23 7:15 PM,08/Nov/25 11:12 AM,,3.2.0,3.3.10,,,,,,,,,,,1,active,topics,,,,,,"I don't know if this is a bug or a recent change to this, but I thought I'd report it anyways...

In phpBB 3.2 if you click on Active Topics and there hasn't been any new activity for a while, it will not show the ""Display and Sorting Options"" at the bottom of the page results in order to select a later date like 2 weeks, a month, a year and etc.

See screenshot 001 to understand what Option drop-down is missing. (screenshot taken from phpbb.com)

See screenshot 002 to learn where the above option is located. (screenshot taken from phpbb.com)

See screenshot 003 to see results from phpBB 3.2 when it could not find any recent results under Active Topics  -- notice that you can't find the drop-down option.  -- sorry my site is currently offline.

This doesn't happen to phpBB 3.1.10 -- it will still give you this option even if the first results were empty.

See screenshot 004 to see results from phpBB 3.1.10. You can test this yourself in my current active phpBB 3.1.10 forum: http://www.my15birthday.com/forum/search.php?search_id=active_topics

Note that my custom theme inherits from prosilver.  So those templates are intact -- nothing has been edited in those HTML files."," PHP 5.6.28, MySQL 5.5.54 , Firefox 52.0.2, Server Linux ",,,,,,,,,,,,,,,,"18/Apr/17 8:44 PM;M.O.B.;001.png;https://tracker.phpbb.com/secure/attachment/18438/001.png","18/Apr/17 8:44 PM;M.O.B.;002.png;https://tracker.phpbb.com/secure/attachment/18437/002.png","18/Apr/17 8:44 PM;M.O.B.;003.png;https://tracker.phpbb.com/secure/attachment/18436/003.png","18/Apr/17 8:44 PM;M.O.B.;004.png;https://tracker.phpbb.com/secure/attachment/18435/004.png","12/Apr/23 6:09 PM;anon27;hacked_url_to_get_time_select_box.png;https://tracker.phpbb.com/secure/attachment/21967/hacked_url_to_get_time_select_box.png","12/Apr/23 6:09 PM;anon27;missing_time_select_box.png;https://tracker.phpbb.com/secure/attachment/21966/missing_time_select_box.png",,,,,,,,,,,,"0|i03aav:",,,,,,,,,,,,,,"12/Apr/23 5:58 PM;anon27;Also affecting latest version v3.3.10.

Environment: 7.4.3-4ubuntu2.18, MySQL(i) 8.0.32-0ubuntu0.20.04.2, Firefox and Edge, Prosilver.

Manually have to enter URL: ([www.myforum.com)/search.php?st=30&search_id=active_topics|http://www.myforum.com)/search.php?st=30&search_id=active_topics] to see last 30 days.  If there are any posts, then you the Display/sort method box reappears (most users will not know how to hack the URL to see active topics).

 

Temporary hack to default search last 30 days -> edit functions.php located in /includes folder.  Change line for 'U_SEARCH_ACTIVE_TOPICS' to be:

{{'U_SEARCH_ACTIVE_TOPICS'=> append_sid(""\{$phpbb_root_path}search.$phpEx"", 'st=30&search_id=active_topics'),}}

 

Screenshot of just clicking Active_topics (default is last 7 days):

!missing_time_select_box.png|thumbnail!

Screenshot of manually adding st=30& into URL:

!hacked_url_to_get_time_select_box.png|thumbnail!

 ;;;",,,,,,,,,,,,,,,,,,,,,
Sphinx search backend does not find soft-deleted or unapproved posts,PHPBB-16993,38019,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Lady_G,Lady_G,29/Apr/22 11:58 PM,19/Mar/23 1:19 PM,08/Nov/25 11:12 AM,,3.3.7,3.3.9,,,,,Search,,,,,,0,search,sphinx,,,,,,"I recently switched from the postgreSQL Fulltext to the Sphinx Fulltext search backend.

When viewing a member's posts via the member profile, unapproved or soft-deleted posts were always visible with the postgreSQL Fulltext search backend (also the phpBB Native Fulltext search backend).

These posts are no longer visible with the Sphinx search backend.

For example, a new member submits a post for approval which is held for review in the Moderator Control Panel. When I view the member's profile, I see ""1 post in queue"", but ""Total posts: 0"". The post is not shown in the member's post search results.

When a moderator soft-deletes a post, that post is not shown in the member's post search results. I can review soft-deleted topics and posts in the Moderator Control Panel, but there is no search function. It is nearly impossible to find soft-deleted posts in this manner.

The Sphinx search backend should display these posts consistent with the postgreSQL Fulltext and phpBB Native Fulltext backends.

This bug may have been present in prior phpBB versions, but this is my first use of the Sphinx search backend.","OS: Ubuntu 20.04 LTS
Database: postgreSQL 12.9
PHP: 7.4.29 (8.1.14 as of 19-March-2023)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mm7:",,,,,,,,,,,,,,"19/Mar/23 12:38 PM;P_I;In the file phpbb/search/fulltext_sphinx.php on or about line 693 there is a comment that states: 
{code:java}
        // As this is not simply possible at the moment, we limit the result to approved posts.
        // This will make it impossible for moderators to search unapproved and softdeleted posts,
        // but at least it will also cause the same for normal users.{code}
Is there any explanation for this comment and the restriction?;;;","19/Mar/23 1:19 PM;Lady_G;I have updated the affected phpBB and PHP version details.

The severity is Major because my moderators soft-delete posts and topics which violate our Board Rules. When we review a member's posting history, those soft-deleted posts are not visible.

It is very difficult determine a course of action without this information and we are forced to rely on the member profile user notes.

New member posts held for review (unapproved) are also not visible in the member's posting history. We have to rely on the Moderator Control Panel to see those posts.;;;",,,,,,,,,,,,,,,,,,,,
Check MX doesn't work,PHPBB-17111,38377,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,AleSSaNDRo,AleSSaNDRo,06/Mar/23 8:06 PM,07/Mar/23 8:07 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,User Control Panel (UCP),,,,,,0,security,,,,,,,"With phpBB 3.3.10 and PHP Version 8.2.3 the MX record (security) check does not work.

email_check_mx is enabled.

If I try to register with the fake email test@aaaaaaa.ayeye, phpBB lets me register.

Test file
{code:java}<?php
$result = dns_get_record(""aaaaaaa.ayeye"");
print_r($result);
?{code}
 says:
{code:java}Array ( [0] => Array ( [host] => aaaaaaa.ayeye.server.net [class] => IN [ttl] => 3600 [type] => HINFO [cpu] => RFC8482 [os] => ) ) {code}
So checking with PHP works fine. Something is wrong with phpBB.

With dns_get_record php.net
{code:java} Array ( [0] => Array ( [host] => php.net [class] => IN [ttl] => 60 [type] => A [ip] => 185.85.0.29 ) [1] => Array ( [host] => php.net [class] => IN [ttl] => 283 [type] => AAAA [ipv6] => 2a02:cb40:200::1ad ) ) 
{code}
 ",PHP 8.2.3,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nev:",,,,,,,,,,,,,,"07/Mar/23 1:31 AM;Noxwizard;If I enable MX record checking, I cannot register using that address.

Looking at your results, you should not have gotten any response at all from the first. Instead, you got back a HINFO record and the domain has had a suffix added to it, presumably your host's.

phpBB uses {{{}checkdnsrr{}}}, not {{{}dns_get_record{}}}. What is the result of this:

 
{code:java}
$result = checkdnsrr(""aaaaaaa.ayeye"");
var_dump($result);{code}
It should be {{{}bool(false){}}}.

 ;;;","07/Mar/23 8:07 PM;AleSSaNDRo;Yes bool(false) ;;;",,,,,,,,,,,,,,,,,,,,
Missing information regarding updating vendor package with Changed files method.,PHPBB-17103,38368,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,warmweer,warmweer,12/Feb/23 4:59 PM,12/Feb/23 5:08 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"I marked this as Major as it results in updates with the Changed Files package not being executed as intended (the /vendor not being replaced by a new /vendor.

See [https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_all]

also

[https://www.phpbb.com/support/documents.php?mode=install&version=3.3#update_all]

also install.html in the download packages

 

The point is that the changed files version x to x+1 doesn't mention that the old /vendor has to be deleted and the new /vendor uploaded. This has resulted in a couple of failed updates.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ncv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Osano consent tool is out of date,PHPBB-17057,38317,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Talk19Zehn,Talk19Zehn,03/Nov/22 9:40 AM,14/Nov/22 8:21 AM,08/Nov/25 11:12 AM,,3.3.9-RC1,,,,,,Other,,,,,,2,front-end,template,,,,,,"About Cookie Consent (Open Source) - Osano consent tool is out of date

Preliminary information discussion phpBB-com:

https://www.phpbb.com/community/viewtopic.php?p=15897326#p15897326

In the meantime, many things have changed and I am of the opinion that an adjustment / renewal should be applied in phpBB, as far as that tool concerns phpBB (GDPR / Jurisprudence and so on).

Example: (GDPR) Look the newer version on the bottom this site please

- https://www.osano.com/cookieconsent/documentation/javascript-api/

The new versions allow the management of cookie settings on the part of users / visitors. In terms of GDPR, this is imperative.

 ",,,,,,,,,,,,,,,,,"05/Nov/22 5:43 PM;AmigoJack;20221105 phpBB cookieconsent.png;https://tracker.phpbb.com/secure/attachment/21932/20221105+phpBB+cookieconsent.png",,,,,,,,,,,,,,,,,"0|i03n1r:",,,,,,,,,,,,,,"04/Nov/22 12:40 PM;CHItA;Hi,

Could you expend on what changes you would like to see exactly/what you perceive as non compliant with the current implementation?;;;","04/Nov/22 4:40 PM;AmigoJack;It should not connect to {{//api.ipinfodb.com/v3/ip-country/}} without my consent, as in: never. Have you read my post in that rather tiny topic?;;;","05/Nov/22 9:50 AM;CHItA;So you want us to remove the cookieconsent? That is not exactly what the ticket says.;;;","05/Nov/22 1:04 PM;Talk19Zehn;It is not about the removal, it is only about the adaptation to the DSGVO / GDPR of that tool.

The legal consequences in the EU, since IPs could be transferred, among other things, are also relevant. What is incomprehensible about this?

""The new versions allow the management of cookie settings on the part of users / visitors. In terms of GDPR, this is imperative.""

 

The newer tool offers more than the former one, which uses phpBB.

 

Regards;;;","05/Nov/22 1:05 PM;Talk19Zehn;It is not about the removal, it is only about the adaptation to the DSGVO / GDPR of that tool.

The legal consequences in the EU, since IPs could be transferred, among other things, are also relevant. What is incomprehensible about this?

""The new versions allow the management of cookie settings on the part of users / visitors. In terms of GDPR, this is imperative.""

 

The newer tool offers more than the former one, which uses phpBB.;;;","05/Nov/22 3:57 PM;AmigoJack;I, for my opinion, want a +proper+ cookie consent, and not an implementation that leaks even more of my information. Whoever chose the current implementation is either unaware of what it actually does, or hasn't even grasped why it should be there in the first place: to +not+ collect data without consent. Which implies, that not only the phpBB installation should collect as few as possible, but also 3rd parties should not.

In a competent world it would even work without JS (and without using 3rd party software).;;;","05/Nov/22 4:15 PM;CHItA;I don't see any requests to any third parties being sent.

I am also not certain what cookies you want to opt into/out of. If you could elaborate on why do you think certain cookies violate GDPR - and which ones those are, that would help a lot. Without that information it is impossible for us to evaluate whether or not we want to make a change to our current implementation.;;;","05/Nov/22 5:44 PM;AmigoJack;Oh, that's easy: if you're certain none of them violate GDPR then dump the consent altogether. :) And if you don't see request being sent to 3rd parties then why do relative URIs still occur in the code? What's the benefit of dead code then? At the same time there's no guarantee that it is +not+ used. That's my argument: ""I don't see any request prevention to third parties"" - now what?

Can you please elaborate on why it must be the current implementation and why phpBB can't do it themselves? And why it must be JS to begin with?

If one single guy at phpBB would have understood GDPR then no cookie consent would be needed anyway, because technical cookies don't need that. There's nothing to evaluate here anymore because the decision was already a wrong one in the past.

!20221105 phpBB cookieconsent.png!;;;","11/Nov/22 9:59 PM;Marc;I think there is a bit of a confusion here. phpBB does use the cookieconsent open source script that is made by Osano but it does not use their Consent Tool. While the script shares some sources with the Consent Tool, it's barely touching the surface of what their Consent Tool can do.

The phpBB Cookie bar is merely there to inform. As you might be able to read, it does not actually ask for consent but just informs users about the technical cookies used by phpBB and also links to the privacy policy page that further elaborates on this. If you are looking for a more detailed and thorough solution, e.g. when also using extensions that actually add non-essential cookies, you'll have to look for additional solutions.

[~AmigoJack] The cookieconsent script does have code to get the geolocation from certain APIs. This code is however not used and therefore there are also no thirdparty requests being sent by phpBB's use of the cookie consent script. If you want to invest your time with analyzing the code, you'll also end up at this conclusion. Why it's javascript? Why not? We're open to alternative ideas that you deem to be a better solution though.

However, I'd like to ask you to keep discussions civil and refrain from derogatory remarks as have been posted in this ticket and the topic leading up to this ticket.;;;","13/Nov/22 1:44 PM;AmigoJack;I understand what @Marc intend to mean by ""civil"", but it's not how I started. Low effort (or even sloppy) replies that imply low to no investigation costs is disrespectful, too: people don't create reports/tickets for fun and have already put effort into it (sometimes hours/days and many details). In this case writing ""{_}I don't see any requests to any third parties being sent{_}"" *without* giving details how this conclusion can be reconstructed, and at the same time writing ""{_}If you could elaborate{_}"" perfectly demonstrates the dissonance of expectations from others versus expectation to oneself. Why not first elaborating the own impression before wanting more from others? Why is that considered okay? IMO it isn't - it's unfair and it stops people creating more tickets in the future. I haven't stopped creating tickets because I want to stop being harsh to others - I have stopped because reactions to those either did not occur, or were lacking much overview and experience. From the replies it felt as if I as reporter should not know the software better than the developers.

And this one from @CHItA was not professional, too. It had no insults, was higly civil without a hint of derogation, sure. But it missed/ignored the ticket's topic and many details. In the board topic I made none of @Marc accusations, please elaborate.;;;","13/Nov/22 8:54 PM;Marc;So just to summarize:
 * You first asserted in the topic on .com that phpBB is sending your IP address to a third party service
 * Then you continued to state that creating a ticket on the tracker is a waste of time because ""they will just be closed or not read at all"" (both of which didn't happen so far in the form that you have mentioned)

This ticket was then created by Talk19Zehn mentioning that the tool is supposedly out of data and non-compliant. CHItA then asked a follow up question to understand how the conclusion that the tool is out of date or non-compliant was reached.

Your assertion then was that the non-compliance according to you is that it's connecting to a third party site. CHItA tried to further understand exactly what you mean with that and Talk19Zehn further elaborated.
You however then continued to assert that the cookie consent is leaking information, that the person who implemented it is either ""unaware"" or ""grasped why it should be there"". Then you directly followed to say that in in a ""competent world it would even work without JS"" and therefore implying that whoever implemented this was incompetent.

CHItA followed up on this with another note that he's not seeing the aforementioned assertion by you that there would be any connection to a third party service and asked for any further detail that would help in understanding previous remarks about non-compliance.

Again, you continued with another disrespectful reply, e.g. by stating that people at phpBB have no understanding of the GDPR and that any previous decisions to at the cookie bar were wrong.

I then tried to explain this to you. Your follow up reply to this is certainly not what I would have expected. I do have to agree with you that yes, you did not start this by being civil. Not at all. Again you are being disrespectful to the developers of phpBB that are trying to answer your questions here by calling our replies low effort, sloppy, or implying that we didn't investigate your assertion that the script is connecting to third party services.

We have analyzed the source code and also how the  script behaves in the browser. Both have shown that your assertion is 100% wrong. In fact, we don't have the setting enabled to use this third party geolocation service. What do you expect here? That we explain the code line by line so you believe us? You have offered zero proof that your assertion is correct apart from posting that the code in general would allow for such functionality.

Asking people to elaborate is the core of any discussion. I understand that this might sometimes feel weird on internet platforms, but this is how to better understand the arguments people are trying to make. Seeing this as unprofessional is completely and utterly wrong. As detailed above, your last statement about highly civil discussion without any derogatory remarks is completely wrong.

 

P.S: In addition to that, asking me to elaborate undermines your whole point about it being unfair to ask people to elaborate.;;;","14/Nov/22 8:21 AM;Talk19Zehn;Hello Marc, a cookie banner, also called a GDPR cookie notice, informs users that your website uses cookies and gives them the option to access further details and either give or refuse consent.
In addition, if you use technically non-essential cookies or scripts on your website or app, EU law requires you to block these scripts from running until the user gives consent.
If I look at Osano's site, there is an Open Source Edition version that would comply with the GDPR and is self-configurable. Hosting on the phpBB board is a great advantage, this is right and good to avoid getting caught in a lawyer's warning trap.
Yes, it is a new challenge to program this free script and renew it in phpBB and integrate a management in the ACP with a note that personal responsibility is required for the choices (cookies, texts, etc.).
To what extent a query for requirements could be made in the phpBB board for the cookie banner to support users, I cannot judge. Unfortunately, the currently used CC banner does not meet the new legal requirements.

Best regards

;;;",,,,,,,,,,
Database type mappings between 3.3.x and master are different,PHPBB-17035,38294,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,14/Sep/22 6:43 AM,14/Sep/22 6:43 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,"In phpBB 3.3.x, UINT from migrations was mapped to MEDIUMINT as you can see [here|https://github.com/phpbb/phpbb/blob/3.3.x/phpBB/phpbb/db/tools/tools.php#L50]

In master branch, because the change of the old dbal to doctrine, UNIT is mapped to Integer, source [here|https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/db/doctrine/type_converter.php#L30] 

 

This causes the schema of the databases to be diferent between phpBB versions.

[Forum thread|https://www.phpbb.com/community/viewtopic.php?t=2627491]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mwn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Enahnce Wrote variable,PHPBB-16132,36117,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Leinad4Mind,Leinad4Mind,18/Aug/19 10:44 AM,13/Sep/22 2:11 PM,08/Nov/25 11:12 AM,,3.2.7,3.2.8-RC1,,,,,Posting,,,,,,2,functions_content,quote,,,,,,"Hi there, 

this is something that bothers me since 3.0, so yeah, very old!

 

At functions_content we've this line: 

`$message_parser->message = $quote_attributes['author'] . "" "" . $language->lang('WROTE') . "":\n"" . $message . ""\n"";`

In my language I don't want to have ""Author Wrote:"" but instead ""Wrote by Author""

So I beleive this could be enhance to give the power to the translation file and not be hardcoded like that.

Best regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gu7:",,,,,,,,,,,,,,"12/Sep/22 10:14 AM;Leinad4Mind;I would appreciate some love on this one.;;;","13/Sep/22 2:11 PM;rxu;Actually the code mentioned in the ticket description still exists but is not used in 3.3.x. Currently the words order is hardcoded in bbcode.html template so it's not that trivial to solve that.;;;",,,,,,,,,,,,,,,,,,,,
Topic Resynchronization Problem,PHPBB-15727,35336,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Leinad4Mind,Leinad4Mind,18/Jul/18 9:04 AM,12/Sep/22 9:58 AM,08/Nov/25 11:12 AM,,3.2.2,,,,,,ACP,,,,,,0,database,Resync,topics,,,,,"Topic to look for: [https://www.phpbb.com/community/viewtopic.php?f=556&t=2479116]

Problem: As recommended by mods community, I should resync the topics to fix wrong topic_first_post_id that are present in many of my topics, since I've made a lot of merges between topics. Those merges were made in phpBB 3.0 and 3.2, so I really don't know which of the merges are not taking in account the topic_first_post_id.
Because when merging 2 or more topics, it should fix the topic_first_post_id after the merge. (I still not check if thats happening at 3.2.2).
The problem here is when I want to fix this problem and I run the topic resync at ACP but it doesn't fix the topic_first_post_id.",,,,,,,,,PHPBB-16049,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03dyv:",,,,,,,,,,,,,,"15/Aug/18 10:18 PM;Leinad4Mind;I want to say that I've been able to see that this problems is created too on phpbb 3.2.2. And its not a 3.0 issue. Because I've fix by sql all the topic_first_post_id, and after the fix, I've made more merges and the topic_first_post_id is wrong again. It doesnt sync the data after merging. And that is causing issues with at least one extension (Smart Subject Ext) since that one will only show the option on the 1st post, but the topic_first_post_id is not anymore the 1st post of that topic because of this bug.;;;","07/May/19 8:24 PM;DavidIQ;Bubbling this up for attention.;;;","12/Aug/19 8:55 AM;mrgoldy;What are the exact steps to reproduce? 
As I tried merging a newer topic with an older topic, and the first post id is correct.
And I tried merging an older topic with a newer topic, and the first post id is correct.
What is the exact circumstance when the first post id is not the correct one?
In both cases the _topic_first_post_id_ in my topics table is the correct one.;;;","12/Sep/22 9:58 AM;Leinad4Mind;I wasnt able to see this problem on a 3.3.7 phpBB. 

But most important thing here, and that still matter is that if we've an old database with wrong topic_first_ids and we want to fix it globally, the resync feature should handle it.
Dunno if it already does that, but for what I look into the phpbb files quickly it doesnt seems to fix it already.;;;",,,,,,,,,,,,,,,,,,
408 Request Time-out (Often),WEBSITE-1421,38291,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,GanstaZ,GanstaZ,10/Sep/22 2:53 PM,10/Sep/22 3:25 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,1,,,,,,,,"As can be seen in Feedback [topic|https://www.phpbb.com/community/viewtopic.php?p=15873976#p15873976], it has been happening for some time now. Some experience random logouts on posting + slow loading while others get very slow loading.",FF latest,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mvz:",,,,,,,,,,,,,,"10/Sep/22 3:25 PM;Random American;I believe this issue also causes me to get logged out randomly as well, and have problems logging back in.;;;",,,,,,,,,,,,,,,,,,,,,
Refactor search as a single mechanism,PHPBB-15797,35487,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Hanakin,Hanakin,19/Sep/18 11:29 PM,19/Jun/22 7:11 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Search,Styles,,,,,0,Chameleon,,,,,,,"currently, search is handled differently for each way of searching. This leads to multiple seachfeilds on each page which is a UI nightmare. This needs to be completely overhauled for the new theme. We need a single search that is filterable or customizable to handle all of our searching across the entire forum",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03egv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Code blocks are incorrectly formatted in Atom feed,PHPBB-16999,38180,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,RichardRussell,RichardRussell,31/May/22 4:54 PM,31/May/22 4:54 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Viewing posts,,,,,,0,atom,feed,,,,,,"When a [code][/code] block is represented in an Atom feed, the lines are run-together as one single line, i.e. line breaks within the code block are discarded.  Here is an example:
{code:xml}<div class=""codebox""><p>CODE: </p><pre><code> TIME = 0 FOR I% = 1 TO 10000000 a = PI NEXT PRINT TIME TIME = 0 FOR I% = 1 TO 10000000 LET a = PI NEXT PRINT TIME</code></pre></div>
{code}
The original post looked like this:
{code:java} TIME = 0
 FOR I% = 1 TO 10000000
   a = PI
 NEXT
 PRINT TIME
 TIME = 0
 FOR I% = 1 TO 10000000
   LET a = PI
 NEXT
 PRINT TIME{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mnr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CSS style for BBCodes,PHPBB-16998,38084,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,'-=ET=-,'-=ET=-,18/May/22 9:28 AM,18/May/22 9:39 AM,08/Nov/25 11:12 AM,,3.3.7,4.0.0-a1,,,,,BBCode Engine,,,,,,0,,,,,,,,"Following the update of the text-formatter to its latest version in phpBB 3.3.5...
https://tracker.phpbb.com/browse/PHPBB3-16867
...and JoshyPHP's comment regarding the <style> element not allowed any more in BBCodes...
https://tracker.phpbb.com/browse/PHPBB3-16884?focusedCommentId=64625&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-64625
...I have a suggestion.

Indeed, 3Di's workaround (to move the style code to inline style) works fine in some cases...
https://tracker.phpbb.com/browse/PHPBB3-16884?focusedCommentId=64626&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-64626
...but it can't when the CSS code involves pseudo-elements.
Another side effect would be to prevent from using classes to shorten the code and ease the maintenance & personalisation.

So an alternative could be to remove the CSS code from the BBCode and copy/paste it manually into a stylesheet, like common.css, or directly in the header.

But this is something we all try to avoid nowadays.
It was all the purpose of moving from Mods to Extensions, to stop modifying phpBB core files.

Then, the only other alternative is to transform those BBCodes into Extensions.
But it looks like a bit too much to leave the BBCode engine and the easiness of setting up  BBCodes in the ACP just to fix a CSS code location. It's also a heavy process and I'm not sure all BBCode authors affected by the issue will have the skills and will to do it.

So here is my suggestion: why not adding a ""BBCode CSS style"" field in the BBCode setting page?

!image-2022-05-18-11-23-08-727.png!

BBCode authors would have the possibility to:
 - keep using the ACP and BBCode engine for their BBCodes
 - keep using CSS for pseudo-elements
 - keep using CSS classes in their code to shorten it and ease the maintenance & personalisation
 - they would just need to copy/paste the CSS associated to their BBCode in this new field
 - and this CSS would be automatically loaded by phpBB in the header

What do you think about this option?
To me, it looks like the easiest option to fix the consequences of the ban of the <style> element in BBCodes.",,,,,,PHPBB-16867,,,,,,,,,PHPBB-16884,,"18/May/22 9:23 AM;-=ET=-;image-2022-05-18-11-23-08-727.png;https://tracker.phpbb.com/secure/attachment/21723/image-2022-05-18-11-23-08-727.png",,,,,,,,,,,,,,,,,"0|i03mnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error if data in profilefield bypass the database field max value,PHPBB-16992,38018,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,29/Apr/22 5:11 PM,29/Apr/22 11:24 PM,08/Nov/25 11:12 AM,,3.3,,,,,,,,,,,,0,,,,,,,,"When introducing some special characters that are larger when they are html encoded, the maximum length of the database field can be bypassed.
Probably there should be an aditional check to see if the data will fit in the database field.

 !image-2022-04-29-19-10-51-333.png|thumbnail! ",,,,,,,,,,,,,,,,,"29/Apr/22 5:10 PM;rubencm;image-2022-04-29-19-10-51-333.png;https://tracker.phpbb.com/secure/attachment/21630/image-2022-04-29-19-10-51-333.png",,,,,,,,,,,,,,,,,"0|i03mlz:",,,,,,,,,,,,,,"29/Apr/22 11:24 PM;3Di;??Probably there should be an aditional check to see if the data will fit in the database field.??

Or perhaps a new migration that widens this field?;;;",,,,,,,,,,,,,,,,,,,,,
Visting a topic in the styles demo returns 500 error,WEBSITE-1412,37980,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,Paul,danieltj,danieltj,08/Feb/22 11:14 AM,08/Feb/22 12:51 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"# Visit the 3.2 styles demo (I couldn't find a 3.3 demo at all).
 # Visit any topic, like the '[normal topic|https://www.phpbb.com/styles/demo/3.2/board/viewtopic.php?style=1486&f=2&t=1]'.
 # You should see a white page. In my console it states there was an 500 Internal Server Error when the page was requested.

I've tried on Safari & Chrome and both produce the same result.

Original report was made in the phpBB.com forums: [community/viewtopic.php?f=64&t=2613871|https://www.phpbb.com/community/viewtopic.php?f=64&t=2613871]",phpbb.com,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mdj:",,,,,,,,,,,,,,"08/Feb/22 11:17 AM;danieltj;It's also worth noting that other pages such as the forum index, forum list, members page, search and FAQ amongst others all work fine without any obvious issues. It's just the view topic page that has this problem.;;;","08/Feb/22 12:40 PM;DavidIQ;@Paul I don't think this is an issue with Titania.;;;",,,,,,,,,,,,,,,,,,,,
Support sphinx tests with PostgreSQL in unit tests,PHPBB-16954,37933,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marc,Marc,22/Jan/22 8:03 AM,22/Jan/22 8:04 AM,08/Nov/25 11:12 AM,,,,,,,,Test Suite,,,,,,0,,,,,,,,"PHPBB3-16935 added tests for sphinx search in unit tests as well as on GitHub Actions. These do currently not support using postgres for testing. As part of this ticket, this should be added to our testing suite.",,,,,,,,,,,,,,,PHPBB-16935,,,,,,,,,,,,,,,,,,,"0|i03mav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use exceptions to handle errors in sqlite3,PHPBB-16903,37834,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Marc,Marc,29/Oct/21 7:25 PM,29/Oct/21 7:25 PM,08/Nov/25 11:12 AM,,,,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"The current implementation of sqlite3 throws warnings if there are errors. Until PHP 8, these could be silenced with @ but this will no longer work that easily with PHP 8. Instead, we should be using [https://www.php.net/manual/en/sqlite3.enableexceptions.php]. 

It's also possible that use doctrine will make this ticket obsolete.",,,,,,,,,,,,,,,PHPBB-16897,,,,,,,,,,,,,,,,,,,"0|i03lyn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Memory exhaustion in topic, forum, and overall feeds due to loading all attachments for all posts",PHPBB-16876,37806,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,17/Sep/21 9:28 PM,17/Sep/21 9:29 PM,08/Nov/25 11:12 AM,,3.2.10,3.3.4,,,,,Other,,,,,,0,,,,,,,,"Similar to PHPBB3-14838, calls to {{phpbb\feed\attachments_base::fetch_attachments}} that try to load the attachments from a forum, topic, or list of topics are not properly bounded. If a topic has a large number of attachments, it can lead to memory exhaustion. The query for attachments needs to be _always_ limited to load only the attachments from the specific posts that are going to be displayed in the feed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lsf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Topic Icons Knowledge Base article would be useful,WEBSITE-1406,37800,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,P_I,P_I,09/Sep/21 1:15 PM,09/Sep/21 1:15 PM,08/Nov/25 11:12 AM,,,,,,,,Knowledge base,,,,,,0,,,,,,,,"The information in KevC's excellent post [phpBB • 3.3.1 - Topic Icons...What do they mean...?|https://www.phpbb.com/community/viewtopic.php?p=15756286#p15756286] would be extremely useful as a knowledge base article. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lr3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Use dropzone for uploading files,PHPBB-16855,37782,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,Marc,Marc,Marc,24/Aug/21 2:47 PM,24/Aug/21 2:47 PM,08/Nov/25 11:12 AM,,,,,,,,JavaScript / AJAX,Posting,,,,,0,,,,,,,,"We should start replacing plupload with a library that is more well maintained, e.g. https://github.com/dropzone/dropzone.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ln3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Pretty URLs support,PHPBB-16827,37683,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,DSR!,DSR!,02/Aug/21 1:22 AM,02/Aug/21 4:32 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,easy,,,,,,,"The *only* forum system that does not support this feature is phpBB... 
 For example with *smf* there were already ways to do it *15 years ago*.

So for some time I have been thinking of some workaround to have that feature without so much work.

I share my idea about it:

1) All urls go through append_sid(), so I think the best thing would be to massively rename the function to url_generation()

2) The $params parameter support string and array. This way the old code would still work.

3) Gradually add where the url_generation() function is used the new values of params that can be used to make our url configurable.

+Example+:
 if I want to transform
{code:java}viewtopic.php?t=1&f=1 {code}
In this
{code:java}/f1-your-first-forum/t1-my-topic-titl{code}
you only need to have the name of the forum and the topic in this url_generation() calls

I think that with an approach like this you could have the feature quickly and it can be gradually improved",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lgn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Extension Management with Composer Does Not Work,PHPBB-16231,36251,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,VSE,VSE,26/Nov/19 3:12 AM,04/Jul/21 7:08 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Extensions,,,,,,1,,,,,,,,"Trying to install an extension from the extension manager fails. First, the extension fails to install for some reason, so then it wants to throw an exception, but fatally dies because it can't find the exception.",,,,,,,,,,,,,,,,,"26/Nov/19 3:12 AM;VSE;Screen Shot 2019-11-25 at 6.28.23 PM.png;https://tracker.phpbb.com/secure/attachment/20242/Screen+Shot+2019-11-25+at+6.28.23+PM.png",,,,,,,,,,,,,,,,,"0|i03hi7:",,,,,,,,,,,,,,"27/Nov/19 7:02 PM;VSE;OK, digging a little further, there are 2 things going on here.

First, the install fails because of composer, reporting an error basically like:

composer/installers exists as (up to v1.5.0) but v1.6.0 can not be installed because of a requirement constraint.

Since that errors, an exception is then thrown, phpBB's runtime_exception, but as reported in the screenshot above, for some reason that exception can't be auto-loaded.;;;","09/Dec/19 5:07 PM;VSE;Exact composer error:

The requested package composer/installers v1.6.0 exists as composer/installers[v1.0.0, v1.0.1, v1.0.10, v1.0.11, v1.0.12, v1.0.13, v1.0.14, v1.0.15, v1.0.16, v1.0.17, v1.0.18, v1.0.19, v1.0.2, v1.0.20, v1.0.21, v1.0.22, v1.0.23, v1.0.24, v1.0.25, v1.0.3, v1.0.4, v1.0.5, v1.0.6, v1.0.7, v1.0.8, v1.0.9, v1.1.0, v1.2.0, v1.3.0, v1.4.0, v1.5.0] but these are rejected by your constraint.;;;","04/Jul/21 7:08 PM;MattF;Dug a little deeper again. The problem ultimately lies with the composer-ext.lock file. It's just an empty JSON file, so the installer can't understand that lock file compared with the dynamically generated composer-ext.json file, so it wants to throw the error message: 
{code:html}<error>Cannot update only a partial set of packages without a lock file present. Run `composer update` to generate a lock file.</error>{code}

But then of course the thrown errors are not able to be properly handled by phpbb/composer/installer too.;;;",,,,,,,,,,,,,,,,,,,
Review the phpbb\db\migration\data\v320\allowed_schemes_links migration,PHPBB-16807,37598,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,JoshyPHP,JoshyPHP,30/Jun/21 11:50 PM,01/Jul/21 1:06 AM,08/Nov/25 11:12 AM,,,,,,,,Migrations,,,,,,0,,,,,,,,"I wrote it a long time ago, made it depend on phpbb\db\migration\data\v320\dev for no specific reason (it's probably what the migration I used as a base depended on) but there is an abnormally high number of users who have apparently not run it and I don't know why. It could also be that some users somehow skip some migrations for reasons unknown.

The file is there, it's only 15 lines: [https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/db/migration/data/v320/allowed_schemes_links.php#L16-L31]

I should add, no need to actually review the file or spend too much time on it, take a quick look and close that ticket if it seems ok.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Search.php to services,PHPBB-16756,37423,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,rubencm,rubencm,rubencm,12/Apr/21 12:07 PM,12/Apr/21 12:07 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Search,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kzj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Create / remove search index logic,PHPBB-16755,37422,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,10/Apr/21 3:50 PM,10/Apr/21 3:50 PM,08/Nov/25 11:12 AM,,3.3.4-RC1,4.0.0-a1,,,,,Search,,,,,,0,,,,,,,,"When you create a search index, then you can only delete it if you want to recreate it again.

But, if there is no search index, and a post is created, then the post is indexed and in acp it show like if the search index is created, you can't index the previous posts without delete the search index.

I have added a few checks to launch an exception or just do nothing when there is an index already created to avoid that, but it causes some errors in the tests.

I think that only the posts should be indexed if there is an index created, if there isn't an index, the posts should not be indexed. Explained in other way: Have all posts indexed or none, but not only the last posts created since the index was cleared the last time.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[phpBB Debug] FastImageSize Failed to open stream,PHPBB-16742,37409,,Bug,Confirmed,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Onnozel Manneke,Onnozel Manneke,28/Mar/21 3:10 PM,02/Apr/21 8:34 PM,08/Nov/25 11:12 AM,,3.3.4-RC1,,,,,,Attachments,,,,,,0,attachments,,,,,,,"I'm receiving this error in a topic with an attachment.
 It's strange, because it's only that 1 topic that gives this error...
 All others with attachments are fine...
{code:java}
[phpBB Debug] PHP Warning: in file [ROOT]/vendor/marc1706/fast-image-size/lib/FastImageSize.php on line 189: file_get_contents(https://www.phpbbnl.be/download/file.php?id=15&amp;mode=view): Failed to open stream: HTTP request failed! HTTP/1.1 403 Forbidden
 [phpBB Debug] PHP Warning: in file [ROOT]/vendor/marc1706/fast-image-size/lib/FastImageSize.php on line 189: file_get_contents(https://www.phpbbnl.be/download/file.php?id=16&amp;mode=view): Failed to open stream: HTTP request failed! HTTP/1.1 403 Forbidden {code}
You can see the error here: https://www.phpbbnl.be/viewtopic.php?f=5&t=8

*I use PHP 8.0.3*
 +The error is gone with PHP 7.4+","PHP: 8.0.3 - FPM Served By nginx
MySQL(i) 10.5.9-MariaDB
Intel(R) Xeon(R) CPU E5-2699 v4 @ 2.20GHz (6 core(s))
CentOS Linux 7.9.2009 (Core)
Plesk Obsidian v18.0.34",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kwf:",,,,,,,,,,,,,,"02/Apr/21 7:33 PM;Onnozel Manneke;Any news here?;;;","02/Apr/21 7:50 PM;DavidIQ;According to the error a library is what's causing the error and not phpBB right? So should probably be reported to the author of the library: https://github.com/marc1706/fast-image-size;;;","02/Apr/21 8:34 PM;Onnozel Manneke;Okay let's try that :)

https://github.com/marc1706/fast-image-size/issues/61;;;",,,,,,,,,,,,,,,,,,,
Language choose while register,PHPBB-16702,37187,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,janus_zonstraal,janus_zonstraal,06/Feb/21 9:52 PM,07/Feb/21 12:54 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Other,,,,,,0,language,,,,,,,"Choosing a language in the register procedure, lead you back to the register page.

This is very annoying.

Better would be to let you choose the language in a earlier moment.

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kmf:",,,,,,,,,,,,,,"06/Feb/21 10:51 PM;3Di;I would not consider it a bug. You chose a language then the procedure is reloaded in order to let you read the agreement using the language of your choice. Perhaps it could be ajaxed, but not a bug at all IMHO.;;;","07/Feb/21 12:23 AM;janus_zonstraal;The point is, you start to fill in the form and half way you can choose your language, after doing that you are redirected to the start and have to fill in the form again.

When the language field is in the beginning of the form it is much better.;;;","07/Feb/21 12:43 AM;3Di;Undoubtedly there is room for improvement, but the main language for guests is the one chosen in ACP by the administrator. I would consider this a request for improvement but certainly not a bug in the code, let alone a major one.;;;","07/Feb/21 8:59 AM;david63;Interestingly if you have Coppa enabled then you get the option at that time to change the language.

I would agree that the option to change language should be at the earliest opportunity.;;;","07/Feb/21 9:15 AM;3Di; Sure thing, not a bug... still.;;;",,,,,,,,,,,,,,,,,
plupload will not work correctly with rotated images in newer browsers,PHPBB-16682,37023,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,mtn,mtn,13/Jan/21 2:09 AM,20/Jan/21 10:06 PM,08/Nov/25 11:12 AM,,,,,,,,Attachments,Posting,Viewing posts,,,,3,,,,,,,,"Plupload will not work correctly if rotated images are being uploaded and running in any one of the newer browsers implementing auto-image rotation in their canvas. This applies to most, if not all, versions of phpBB since this is new browser thing.

It is very tricky to test this visually since not only can some browsers auto-rotate images, the OS file manager may or may not depending on what version you're using. To be sure, I inserted debug code in plupload.php and in plupload.js . I've tested this on 3 current browsers that implement auto image rotation (Chrome, Edge, and Firefox) and an older Chromium version that does not. I used 4 images with orientation = 1 (normal), 6 and 8 (both 90 degrees), and 3 (180 degrees). I mixed and matched test uploads between browsers in my local test environment.

The incorrect operation is a double rotation, first by virtue of the browser's canvas and second by plupload's rotate code.

A possible solution is (1) put a switch in plupload.js which engages its auto-rotation if the browser does not do it already, and does not auto-rotate if the browser already did it and (2) add some one-time js code somewhere that produces the test variable needed by plupload. I implemented these two, tested it locally, and am currently running it on my forums.

BTW this issue persists whether the EXIF stripping feature is selected or not (since plupload always uses the canvas regardless).

I also posted in a relevant forum thread [here|https://www.phpbb.com/community/viewtopic.php?f=64&t=2429206&start=45]
",upgraded from phpBB v3.2.0 to v3.3.2 (this problem persisted),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03khr:",,,,,,,,,,,,,,"13/Jan/21 8:28 AM;3Di;Have you tried this extension?

https://www.phpbb.com/community/viewtopic.php?f=456&t=2477256;;;","13/Jan/21 4:18 PM;mtn;3Di, I have seen your extension. At first glance the restriction of no resizing was a show-stopper for me. But after carefully reading through all the comments, you offered a hard-code modification to your extension to address this. I was intrigued.

Bottom line is that the purist in me wasn't quite satisfied and I wanted to find the root cause. After all, plupload is a pretty complete API package and it ships with phpBB as a core plug-in.

So I have to ask you, why did you take the approach you did by writing this extension? It's a lot of work. If your end goal is to address the elephant in the room and eventually replace plupload, then phpBB needs your extension to become part of the core.

Otherwise, why not have plupload work as intended (including with the ACP EXIF stripping option)?

Thanks.
;;;","13/Jan/21 7:42 PM;3Di;I'm not sure what you're talking about but the logic speaks for itself, the question is whether or not you have tried that extension, as I have. I can ask to reopen the topic if you need support.;;;","13/Jan/21 10:42 PM;mtn;Sorry for not explaining myself better.

Yes, your extension works as advertised. Yes, I have tested it on my forums with sample image rotations and with resizing set to 1920 x … All is good.

I am +respectfully+ saying the following to try and understand a few things:

(1) My understanding is that extensions add new features and functionality to phpBB. Indeed, all the released extensions do just that. Your extension is very important to correct core operation, but it seems to me it's a bug fix.
(2) An extension requires continued support to keep pace with phpBB version releases. Also, your extension is not officially released. Instead, it's in a release form ([ALPHA] vs Extensions Robot) that I don't understand. Your extension also requires hard coding to implement resizing, and a version modification to run with new phpBB releases.

I opened this ticket because I believe some small amount of core code can be modified to also fix this original rotation problem, in which case all of the ACP controls will work as intended (and no extension is required).

So I was simply trying to ask you why the extension approach was taken to solve this problem?
;;;",,,,,,,,,,,,,,,,,,
System cron is resending notification,PHPBB-16647,36986,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,snathan99,snathan99,03/Dec/20 11:59 PM,07/Dec/20 6:18 PM,08/Nov/25 11:12 AM,,3.3.2,,,,,,Caching (ACM),Cron,,,,,0,,,,,,,,"I have enabled system cron and every time cron runs it is sending reminder for ""Topic moderation notification"" for the same topic even after topic has been moderated.  Then deleted the topic and still got the message.  Also get repeated email subscription to a post.  This also happens after the post has been deleted! And this did not go away after clearing cache on the system menu.  Finally after clearing cache by deleting the files in the cache folder the emails stopped. 

I tried again with another moderation and post and it had the same effect.","Debian, PHP Version 7.3.19-1~deb10u1, 10.3.25-MariaDB-0+deb10u1 - Debian 10, Firefox 83.0 (64-bit)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03k9j:",,,,,,,,,,,,,,"04/Dec/20 8:30 AM;david63;On a standard phpBB install there is no option to ""clear"" the cache on the System menu;;;","04/Dec/20 12:26 PM;snathan99;I am talking about the ""Purge the cache"" option with description ""Purge all cache related items, this includes any cached template files or queries."" in the ACP -> General tab.  Sorry for confusing by saying system menu. Thanks for pointing it out.;;;","04/Dec/20 4:47 PM;Crizzo;No worries, it don't really matter, we know what you've meant.

Were you able to reproduce this error with an other, fresh installed board? 

The only step we need to reproduce this, is: enable notifications for moderator action and create an fitting event and then we will get this over and over?;;;","06/Dec/20 5:36 AM;snathan99;I was able to create a new install from scratch and reproduce the problem.  I just tested the topic reply notification feature.  When cron gets executed after topic reply is posted, I got the notification as I should.  Then I reran cron and every time cron runs ""cron.task.core.queue"" I get the same email notification.  Now cron does not always run ""cron.task.core.queue"", but if and when it does the same notification sent again.;;;","06/Dec/20 6:43 AM;3Di;What kind of cache are you using for phpBB? See the config.php file in doubt.


{code:php}
$acm_type = ?
{code}
;;;","06/Dec/20 12:52 PM;snathan99;config.php in the root directory has this line:
{code:java}$acm_type = 'phpbb\\cache\\driver\\file'; 
{code};;;","06/Dec/20 1:12 PM;DavidIQ;If you're certain that clearing the cache from ACP did not actually clear the cache then the problem likely lies with the ability of the PHP user to delete files from the cache directory.;;;","06/Dec/20 3:15 PM;Lady_G;I have a similar problem that I cannot reproduce. See: [Moderation queue triggers false post approval notifications | https://www.phpbb.com/community/viewtopic.php?f=661&t=2566306]. I have since updated to 3.3.2 and the problem still recurs intermittently - as recently as a few days ago.

My thoughts are that something is wrong with cron and causes posts to get stuck in the queue.

I'm using memcache. config.php has:

$acm_type = 'memcache';


;;;","06/Dec/20 5:56 PM;snathan99;I believe the issue is with the cron user. The documentation does not indicate which user to run system cron, so I ran it from a regular user (as the phpbbcli.php file is 755 and cache is 777).  I checked the code and it appears cache files should have a umask of 666.  However I did find that NOT all the files in cache have rw for the group and others.  The user (that runs cron) shared the same group as the Apache web server user.  With all that said, the duplicate emails STOPPED when I run system cron as the Apache web user. The bug in this case might be that the umask is not getting set correctly on the cache files.;;;","06/Dec/20 6:51 PM;Lady_G;If this helps, the files in my cache/ directory had files more than 1 month old. Purging the cache from the command line (phpbbcli.php) did not remove those files.

Purging the cache from the ACP removed those files. The live cache/ directory now has files with a permission mask of 755, owned by Apache.

(I don't know if my problem is directly related to this bug, but it's the closest match to what I'm experiencing. It's possible these issues are related, but I'm not sure.)

If I experience my duplicated notification again, I'll try clearing the system cache from the ACP.;;;","06/Dec/20 9:08 PM;snathan99;Thank you Lady G. I usually remove the files by CLEANING up the cache directory! Below is the full list of files in cache.  As you can see they are all created today and not all of them are 666 as I would assume they should be.
{code:java}-rw-r--r--  1 www-data www-data    142 Dec  6 10:58 autoload_dbdbe80dc7030ae9bd39ee30cca82130.php
-rw-rw-rw-  1 www-data www-data    193 Dec  6 10:58 data_ext.php
-rw-r--r--  1 www-data www-data   9458 Dec  6 10:58 container_dbdbe80dc7030ae9bd39ee30cca82130.php.meta
-rw-r--r--  1 www-data www-data 287029 Dec  6 10:58 container_dbdbe80dc7030ae9bd39ee30cca82130.php
-rw-rw-rw-  1 www-data www-data    357 Dec  6 10:58 sql_276fa94fce50500c552d9e4d6de41049.php
-rw-rw-rw-  1 www-data www-data     34 Dec  6 10:58 data_hooks.php
-rw-rw-rw-  1 www-data www-data    203 Dec  6 10:58 data_cfg_prosilver.php
-rw-rw-rw-  1 www-data www-data   8267 Dec  6 10:58 data_acl_options.php
-rw-rw-rw-  1 www-data www-data  56821 Dec  6 10:58 data_modules_acp.php
-rw-rw-rw-  1 www-data www-data   1403 Dec  6 10:58 data_versioncheck_version.phpbb.com-phpbbversions.json.php
-rw-rw-rw-  1 www-data www-data     36 Dec  6 10:58 data_versioncheck_viglink_.php
-rw-rw-rw-  1 www-data www-data  39369 Dec  6 10:58 sql_1f27da1f9926bdc8664bd61f409f3ea7.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 10:58 data_global.php.lock
-rw-r--r--  1 www-data www-data    142 Dec  6 11:04 autoload_1a76714f49f7e860a8ab3acf3c0a59b5.php
-rw-r--r--  1 www-data www-data   9458 Dec  6 11:04 container_1a76714f49f7e860a8ab3acf3c0a59b5.php.meta
-rw-r--r--  1 www-data www-data 291537 Dec  6 11:04 container_1a76714f49f7e860a8ab3acf3c0a59b5.php
-rw-r--r--  1 www-data www-data    142 Dec  6 11:13 autoload_4335734bbdd20f586549a504dff5f80c.php
-rw-r--r--  1 www-data www-data 286735 Dec  6 11:13 container_4335734bbdd20f586549a504dff5f80c.php
-rw-r--r--  1 www-data www-data   9458 Dec  6 11:13 container_4335734bbdd20f586549a504dff5f80c.php.meta
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 sql_50d6c311a2a8009b778c58a60fb558ab.php.lock
-rw-rw-rw-  1 www-data www-data    249 Dec  6 11:13 sql_50d6c311a2a8009b778c58a60fb558ab.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 data_word_censors.php.lock
-rw-rw-rw-  1 www-data www-data     34 Dec  6 11:13 data_word_censors.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 sql_266289600ad2bd488acd546fe1d3ddfa.php.lock
-rw-rw-rw-  1 www-data www-data    103 Dec  6 11:13 sql_266289600ad2bd488acd546fe1d3ddfa.php
-rw-r--r--  1 www-data www-data   1042 Dec  6 11:13 url_generator.php.meta
-rw-r--r--  1 www-data www-data   6817 Dec  6 11:13 url_generator.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 sql_aa2f0ce05c322c8867f85d640d461976.php.lock
-rw-rw-rw-  1 www-data www-data    460 Dec  6 11:13 sql_aa2f0ce05c322c8867f85d640d461976.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 data_icons.php.lock
-rw-rw-rw-  1 www-data www-data   1177 Dec  6 11:13 data_icons.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 data_ranks.php.lock
-rw-rw-rw-  1 www-data www-data    177 Dec  6 11:13 data_ranks.php
-rw-r--r--  1 www-data www-data  26445 Dec  6 11:13 s9e_renderer_f16ccf9b4e96b5c2484427985e9d8788133bfc54.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 data_text_formatter_renderer.php.lock
-rw-rw-rw-  1 www-data www-data    108 Dec  6 11:13 data_text_formatter_renderer.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 data_text_formatter_parser.php.lock
-rw-rw-rw-  1 www-data www-data 131794 Dec  6 11:13 data_text_formatter_parser.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:13 sql_76c09882f450451ac40bece5faca8547.php.lock
-rw-rw-rw-  1 www-data www-data   1114 Dec  6 11:13 sql_76c09882f450451ac40bece5faca8547.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 sql_98469d9a3562535dbb33f9cd1dc4e9e0.php.lock
-rw-rw-rw-  1 www-data www-data    185 Dec  6 11:14 sql_98469d9a3562535dbb33f9cd1dc4e9e0.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 data_bots.php.lock
-rw-rw-rw-  1 www-data www-data   4304 Dec  6 11:14 data_bots.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 data_role_cache.php.lock
-rw-rw-rw-  1 www-data www-data   4365 Dec  6 11:14 data_role_cache.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 sql_88ae3109dda62644e8f80907dd2d12f4.php.lock
-rw-rw-rw-  1 www-data www-data    105 Dec  6 11:14 sql_88ae3109dda62644e8f80907dd2d12f4.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 sql_4223fd41e39e1c4147e8000f473684ab.php.lock
-rw-rw-rw-  1 www-data www-data  10595 Dec  6 11:14 sql_4223fd41e39e1c4147e8000f473684ab.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:14 data_extensions.php.lock
-rw-rw-rw-  1 www-data www-data   3742 Dec  6 11:14 data_extensions.php
-rw-r--r--  1 www-data www-data    169 Dec  6 11:15 index.htm
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:15 data_modules_mcp.php.lock
-rw-rw-rw-  1 www-data www-data  13000 Dec  6 11:15 data_modules_mcp.php
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:15 data_ext_finder.php.lock
-rw-rw-rw-  1 www-data www-data    342 Dec  6 11:15 data_ext_finder.php
drwxr-xr-x 31 www-data www-data   4096 Dec  6 11:15 twig
-rw-rw-rw-  1 www-data www-data      0 Dec  6 11:15 queue.php.lock
{code};;;","07/Dec/20 3:26 PM;Lady_G;I experienced a duplicated notification and cleared the system cache from the ACP. The duplicate notification remained. My problem may be related to cron, but seems different than this bug.

Since I cannot reproduce the problem, there's no point to create a bug report.;;;","07/Dec/20 3:54 PM;snathan99;I would say the bug is in the listing I produced where the default permissions are all NOT 666.  I believe the user running cron is unable to update the cache files and  mark them as completed.  Indeed one would argue these are not cache files, rather transaction queue files that are not getting cleared. They probably just happen to be in the cache folder. The bug was easy to reproduce by installing a brand new install of phpbb and running cron as a non-www user.  Of course, when I say easy, I also recognize it's a lot of grunt work!  Nevertheless, I have already done it, and hopefully the developers can update the file permissions or update the documentation to reflect this needs to run as www-user.  This is serious bug in that it can spam the users to the point of them losing all faith in your board!  Perhaps a quick test before sending email to see if the system is able to clear the setting may be good fail-safe approach.  Also it would help to generate an error specifying the issue with permissions.;;;","07/Dec/20 4:14 PM;david63;But ""www-user"" is not a default user and is, I would suspect, to do with sever configuration.

Incidentally there is nothing wrong with the permissions of the files in your cache folder - they are as expected.;;;","07/Dec/20 6:18 PM;snathan99;That is good to know the file permissions are good. In any case, what server configuration do think may be the issue?  It appears when I do run the cron as www user the issues does not happen.  Putting it differently, can ANY user run cron?  I did at one time get a message that the user could not update the files, but that message did not always happen. Can you shed some light on this?  Also can we do a pre-check before sending emails to avoid duplicates? That way it can display an error message beforehand and help identify the issue as well.;;;",,,,,,,
Undefined variable,PHPBB-16303,36326,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,07/Jan/20 1:36 PM,02/Dec/20 5:28 PM,08/Nov/25 11:12 AM,,3.2.9,,,,,,,,,,,,0,beginner,Beginner,easy,,,,,"The following variable isn't defined (config_file)

 

[https://github.com/phpbb/phpbb/blob/ed9cbc89c19bc6321bfdd540f241683b71ea9a6e/phpBB/phpbb/search/sphinx/config.php#L108]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hyv:",,,,,,,,,,,,,,"02/Dec/20 5:28 PM;3Di;Here is where that variable changed to ""config_data""

 

https://github.com/dhruvgoel92/phpbb/commit/f0692bb9e83f6af9725023028f07cba636d04a4b#diff-4815db29f8761e187444025756aa51c28fd48a9ecbe2230560ebbbba19ea1092R77-R85;;;",,,,,,,,,,,,,,,,,,,,,
Conflicts when using Autowire in Extensions,PHPBB-16609,36782,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,david63,david63,02/Oct/20 2:09 PM,14/Nov/20 2:30 PM,08/Nov/25 11:12 AM,,3.3.1,,,,,,Extensions,,,,,,0,extensions,,,,,,,"With the ability to now use autowire in extensions there is a conflict where another extension uses a FQCN

[https://www.phpbb.com/community/viewtopic.php?f=461&t=2569716]

One possible solution (and there may be other better solutions) is to add all services as aliases in config\default\container\services.yml",,,,,,,,,,,,,,,,,"02/Oct/20 7:01 PM;3Di;image-2020-10-02-21-01-33-847.png;https://tracker.phpbb.com/secure/attachment/20521/image-2020-10-02-21-01-33-847.png","02/Oct/20 7:02 PM;3Di;image-2020-10-02-21-01-55-572.png;https://tracker.phpbb.com/secure/attachment/20520/image-2020-10-02-21-01-55-572.png","02/Oct/20 7:05 PM;3Di;image-2020-10-02-21-05-28-736.png;https://tracker.phpbb.com/secure/attachment/20522/image-2020-10-02-21-05-28-736.png",,,,,,,,,,,,,,,"0|i03jzb:",,,,,,,,,,,,,,"02/Oct/20 3:58 PM;3Di;I have never had issues with autowire, examples:

 

[https://github.com/phpBB-Studio/VideoBlogGallery/blob/master/config/services.yml]

 

https://github.com/phpBB-Studio/AdminDashboard/blob/master/config/services.yml

 

At the moment I have not got any negative feedback or complaints about that, tested with a lot of enabled extensions.;;;","02/Oct/20 4:42 PM;david63;Then you have not tried it with blitze/sitemaker - I have and it gives an error on a clean board;;;","02/Oct/20 4:45 PM;3Di;With one of those extensions of mine?;;;","02/Oct/20 5:54 PM;david63;Yes - Vblog;;;","02/Oct/20 5:58 PM;3Di;So VBlog conflicts with Sitemaker or yours? Thanks.;;;","02/Oct/20 6:01 PM;david63;Sitemaker;;;","02/Oct/20 6:48 PM;3Di;Yup confirmed with both of mines.;;;","02/Oct/20 6:58 PM;3Di;The problem is where the container can't be found anywhere.

""phpbb\di\container_builder->get_container()"" finds nothing while using such Sitemaker extension.

 

You can observe it watching the cache/production folder. There are not ""container_*"" files.

 

*WITH* sitemaker

!image-2020-10-02-21-01-33-847.png!

 

 

*WITHOUT* sitemaker

!image-2020-10-02-21-01-55-572.png!

 

*No issues* otherwise

!image-2020-10-02-21-05-28-736.png!

 

 ;;;","14/Oct/20 12:13 AM;Blitze;Sorry I'm late to the party here but is there something I am doing wrong or not doing in how I define services for sitemaker? Will it help if I also use autowire?

 

thanks;;;","14/Oct/20 1:17 AM;3Di;I am not sure ATM where the problem lies, are you using ""service replacement"" or ""service decoration""?

[https://area51.phpbb.com/docs/dev/3.3.x/extensions/tutorial_advanced.html#using-service-replacement]

 

[https://area51.phpbb.com/docs/dev/3.3.x/extensions/tutorial_advanced.html#using-service-decoration]

 

As I have noticed, the issue is where the container's files are not cached, therefore can't be found by other extensions. You can try it yourself, using your extension and attempting to install one of ours.

 

[https://github.com/phpBB-Studio/VideoBlogGallery/blob/master/config/services.yml]

 

[https://github.com/phpBB-Studio/AdminDashboard/blob/master/config/services.yml]

 

You do not have to use autowire if you do not want, it does not add anything if not greater manoeuvrability, it saves having to specify all classes that you are injecting in the services file.

 

We only have 2 extensions using autowire out of dozens, no conflict between them all.

 

 ;;;","14/Oct/20 1:37 AM;Blitze;I do not use service replacement nor service decoration as I do not replace/decorate any phpBB core services. I use the event system to interact with phpBB core services. I define services just like phpBB does, so I'm not sure if there is something in particular that I am doing to cause this. I will install one of yours and see if I can figure it out :) ;;;","14/Oct/20 1:41 AM;3Di;I would suggest to install this: [https://github.com/phpBB-Studio/VideoBlogGallery/blob/master/config/services.yml]

 

Because the other one is not up to date, publicly.

 

Specifically have a look at how the ""template"" is in use there in your extension/config, let us know thanks.;;;","14/Oct/20 7:34 AM;david63;@[~Blitze] 

You asked if you were doing anything wrong to which the answer is that as your extension has passed validation (more than once) then you are not.;;;","14/Oct/20 6:58 PM;Blitze;Ok, I am reproducing it and I finally see what I am doing that's causing the error, although I cannot explain why. So a couple of things:
 # Regarding the missing container in cache. Keep in mind that when you install an extension, phpBB clears the cache and the container is rebuilt. Because of this error, which occurs in the container builder, the container cannot be built and therefore does not show in cache.
 # As for what I am doing, well... I needed another instance of the template class so I can create and destroy the template data without affecting phpBB. So I extended the phpbb/template/twig/twig class so I can provide it with a separate template context from the rest of phpBB (See service [configuration |https://github.com/blitze/phpBB-ext-sitemaker/blob/6f501368d112c0af51909027ecf85a183b522473/config/services.yml#L241] and [definition|https://github.com/blitze/phpBB-ext-sitemaker/blob/6f501368d112c0af51909027ecf85a183b522473/services/template.php#L14]). In of itself, I believe there is nothing wrong with doing that, and as you said my extension has been approved a couple of times with that implementation. However, that seems to be what is causing the problem. If I just use phpBB's template service, the container is built without issue, and that's the part I cannot explain. I will look for alternative solutions to what I am trying to achieve;;;","14/Oct/20 8:36 PM;david63;Whilst there is an issue with your extension it also apples to other extensions and not knowing which extensions means that there is a need to resolve it within the core;;;","14/Oct/20 11:25 PM;Blitze;I don't believe there is an issue with my extension per say, but I have found what part of my extension is involved with this issue. Finding an alternate solution is proving to be challenging so far but I am still working on it... ;;;","16/Oct/20 11:30 PM;3Di;Not always the validation of a package means that it is perfect, there are clear examples of this that have always been visible. Let me tell you. Rather I would be inclined to think that some things need to be improved in terms of requirements, for example consider the presence of autowire which is now available from 3.3.x. But on the other hand, I admit that lately I don't have a lot of free time to study the subject in depth, even if after having read all the manuals in depth I could venture a hypothesis, anyway let us know how things are going by your side.

 

Suggestion: try to set a parameter for ""template"", in your yaml.

 ;;;","10/Nov/20 10:54 PM;Blitze;So, just to update you... Thankfully I was able to determine the 'what' but I still don't know the 'why'. I also don't know if there are other extensions that conflict with extensions that use autowire, but as far as my extension is concerned, I have made the necessary code changes so it does not conflict with extensions that use autowire. I have submitted the new version for validation.

Thanks;;;","14/Nov/20 2:30 PM;3Di;I see what you did there, it is what I supposed it to be BTW.

And yes you are right, me too I do not see the reason why but... anyway.;;;",,,
Issues with Forum Subscriptions,PHPBB-16624,36801,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Rhaethe,Rhaethe,25/Oct/20 6:19 PM,02/Nov/20 1:57 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,Notification System,,,,,,0,,,,,,,,"Forum version 3.2.8
Member A belongs to Usergroup A that has access to Forum A. They subscribe to forum A and receive emails as expected. Six months down the road, they are no longer part of Usergroup A, and therefore lose access to Forum A.

They did not unsubscribe to Forum A. They still do receive email notifications on new topics created in Forum A, though, after no longer having permissions to view Forum A, the permissions being thoroughly verified.  They click on the links in the notification email and get the not authorized notice, but still do receive the email notification, complete with topic subject.

This is a problem. Whilst they can't actually access Forum A by clicking the notification link in the email, it still does send a notification and the topic subject.","PHP:  5.6.40, MySQL: 5.6.40",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03k3j:",,,,,,,,,,,,,,"25/Oct/20 7:28 PM;DavidIQ;This is not likely to be looked at or, if there is indeed an identified problem, fixed before 3.2.x's end of life on Nov. 7th. Therefore the recommendation at this point is to upgrade to 3.3.x.;;;","31/Oct/20 8:02 AM;rxu;Authorization checking is there from the start [https://github.com/phpbb/phpbb/blame/5df37895d8b0159d2d032c2c5738319d6769242b/phpBB/phpbb/notification/type/topic.php#L132]

So it looks weird that this doesn't actually work while it should. Probably acl_get_list() doesn't work correctly there.

Did you try checking member A forum permission mask to make sure the member doesn't have actual access to the forum A (can see/read)?;;;","31/Oct/20 3:49 PM;Rhaethe;I did, yes.  And when they click on the link in the notification they do receive the ""Not authorized"" message on the forum.  It might be specific to forum subscriptions and not topic subscriptions ... but I think it is the same function that does notifies?

For various reasons, we are not able to upgrade to 3.3.1 ... so in the meantime we've warned our members about it ... ""Please keep subs tidy."";;;","01/Nov/20 11:25 AM;rxu;{quote}For various reasons, we are not able to upgrade to 3.3.1
{quote}
Well, it doesn't actually seem that it should behave any different in 3.3.x.

How exactly member A was disallowed to view the forum? What permission(s) and how was set to Never?;;;","01/Nov/20 7:03 PM;Rhaethe;Member A was in Usergroup A which has access to Forum A.   They were then removed from Usergroup A at a later point.

During some testing, I added a test member to Usergroup A.  Subscribed to Forum A.  I removed them from Usergroup A.  Test member no longer could see the subscription in their User Panel to be able to unsubscribe, but the subscription remained in the forum_watch table.

Personally, I have not been able to reproduce the issue in my testing.  But I have seen the notifications in the few issues escalated to me, and I have traced the permissions out, and I have tested using the same usergroups in question.  

If I recall correctly, each time (and its like maybe 1-3 people once or twice a year, to give actual scope) the notify_status of the subscription in question was always set to one.  I'd need to make sure if/when it crops up again, though.

 ;;;","02/Nov/20 1:57 PM;rxu;{quote}Member A was in Usergroup A which has access to Forum A.   They were then removed from Usergroup A at a later point.
{quote}
 

Tested this scenario on both 3.2.8 and 3.3.2-RC1 and couldn't reproduce so far. Probably there's something else about member A permission settings that wasn't taken into account.;;;",,,,,,,,,,,,,,,,
Clarify which browsers are officially supported for style authors,WEBSITE-1381,36429,,Task,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,DavidIQ,Big Monstro,Big Monstro,08/Mar/20 6:56 PM,12/Sep/20 7:11 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,1,phpBB.com,,,,,,,"The problem was previously described in https://tracker.phpbb.com/browse/PHPBB3-16393, for phpBB 3.2/3.3, but create a ticket here - for Website project - should be a better idea.

 

A Front-End Dev Team Member replied : https://tracker.phpbb.com/browse/PHPBB3-16393?focusedCommentId=62917&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-62917

edit: I replied him, about IE11, after creating that ticket : https://tracker.phpbb.com/browse/PHPBB3-16393?focusedCommentId=62920&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-62920

The previous ticket is now closed, as the issue will be adressed here.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ilb:",,,,,,,,,,,,,,"08/Mar/20 9:32 PM;Hanakin;firstly those stats in your comment on the previous issue are not official or accurate we use the stats from here https://caniuse.com/usage-table as they are the widely adopted standards which pulls from https://gs.statcounter.com/browser-version-market-share. Our supported browsers approach is dynamic as we rely on caniuse and autoprefixer to automate our support. Our official support going forward is '> 1%', 'last 2 versions'.  While yes technically IE 11 is currently sitting within that range at 1.3% usage its not officially required to be supported by us as we do not fully support it. We only partially support it via autoprefixing but will not fix require the use of extreme hacks either via CSS or JS for outliers. IE11 also has a better track record than its predecessors leading to less need for these anyway. And as you have pointed out its going to be killed once Win 7/8 support is dropped.;;;",,,,,,,,,,,,,,,,,,,,,
Mass email notification on some server configuration,PHPBB-16490,36542,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,sanekplus,sanekplus,19/May/20 11:37 PM,19/May/20 11:37 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Caching (ACM),CLI,Cron,,,,0,,,,,,,,"'+Problem+: I enabled email notification about private messages and sent a test PM. Then I started getting the same notification email in my server syslog every 5 minutes, but I wanted only one email.

+Investigation+: I have full Debian server with phpBB 3.3. I have user *webmaster* for the CLI access and my web-server run as *www-data* user, both users are in group *www-data*. Every 5 minutes crond runs _bin/phpbbcli.php_ as user *webmaster*. Syslog shows that crond is trying to send extra emails using _mail()_ in _includes/functions_messenger.php:1929_. Futher investigation shows that phpBB email queue is stored in the cache-file _cache/production/queue.php_. This cache-file was created by web-server (user *www-data*) and is processing by crond (user *webmaster*). After every processing phpBB tries to unlink this cache-file unsuccessfully because of permission problem. It is possible for user *webmaster* to write anything to this cache-file (for instance empty queue) but it is impossible to unlink this file because of parent dir permission: *drwxr-xr-x 3 www-data www-data*. So my personal solution is changing _cache/production/_ permissions to *drwxrwxr-x*.

+Proposed solutions+:
1) Change initial _cache/production/_ permissions to *drwxrwxrwx*.
2) Replace _unlink()_ by writing empty queue.
3) Еnforce customers to use the same user for web-server and external crond (bad idea in my mind).","Debian 10, PHP 7.3.14, MariaDB 10.3.22, Exim 4.92, Chromium 81.0.4044.138",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03j9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CP Common code and tests,PHPBB-16219,36238,35946,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,mrgoldy,mrgoldy,23/Nov/19 10:59 AM,02/May/20 11:10 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,ACP,Moderator Control Panel (MCP),User Control Panel (UCP),,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
CP Services and items,PHPBB-16218,36237,35946,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,mrgoldy,mrgoldy,23/Nov/19 10:59 AM,02/May/20 11:10 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,ACP,Moderator Control Panel (MCP),User Control Panel (UCP),,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
 Search user posts BBCode not always parsed which can misattribute quoted material,PHPBB-16427,36466,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,P_I,P_I,06/Apr/20 3:49 PM,06/Apr/20 3:49 PM,08/Nov/25 11:12 AM,,3.2.9,,,,,,BBCode Engine,Search,,,,,0,,,,,,,,"When someone clicks on the number of posts shown in the members profile, the output shows the first 300 characters with a 'Jump to post' link.

Depending on where BBCodes fall in the first 300 characters of the post, sometimes the search results render with the BBCodes processed but for longer posts the BBCodes are NOT processed. This can lead to the case where a posted quoted someone else at the start of a post but the search results output doesn't show the quoted material, thus misrepresenting who said what. 

See [https://www.phpbb.com/community/viewtopic.php?f=556&t=2547851] for discussion. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03itj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
EPV page doesn't work,WEBSITE-1382,36456,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,,Skouat,Skouat,29/Mar/20 11:12 PM,29/Mar/20 11:12 PM,08/Nov/25 11:12 AM,,,,,,,,Extensions Area,,,,,,2,,,,,,,,"Hi team,

On the following page : [https://www.phpbb.com/extensions/epv/]

If we tried to use EPV via Github, it result the following error:

 
{noformat}
An error occured
Oopsies… what you have requested is gone!I’m only a computer server and can only give you what I’ve got. I’ve searched and search and searched, yet there was no document of this name. So as they say… “this page is an ex-parrot”, perhaps you should use the search?{noformat}
And, the link ( https://tracker.phpbb.com/browse/EXTTOOLS) provided to reports bugs, is not accessible.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03irb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BBCode in parts not parsed,PHPBB-15272,34286,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Crizzo,Crizzo,14/Jul/17 12:10 PM,27/Mar/20 9:40 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,BBCode Engine,,,,,,0,,,,,,,,"Hi,

I have a post with the following structure:
{code:java}
[b]Name[/b]
[list][*]from User xy: [url=https://www.phpbb.com/]Link to post[/url][/list]

[b]Name2[/b]
[list][*]from User xyz: [url=https://www.phpbb.com/]Link to post[/url][/list]
{code}
This sections gets repeated a few times, with more list-items etc.

This posting is quite long, since the update to 3.2.0  this post was not parsing the BBCodes in the whole post completely. It stucks at same point.

This lead to:

[b]Name[/b] --> gets parsed until the end of the post


The list + URL does not get parsed anymore beginning in a specific line (see attachment).

This does not affect phpBB 3.1.10. 


 ",PHP 7.0.21,,,,,,,,,,,,,,,,"14/Jul/17 12:08 PM;Crizzo;bbcode-parsing.png;https://tracker.phpbb.com/secure/attachment/18822/bbcode-parsing.png",,,,,,,,,,,,,,,,,"0|i03avr:",,,,,,,,,,,,,,"15/Jul/17 1:15 AM;JoshyPHP;There's a default limit of ~1000 uses for each formatting tag. There's no user interface in phpBB to change that number so if you want to increase it you'd need to do it with an extension, preferably using the {{core.text_formatter_s9e_configure_after}} event.

http://s9etextformatter.readthedocs.io/Internals/Limits/
http://s9etextformatter.readthedocs.io/Getting_started/Runtime_configuration/

{code:php}
// Change all
foreach ($event['configurator']->tags as $tag)
{
	$tag->tagLimit = 10000;
}

// Change one
$event['configurator']->tags['URL']->tagLimit = 10000;
{code}
;;;","15/Jul/17 9:51 AM;Crizzo;K. This explains, why the bbcode parsing stops at some point.

But why is the bold-tag not affected? Is that taglimit not counting from top to bottom?;;;","15/Jul/17 10:08 AM;JoshyPHP;It's not obvious but that's because every time a new {{[list]}} is opened, there's an invisible {{[*]}} that's created to accommodate cases where users forget to use a list item. Even though it ends up being discarded, it's still counted. That's why if you create 333 lists each with 2 items, you end up with 333 + 333 * 2 = 999 list items counted and the next list runs out of allowed items. There are other cases where markup is automatically adjusted that may count towards this limit.;;;","15/Jul/17 10:14 AM;Crizzo;Okay, so when my [b]-Tag would reach the 1000, too, then it would not be parsed, too. So every BBCode tag is counted for themselves. 

Is there a specific reason, why we do not add a ACP-setting for that value? ;;;","15/Jul/17 10:27 AM;JoshyPHP;No, there's no particular reason. The API exists but there's just no UI for it.;;;","20/Jul/17 5:19 AM;rxu;Interesting. Does this count for smilies/emojis as well? Is there an implicit limit for the maximum characters number in post in common?

Is there a value for 'unlimited' btw? :)

Anyway, current post settings in ACP aren't consistent with this behaviour (ones which explanations state something like ""Set to 0 for unlimited links"" and so on). That should be fixed on ACP side imho.;;;","20/Jul/17 6:19 AM;JoshyPHP;Every tag has a limit attached to it and even plugins have a limit on the number of matches they'll process, 10000 by default.

There's no magic value for ""unlimited"". You can set it to PHP_INT_MAX and let PHP run out of memory and/or be limited by some other part of PHP.;;;","20/Jul/17 7:56 AM;AmigoJack;Without giving an error (message text or HTTP status) such limits are more a nuisance than a help.;;;","20/Jul/17 8:39 AM;JoshyPHP;Without providing a pull request, such comments are more a nuisance than a help.;;;","20/Jul/17 3:51 PM;AmigoJack;That would require me to be fluent in *git*, but I doubt you can even link me to a tutorial on how to do that on the _phpBB_ website - you just expect it while it is nowhere mentioned as requirement for a comment. And you should know better that it's already a difficult task for many ""consumers"" to actually submit a ticket, so just asking for [choose favorite versioning system command] will drive most people away from the project instead of making it better. It will filter the ones being perfect for this job, tho - which can also result in an empty group.

I accept your approach - I've just seen enough other software going downhill where developers had such an attitude.;;;","20/Jul/17 8:46 PM;JoshyPHP;There's a difference between not knowing and not trying. I didn't know anything of Git until I actually tried it. Now I know maybe 2% of it and that's enough for all my needs. And there are no *consumers* here, only users. A consumer is [a person or organization that uses economic services or commodities|https://en.wikipedia.org/wiki/Consumer]. There are no economic services here, only volunteers giving away their time and expertise for free. There is no shortage of ideas and opinions, the only limiting factor is the amount of people actually willing to **do** something. Apparently you're not one of them.;;;","21/Jul/17 6:37 AM;AmigoJack;Look thru my posts and tickets, then you'll see that I was not only willing to do for many years but also did. I'm also convinced your concept of ""willing to do"" is defective, as it doesn't honor how much has been done before by ""the people"" already - after long journeys there's for everybody a point of thinking ""no, I can't learn anything"", not to speak of leaving it to professionals (I am willing to build a house, but others can do that better already). Maybe your skills in *git* are what you lack in programming? And no, [a consumer is not only about economics|https://en.wiktionary.org/wiki/consume] - words are defined in dictionaries, not encyclopedias.;;;","21/Jul/17 7:03 AM;JoshyPHP;Not interested in a pointless debate.;;;","21/Jul/17 7:22 AM;AmigoJack;This discussion is not pointless - it shows very well how you reject one single comment and then wonder about the outcome when telling me lingual things the wrong way - everybody _can_ learn from this. The software needs to report encountered limits to the user and it also needs the limits to be configurable.;;;","21/Jul/17 8:00 AM;JoshyPHP;I'm unsubscribing from this issue to avoid receiving more spam.;;;","23/Mar/20 9:55 PM;mrgoldy;For what it's worth, I tried replicating this today with the post Crizzo provided me.
The post contained 205.000 characters with lists, bold and links.
Tested on 3.2.9 and 3.3.0 and both posts went through fine, without parsing errors or 'wrong output'.
I believe s9e already upped its tag limit to around 5.000 from the previously mentioned 1.000;;;","24/Mar/20 10:55 AM;AmigoJack;As per [https://www.phpbb.com/community/viewtopic.php?p=15463126#p15463126] the limit must be ~15000 tags; the user still doesn't get any error message, bug persists.;;;","27/Mar/20 9:40 PM;mrgoldy;The limit is 5.000, just to add that to this topic aswell.

Currently there are a few checks done against tag limits, for example if there are too many URL's or nested quotes.
These are actual permissions that are 'being broken' by the user. An error is displayed in those cases and the post will not be parsed and stored.

The 'problem' I have with adding an error message for too many tags (for eg. {{[b]}}), is that it's not actually an error, more of a warning. _""You'll not get the desired outcome""_-like.
Moreover, while we can provide the limit and the tag name in the message, it is currently not possible to provide the actual count the user is currently trying to use.

So I do not yet see a clear and correct approach for this one..;;;",,,,
"Contact email address can be visible when you click on ""I forgot my password"" link",PHPBB-16353,36381,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Big Monstro,Big Monstro,03/Feb/20 12:28 PM,05/Mar/20 8:47 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,,,,,,,0,,,,,,,,"Consider a board where the feature ""Allow password reset"" is disabled.

 

The link ""I forgot my password"" is still visible. When an user clicks on it, he or she receives that message :
{code:java}The password reset functionality has been disabled. If you need help accessing your account, please contact the Board Administrator.{code}
The link ""Board Administrator"" doesn't redirect to the Contact Page (if enabled) or an error (if disabled), like the login page when there is a login problem. Instead, it redirects to m{color:#172b4d}ai{color}+l+{color:#403294}t{color}o:xxxx, where xxxx is the contact email address defined in the ACP. Even if the administrator decided to hide email addresses, the contact email address is still visible. It's definitely a flaw.

 EDIT 5/03/20 : the bug appears also when you try to link an existing account with an external service (oauth). If you type a wrong password, you get that message

 
{code:java}You have specified an incorrect password. Please check your password and try again. If you continue to have problems please contact the Board Administrator.
{code}
Unlike the ""Board Administrator"" link of the standard login page, that link doesn't redirect to the Contact page (if enabled) or an error (if disabled). Instead, it redirects to mail to:xxxx, where xxxx is the contact email address defined in the ACP. Even if the administrator decided to hide email addresses, the contact email address is still visible. Same flaw.

 

 If you fails again to find the correct password, you get that message:
{code:java}You have specified an incorrect password. Please check your password and try again. If you continue to have problems please contact the %sBoard Administrator%s.
{code}
There is no link at all. {color:#de350b}*%sBoard Administrator%s*{color} is displayed as such.

 

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ian:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Patch for PHPBB3-14559 does not correctly handle all inline attachments inside quotes,PHPBB-16364,36394,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,15/Feb/20 4:14 PM,17/Feb/20 1:11 AM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Posting,,,,,,0,,,,,,,,"The patch added for PHPBB3-14559 only fixes the single case where someone uses the quote-reply button to quote a post containing an inline attachment. It does not fix:
 # Posts which add a quote containing an inline attachment by using the quote button in the message history in the editor
 # Posts which were already created before the patch which contained an attachment tag inside of a quote tag
 # Any other scenario where a user manually copies and pastes BBCode containing attachment tags

A more correct solution for this problem is to associate the nested attachment tag with the post ID on the parent {{[quote]}} tag, if one exists, and load attachment data that way using a {{(post_id, index)}} composite key. (Using indexes for attachments is pretty much always wrong since they aren’t unique or immutable, unlike {{attach_id}}, but whatever.)

A less good alternative—which would be needed anyway for quotes which don’t include the original post ID—is for the template for {{<ATTACHMENT>}} to look in the ancestor axis for a {{<QUOTE>}} element, and if there is one, don’t output the comment hack which is used to process and replace the inline attachment at render time.",,,,,,,,,,,,,,,,,"17/Feb/20 1:11 AM;Snover;fix-quoted-inline-attachments.patch;https://tracker.phpbb.com/secure/attachment/20285/fix-quoted-inline-attachments.patch",,,,,,,,,,,,,,,,,"0|i03idj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Patch for PHPBB3-11453 causes external notifications to be sent to banned users or Anonymous,PHPBB-16347,36375,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,02/Feb/20 7:38 PM,02/Feb/20 7:38 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Notification System,,,,,,0,easy,,,,,,,"The patch in https://github.com/phpbb/phpbb/pull/5300 deletes the check of whether a notification is going to banned or ignored users, and there are no other checks in the notification system to remove banned users.

As a result, at best, the notification system tries to send notifications to Anonymous since that’s the user account which {{$this->user_loader->get_user($notification->user_id)}} returns when there is no account loaded, which results in wasted time rendering templates for the wrong account (since nothing checks whether an email address actually exists until the call to {{messenger::msg_email}} at the very end of {{messenger::send}}). At worst, notifications continue to be sent to banned users because the banned users were loaded by some other earlier call to load users into the global user_loader object during the same request.

The original short-circuiting checks which existed and were removed by the patch should be restored.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03i9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Notification manager does not check if a notification type is available before creating or updating notifications,PHPBB-16340,36367,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,26/Jan/20 2:00 AM,26/Jan/20 2:08 AM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Notification System,,,,,,0,,,,,,,,"Various functions in {{\phpbb\notification\manager}} blindly call {{\phpbb\notification\type\type_interface}} functions without first checking that the given notification type is actually available.

For example, when {{\phpbb\notification\manager::add_notifications}} is called, it calls straight through to {{\phpbb\notification\type\type_interface::find_users_for_notification}}:

{{$notify_users = $this->get_item_type_class($notification_type_name)->find_users_for_notification($data, $options)}}

This means that if e.g. bookmarks are initially enabled, users add bookmarks, then bookmarks are disabled later, users will continue to receive bookmark notifications and will have no ability to control these notifications.

There is no written contract in the type_interface API that states the type needs to be aware of its own availability state and not return data if it is unavailable, so this implies that these checks should be happening in the notification manager. However, just checking {{type_interface::is_available}} is not sufficient since that function is designated to be used only for deciding whether or not a type is available to the *current* user, not whether or not a type is available *at all*.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03i7j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Poor inefficient SQL on reading the notifications table,PHPBB-16280,36301,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,chanlon1,chanlon1,30/Dec/19 6:37 PM,30/Dec/19 6:37 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,,,,,,,0,,,,,,,,"In phpbb/notification/method folder there is the Board.php file.

There is a public function in it called get_notified_users that reads the Notifications table.

If the site admin chooses to not have Notifications removed from their forum, then the Notifications table will constantly increase. 

The SQL in this public function appears to be inefficient as the Notifications table doesn't include the column 'item_parent_id' as an index. Its possible that other columns may need to be indexed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03htb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor template object,PHPBB-15069,33723,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,javiexin,javiexin,05/Feb/17 5:49 PM,27/Nov/19 8:51 PM,08/Nov/25 11:12 AM,,3.2.0,3.3,,,,,Template Engine,,,,,,0,,,,,,,,See https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=50881,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/4688,,,,"0|i039hr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect installation path for SQLite3,PHPBB-16166,36152,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rxu,rxu,22/Sep/19 4:41 PM,22/Sep/19 4:41 PM,08/Nov/25 11:12 AM,,3.2.8,3.3,4.0.0-a1,,,,Database Abstraction Layer (DBAL),Installation system,,,,,0,,,,,,,,"phpBB installation procedure with SQLite3 has several issues:

1) Full path to the database should be entered, while the code gets it as a server name with optional port value, see [https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/phpbb/db/driver/sqlite3.php#L39.]

2) There's a ""Database name"" field on the database configuration page during installation, but the value is never used in the code to connect with the database.

3) Connection uses SQLITE3_OPEN_CREATE flag, which means database to create if doesn't exist, but it will create 2 database files in /install and board root folders. This is pointless as /install folder is to be deleted/renamed as well as it's not safe like that. Also it's not documented anywhere. See https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/phpbb/db/driver/sqlite3.php#L50",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move viewforum to a controller,PHPBB-15934,35737,30713,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,CHItA,CHItA,CHItA,11/Jan/19 9:29 AM,22/Sep/19 8:32 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Viewing forums,,,,,,0,,,,,,,,"Move the viewforum endpoint into a controller.

Since this is a rather complicated task with many parts to refactor it is/will be broken up into multiple smaller tickets (see the links) which should help reviewing this and reduce the risk of introducing bugs.",,,,,,,,PHPBB-16165,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fdz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
SQL statements in move_topics should be part of transaction,PHPBB-16162,36148,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Tomba,Tomba,21/Sep/19 7:13 AM,21/Sep/19 6:53 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Lots of functions infunctions_admin.php contain multiple queries that update data, so they should all be combined within a transaction to avoid data inconsistensies on failure:
 * move_posts()
 * move_topics()
 * delete_topics()
 * delete_topic_shadows()",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h13:",,,,,,,,,,,,,,"21/Sep/19 9:45 AM;3Di;Yeah, there are many places in the code with the same issue.;;;",,,,,,,,,,,,,,,,,,,,,
Database Update  and ACP version check should check for maximum PHP version,PHPBB-16077,35966,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,canonknipser,canonknipser,06/Jun/19 11:28 AM,14/Sep/19 8:57 AM,08/Nov/25 11:12 AM,,3.2.7,,,,,,Installation system,,,,,,0,update-script,,,,,,,"Like introduced with the solution for https://tracker.phpbb.com/browse/PHPBB3-15926, the database update should also check for the minimum and maximum PHP versions.

 

As the manual update with the full package is the recommended method for upgrading, the database updater is the only script to run after file replacement.. So board owner doing an upgrade get the same informations like on a fresh install.

 

Additionally, a check should be implemented on the acp main page if there are any version conflicts with the current PHP version. 

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ggf:",,,,,,,,,,,,,,"14/Sep/19 8:57 AM;3Di;I will propose my PR as soon as 3.2.8 is out.;;;",,,,,,,,,,,,,,,,,,,,,
Need a central and therefore consistent documentation of upgrade procedure,WEBSITE-1309,33628,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Major,,Noxwizard,P_I,P_I,10/Jan/17 4:27 PM,22/Mar/19 1:22 PM,08/Nov/25 11:12 AM,,,,,,,,Community,Downloads Page,,,,,2,,,,,,,,"Within the phpbb.com website, there are a number of instances where the phpBB 3.x upgrade procedure is documented and unfortunately there are differences between each one. This makes it hard for a newer admin to find and follow the upgrade instructions. There should be *one documented location* and a common method (KB BBCode?) to link to it so that all other instances should refer to this one. 

It is made more difficult because many phpBB posters, including support team members, post instructions without a link to the *documented location*, thus increasing the number of sets of instructions that an admin may find. 

With the release of phPBB 3.2 the support forums are once again filling with reports of upgrade problems. The same happened in the phpBB 3.1 timeframe. 

Here are some examples that I've found. In particular there is a difference between the :
*  [ReadMe Before Posting in 3.2.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=556&t=2376856#faq]
* [ReadMe Before Posting in 3.1.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=466&t=2232411#faq]
* [Downloads - Install or Update phpBB link|https://www.phpbb.com/support/documents.php?mode=install&version=3#update30_31]
* [Forum post - Support team member|https://www.phpbb.com/community/viewtopic.php?p=14591176#p14591176]
* [Forum post - significant contributor|https://www.phpbb.com/community/viewtopic.php?p=14562601#p14562601]

The differences between the [Downloads - Install or Update phpBB link|https://www.phpbb.com/support/documents.php?mode=install&version=3#update30_31] and the [ReadMe Before Posting in 3.2.x Support Forum|https://www.phpbb.com/community/viewtopic.php?f=556&t=2376856#faq] caused me some trouble testing the upgrade to phpBB 3.2.

A common documentation of the procedure/steps would go a long way to smoothing the upgrade process when a new feature release comes out IMHO. 
",,,,,,,,,WEBSITE-1168,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038wv:",,,,,,,,,,,,,,"10/Jan/17 8:16 PM;Marshalrusty;You're absolutely right.

Is this something you would like to work on? I would be happy to assist the effort in any way I can.;;;","20/Jan/17 4:25 PM;DavidIQ;The official upgrade guide is actually here for 3.1:
https://www.phpbb.com/support/docs/en/3.1/ug/upgradeguide/upgrade3/
and here for 3.2:
https://www.phpbb.com/support/docs/en/3.2/ug/upgradeguide/upgrade31/

The supplied links are, for the most part, based on these same guides..;;;",,,,,,,,,,,,,,,,,,,,
Error message when upload 0 bytes attachment,PHPBB-15993,35852,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,16/Mar/19 7:36 PM,17/Mar/19 9:47 AM,08/Nov/25 11:12 AM,,3.3,,,,,,,,,,,,0,,,,,,,,"When you upload a file of 0 bytes, you get the error: ""File too large"".

I haven't check in 3.2.x",,,,,,,,,,,,,,,,,"17/Mar/19 6:28 AM;3Di;image-2019-03-17-07-28-43-217.png;https://tracker.phpbb.com/secure/attachment/19960/image-2019-03-17-07-28-43-217.png",,,,,,,,,,,,,,,,,"0|i03fu7:",,,,,,,,,,,,,,"17/Mar/19 6:29 AM;3Di;Confirmed in 3.2.5

 

!image-2019-03-17-07-28-43-217.png!;;;","17/Mar/19 9:47 AM;rubencm;[https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/files/filespec_storage.php#L494];;;",,,,,,,,,,,,,,,,,,,,
"Unable to find template ""acp_ext_enable.html"" after renaming ""adm"" folder.",PHPBB-15487,34781,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Skouat,Skouat,29/Dec/17 11:25 AM,05/Mar/19 1:27 AM,08/Nov/25 11:12 AM,,3.2.2-RC1,,,,,,ACP,Extensions,,,,,0,,,,,,,,"Hi,

If we rename the 'adm' folder and try to enable an extension, we encounter the following error:

Fatal error: Uncaught exception 'Twig_Error_Loader' with message 'Unable to find template ""acp_ext_enable.html"" (looked into: ).' in /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php:232 Stack trace:
#0 /var/www/clients/client3/web24/web/forums/phpbb/template/twig/loader.php(135): Twig_Loader_Filesystem->findTemplate('acp_ext_enable....')
#1 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php(150): phpbb\template\twig\loader->findTemplate('acp_ext_enable....')
#2 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Environment.php(329): Twig_Loader_Filesystem->getCacheKey('acp_ext_enable....')
#3 /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Environment.php(419): Twig_Environment->getTemplateClass('acp_ext_enable....')
#4 /var/www/clients/client3/web24/web/forums/phpbb/template/twig/environment.php(277): Twig_Environment->loadTemplate('acp_ext_enable....', NULL)
#5 /var/www/clients/client3/web24/web/forums/ve in /var/www/clients/client3/web24/web/forums/vendor/twig/twig/lib/Twig/Loader/Filesystem.php on line 232

This error only appears when an extension is enabled.
No errors during disabling or deletion.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03cdr:",,,,,,,,,,,,,,"30/Dec/17 8:27 PM;canonknipser;Wonder why anybody would rename the adm (or any other default) folder?

Do you change your default folders on your operating system as well?;;;","31/Dec/17 10:58 AM;Skouat;That simple... phpBB Core allows to do this. So I do it.;;;","08/Oct/18 2:02 PM;Senky;@[~Skouat] how exactly did you rename the admin folder? What exactly did you do?;;;","08/Oct/18 6:30 PM;Skouat;That's simple.

I rename the adm folder to *_358d323fs6658d3f23d35669ds_*, then I update the *_$phpbb_adm_relative_path_* in config.php with the name of the new folder.

But, from what I saw in phpBB core files the foldername *_adm/_* is hardcoded in some files.
 ;;;","09/Oct/18 12:00 PM;rubencm;Related: https://tracker.phpbb.com/browse/PHPBB3-15739?filter=-2;;;","05/Mar/19 1:23 AM;Galixte de EzCom;Hi,

 

on phpbb-fr.com a user “*[Sylveretour|http://forums.phpbb-fr.com/sylveretour-u126063/]*” reported two solutions: [http://forums.phpbb-fr.com/support-utilisation-phpbb32/sujet212675.html.]

One is in the next file (line 224):
{code:java}
includes/acp/acp_extensions.php{code}
 By adding this code at the line 44: 
{code:java}
$phpbb_adm_relative_path{code}
 and by replacing this code:
{code:java}
					// Update custom style for admin area
					$this->template->set_custom_style(array(
						array(
							'name' 		=> 'adm',
							'ext_path' 	=> 'adm/style/',
						),
					), array($phpbb_root_path . 'adm/style'));
{code}
With this:
{code:java}
					// Update custom style for admin area
					$this->template->set_custom_style(array(
						array(
							'name' 		=> str_replace('/', '', $phpbb_adm_relative_path),
							'ext_path' 	=> $phpbb_adm_relative_path . 'style/',
						),
					), array($phpbb_root_path . $phpbb_adm_relative_path . 'style'));
{code}
 

The alternative is in the same file, by replacing this code:
{code:java}
					// Update custom style for admin area
					$this->template->set_custom_style(array(
						array(
							'name' 		=> 'adm',
							'ext_path' 	=> 'adm/style/',
						),
					), array($phpbb_root_path . 'adm/style'));
{code}
With this one:
{code:java}
					// Update custom style for admin area
//					$this->template->set_custom_style(array(
//						array(
//							'name' 		=> 'adm',
//							'ext_path' 	=> 'adm/style/',
//						),
//					), array($phpbb_root_path . 'adm/style'));
{code};;;",,,,,,,,,,,,,,,,
Invalid UTF-8 encoding on mssqlnative driver,PHPBB-15847,35545,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,gsmaclean,gsmaclean,17/Oct/18 2:13 PM,17/Oct/18 2:13 PM,08/Nov/25 11:12 AM,,3.2.3,,,,,,Database Abstraction Layer (DBAL),,,,,,0,MSSQL,,,,,,,"The previous version of PHPBB used this code to construct a connection string and connect to a MSSQL database inside mssqlnative.php:

 
{code:java}
//connect to database
$this->db_connect_id = sqlsrv_connect($this->server, array(
	'Database' => $this->dbname,
	'UID' => $this->user,
	'PWD' => $sqlpassword
));
{code}
 

The latest release of PHPBB adds a UTF-8 characterset declaration line:
{code:java}
//connect to database
$this->db_connect_id = sqlsrv_connect($this->server, array(
	'Database' => $this->dbname,
	'UID' => $this->user,
	'PWD' => $sqlpassword,
	'CharacterSet' => 'UTF-8'
));
{code}
When I upgraded my site, every post on the site which included Unicode characters started showing invalid character sequences in place of the proper character. For instance, instead of the opening quote character “ the site would show the UTF-8 character sequence â€œ.

The post_text column in the phpbb_posts table stores that character in the post using the encoded UTF-8 character sequence â€œ. This is sent directly to the browser as is, declaring the page to be UTF-8, and the browser correctly displays the Unicode character.

By declaring the connection to the SQL Server as UTF-8, the connection/SQL Server encodes the already encoded UTF-8 character sequences that are stored in the post_text column. This is output to the browser, which decodes the second encoding, but then displays the post directly as it is stored in the database - which is still encoded.

Removing this CharacterSet parameter from the connection string stops the double UTF-8 encoding from occurring and returns proper functionality to the site under SQL Server.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03etr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Error during create fulltext search index,PHPBB-15834,35531,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,LordRuthwen,LordRuthwen,09/Oct/18 8:24 AM,17/Oct/18 8:19 AM,08/Nov/25 11:12 AM,,3.2.3,,,,,,ACP,Search,,,,,0,fulltext,search,,,,,,"If I'm trying to create fulltext index for search i'e got an error:
{code:java}
SQL ERROR [ mysqli ]Lost connection to MySQL server during query [2013]SQLALTER TABLE phpbb_posts ADD FULLTEXT post_text (post_text)BACKTRACEFILE: (not given by php)
LINE: (not given by php)
CALL: msg_handler()FILE: [ROOT]/phpbb/db/driver/driver.php
LINE: 997
CALL: trigger_error()FILE: [ROOT]/phpbb/db/driver/mysqli.php
LINE: 193
CALL: phpbb\db\driver\driver->sql_error()FILE: [ROOT]/phpbb/db/driver/factory.php
LINE: 329
CALL: phpbb\db\driver\mysqli->sql_query()FILE: [ROOT]/phpbb/search/fulltext_mysql.php
LINE: 1058
CALL: phpbb\db\driver\factory->sql_query()FILE: [ROOT]/includes/acp/acp_search.php
LINE: 369
CALL: phpbb\search\fulltext_mysql->create_index()FILE: [ROOT]/includes/acp/acp_search.php
LINE: 46
CALL: acp_search->index()FILE: [ROOT]/includes/functions_module.php
LINE: 676
CALL: acp_search->main()FILE: [ROOT]/adm/index.php
LINE: 82
CALL: p_master->load_active(){code}
I have this problem since 3.1 was released","PHP Version 5.6.17-3
Apache/2.4.25 (Debian)
mysql  Ver 14.14 Distrib 5.6.30
Browser: all",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03eqn:",,,,,,,,,,,,,,"09/Oct/18 8:53 AM;Leinad4Mind;I got this too, the only way to bypass it was to do this step locally. So I download all from the server to my pc, runned the forum locally in xampp and then I did that step.
Basically you've a large forum or large database, in my case I can't do any operation to the posts table orelse it will crash. If I want to install an extension that will add a new field to the posts table or something as create full index, I always need to perform that locally.
Dont know if its possible to get a better performance at phpbb side and divid the task to little chunks.;;;","09/Oct/18 9:43 AM;LordRuthwen;Yes, this isn't small forum: 187347 posts, 29908 topics and 41000 users.

I think that this operation should be chunked transaction.;;;","09/Oct/18 10:02 AM;Leinad4Mind;Totally agree with you. Its a true pain in the ass to do some operations in big databases. :(;;;","09/Oct/18 11:58 AM;rubencm;I think is not possible to add a column in chunks

 

Probably something like:
 Clone table structure
 add column to the new empty table
 copy all data from the old table to the new table (in chunks?)
 remove old table and rename the new one;;;","09/Oct/18 12:15 PM;DavidIQ;That would be a ton slower and an easy way to double the size of the database as well as an easy way to lose data if the server is misconfigured. This ""mysqli lost connection"" error is more a MySQL/server configuration issue than something we would be able to deal with in phpBB so not really a bug at all.

Ref: [https://dev.mysql.com/doc/refman/8.0/en/gone-away.html|http://example.com];;;","09/Oct/18 1:40 PM;Tarantino;It could be slower, but at least it would work. :D
 I dont mind if it takes 10h, but taking 2min and give an error is worse lol
 I've tested ALL, I mean, ALL share hosting, and not the cheap plan, the most expensive plan of all share hosting known to mankind, and there isnt 1 that can do this operation with my database (i've a big one too). So, are you saying that all hosting have a server that is misconfigured? 
 I will vote for this, I dont think it should be ignored either;;;","09/Oct/18 1:59 PM;DavidIQ;{quote}{color:#333333}So, are you saying that all hosting have a server that is misconfigured?{color}
{quote}
{color:#333333}Maybe not misconfigured, but you certainly can't expect a shared host to be properly configured for a large database. They're not meant for that. This is why dedicated hosting exists so throwing money at a more expensive shared host would have not been a solution at all. Also I'm not sure that keeping someone's forum offline for 10 hours is an option either (that's what it would require for that suggestion to work) or is any better than throwing an error after a few minutes.{color};;;","09/Oct/18 2:18 PM;Leinad4Mind;I understand your point of view David, I trully do. But closing the forum for downloading all files + database and do the operation in xampp and then reupload the database this will take at least 1~2 hours, for people with some experience. Poor are the ones with less experience.
If there was an On/Off switch for ""sharehostings"" at ACP so it would use a slow way that would not crash the table and that would not give any timeout even on the usual sharehostins that would be perfect. That way by default it would be Off and work as it ever worked, and when On it would do the ruben idea or another kind of implementation.

There is no need for spend money on a dedicated server plus ppl without knowledge would need to pay someone to do all of this, and there is no reason for it. Since the forum doesnt need a dedicated server for almost everything, except this huge tasks.
And we all know that 90% at least of phpbb forums are at sharehosts...;;;","09/Oct/18 2:33 PM;DavidIQ;I understand all that and is why I haven't closed this. But you should both know that what Ruben suggested can end up getting your shared account suspended due to high CPU usage or cause some other issues. It's a theory that can end up with some unforeseen consequences and should be researched some more if we do go forward with it.;;;","17/Oct/18 8:19 AM;Senky;I think we should provide an option to index the posts via console command. There are shared hostings out there who allow you to use terminal for a limited time. So maybe hosting provider increased a time limits for mysql for terminal and that would solve the issue.;;;",,,,,,,,,,,,
Move make_jumpbox to twig function,PHPBB-15822,35514,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,01/Oct/18 3:07 PM,14/Oct/18 7:06 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Template Engine,,,,,,0,,,,,,,,"I'm not sure if is the correct way to do it, but i think is better than call the function from lots of controllers to inject the variables to the template.

I think it should be a twig function or something like that, so the jumpbox is generated when inserting that piece of code in the template, leaving the controllers more clean.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03emv:",,,,,,,,,,,,,,"08/Oct/18 1:23 PM;Senky;Problem is, make_jumpbox() requires a URL as it's parameter but this URL isn't always the same. In fact is is often very complicated, e.g.:
{code:java}
make_jumpbox($url . ""&i=$id&action=$action&mode=$mode"" . (($merge_select) ? $selected_ids : ''), $forum_id, false, 'm_', true);{code}
so while it is true that it would clean up the controllers, but also would make twig function crazy difficult.;;;","14/Oct/18 7:06 AM;rubencm;No, it is always (almost always) just viewtopic.php, it only changes in mcp, but the jumpbox in mcp i think it should be a different type of jumpbox.

I have been looking at the function and it have a lot of unused useless code/variables

 ;;;",,,,,,,,,,,,,,,,,,,,
BBCode Code Nested,PHPBB-15551,34900,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Tarantino,Tarantino,07/Feb/18 7:43 PM,09/Oct/18 12:03 PM,08/Nov/25 11:12 AM,,3.2.2,,,,,,BBCode Engine,,,,,,0,bbcode,code,,,,,,"Its not possible as once it was to nest bbcode [code]

Example:
 [code]This is how you should add a code: [code]$testing=failing_at_life;[/code] See wasn't hard![/code]


Result:
!https://i.gyazo.com/ea2865377a9731f765eeced5e4180ca2.png!

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03csv:",,,,,,,,,,,,,,"08/Feb/18 9:28 PM;JoshyPHP;You can force BBCode tags to be paired together by assigning them a unique number such as: {{[code:123]...[/code:123]}}

That's something that could be implemented in the posting editor.;;;","08/Feb/18 9:37 PM;Tarantino;Ok... Fair enough ""solution"".;;;","08/Feb/18 9:40 PM;JoshyPHP;I need to check, did you put the word ""solution"" in quotes to imply an ulterior meaning?;;;","09/Oct/18 12:03 PM;Tarantino;Just saw your message. It was not the solution for the problem I state but it was at least a proper solution. Thats why I put ""solution"", since it didnt solved the problem, but I can make it work with the info you provided by changing how I had wrote the bbcode. ;);;;",,,,,,,,,,,,,,,,,,
Events for file deletion are not working with plupload,PHPBB-15490,34784,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Shredder,Shredder,30/Dec/17 9:26 PM,08/Oct/18 2:12 PM,08/Nov/25 11:12 AM,,3.2.1,,,,,,Events,,,,,,0,,,,,,,,"For clarity, create file named _*result.txt*_ in root directory of your forum.

Write next code in _*event/listener.php*_ of your extension:

 
{code:java}
            'core.delete_attachments_from_filesystem_after'            => 'delete_file',{code}
 
{code:java}
    public function delete_file($event)
    {
        $new_file = 'result.txt';
        $content = $event['space_removed'];

        file_put_contents($new_file, $content);
    }
{code}
You will see the number written as a result after deleting the file along with the message, but you will not see anything after deleting via plupload.

Same for other events in _*phpbb/attachment/delete.php*_

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03cef:",,,,,,,,,,,,,,"08/Oct/18 2:12 PM;Senky;That is because there are 2 actions that can happen:
 # when attachment is orphan, the action is called ""unlink""
 # when attachment isn't orphan, the action is called ""delete""

So in order to catch all attachment deletions, you need to listen for ""delete"" as well as for ""unlink"".;;;",,,,,,,,,,,,,,,,,,,,,
mssqlnative does not handle unicode text,PHPBB-15820,35512,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,hubaishan,hubaishan,01/Oct/18 4:23 AM,01/Oct/18 8:07 AM,08/Nov/25 11:12 AM,,3.2.3,,,,,,Database Abstraction Layer (DBAL),,,,,,0,mssql,,,,,,,"mssql native driver does not insert or update unicode text.
also unicode strings in WHERE clause does not compared correctly",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03emf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
mssql_odbc does not store utf8 stings as unicode,PHPBB-15821,35513,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,hubaishan,hubaishan,01/Oct/18 7:45 AM,01/Oct/18 7:45 AM,08/Nov/25 11:12 AM,,3.2.3,,,,,,Database Abstraction Layer (DBAL),,,,,,0,MSSQL,ODBC,,,,,,"mssql_odbc does not store utf8 stings as unicode.It is storing it like binary, so string SQL functions give wrong return when unicode text passed to. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03emn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
phpbb_login_attempts and some other tables without a PRIMARY index,PHPBB-15032,33681,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,serek,serek,20/Jan/17 10:59 AM,15/Sep/18 1:59 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"I recently moved my servers to a MySQL Galera cluster, and I am getting loads of these:

[Warning] WSREP: Percona-XtraDB-Cluster doesn't recommend use of DML command on a table (talk3.phpbb_login_attempts) without an explicit primary key with pxc_strict_mode = PERMISSIVE

There must exist PRIMARY keys in every index. My MySQL cluster works only because I set pxc_strict_mode = PERMISSIVE, which should be avoided in a cluster.

Affected tables:

* phpbb_login_attempts
* phpbb_topics_watch
* phpbb_user_group
* phpbb_poll_votes
* phpbb_poll_options
* phpbb_user_notifications",percona-xtradb-cluster-server-5.7,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0398n:",,,,,,,,,,,,,,"15/Sep/18 1:59 PM;Elsensee;Well, for phpbb_login_attempts this was on purpose, see this issue: https://tracker.phpbb.com/browse/PHPBB3-10247

For user_notifications there might possibly be a similar issue, for the other ones, I'm don't know. I'm in general not very keen with database schemes. Maybe [~nicofuma] knows this?;;;",,,,,,,,,,,,,,,,,,,,,
Birthday list,PHPBB-15778,35396,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,nicofuma,nicofuma,15/Sep/18 9:49 AM,15/Sep/18 9:49 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,PHPBB-15774,,,,,,,,,"0|i03ec7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
core.modify_notification_message does not actually allow modification of notification message,PHPBB-15761,35373,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Snover,Snover,29/Aug/18 4:49 AM,29/Aug/18 4:49 AM,08/Nov/25 11:12 AM,,3.2.2,3.3,,,,,Notification System,,,,,,0,,,,,,,,"The {{core.modify_notification_message}} hook is executed prior to template execution, so it is impossible to actually modify the notification message since the message gets replaced by the template immediately _after_ the hook. The subject is also impossible to modify if a template contains a subject header which is extracted by regular expression for the same reason.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03e73:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Attachment download deny behavior not working propertly,PHPBB-15264,34104,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,rubencm,rubencm,04/Jul/17 4:37 PM,11/Jul/18 6:09 AM,08/Nov/25 11:12 AM,,3.1.11-RC1,3.2.1-RC1,3.3,,,,,,,,,,0,,,,,,,,"In the option ""Allow/Deny list"", when the Deny option is selected, it will always allow download.

 

PS: Im not sure about this, because i didnt found anyone to confirm.

I think this condition is wrong:

[https://github.com/phpbb/phpbb/blob/3.2.x/phpBB/includes/functions_download.php#L385]

 

The code will be in phpBB/phpbb/storage/controller/attachment.php when the pr is accepted",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03atj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Private Message Created Folder Counts Wrong and Does not Provide Paging to View All,PHPBB-14632,32948,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,SpriteBB,SpriteBB,09/May/16 12:17 AM,05/Jul/18 7:20 AM,08/Nov/25 11:12 AM,,3.1.6,,,,,,Private Messages (PM),,,,,,0,Cannot,Incorrect,Number,Page,PM,,,"Hi,

I just moved 91 private messages form my Inbox to a folder I created (Inbox Overflow #1).  I did likewise with a different folder (Sent Overflow #1) for the sent messages; 94 moved.  When I click on the the ""Inbox Overflow #1"" link to view the messages in that folder it tells me that there are 11 out of 500 messages stored and shows a single page with 25 messages.  It shows at the bottom ""11 messages • Page 1 of 1* and provides no way to get to more than the 25 showing.  When I click on the ""Sent Overflow #1"" link it tells me there are 24 out of 500 messages in the folder but shows 25; and likewise does not provide a way to get beyond the ""Page 1 of 1"".  Queries of the phpbb_privmsgs_folder and phpbb_privmsgs_to tables show that there are the 91 and 94 messages in the specified folders.  So they did move properly.  It is just that the pm_count value in phpbb_privmsgs_folder is not correctly populated for some reason and thereby causing problems.

Thanks,

Clifford Bass","Server: Apache Version 2.4.12, PHP 5.6, MySQL 5.6.28
Client: Windows 7 Pro fully patched), Firefox 46.0.1",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i001jj:",,,,,,,,,,,,,,"03/Jul/18 10:49 AM;holg3r;I encountered the same issue.

Using phpbb version 3.1.10

When moving private messages from inbox or sentbox to a folder, the actual messages get properly moved from table `phpbb_privmsgs` to table `phpbb_privmsgs_to`. But the respective count in column `pm_count` of table `phpbb_privmsgs_folder` does not get updated properly. (It does get updated but with the wrong number.)

Likewise, when moving private messages from a folder to another folder, they do get moved properly (now by updating column `folder_id` in the table `phpbb_privmsgs_to`), the respective counts in column `pm_count` of table `phpbb_privmsgs_folder` do not get updated properly, neither for the source folder nor for the target folder.

Any chances this will be fixed for 3.1.x?
Or is it fixed for 3.2.x?

 ;;;","03/Jul/18 12:09 PM;DavidIQ;No chance for this to be fixed in 3.1.x since that line of our code has reached end of life as per this announcement posted back in January: https://www.phpbb.com/community/viewtopic.php?p=14902381#p14902206

This has not been verified as being an issue still in 3.2.x;;;","05/Jul/18 7:20 AM;holg3r;Thanks for the info.;;;",,,,,,,,,,,,,,,,,,,
Forum won't install correctly with SQL master-master configuration,PHPBB-15658,35091,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,x-rated,x-rated,02/May/18 4:50 PM,02/May/18 11:02 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,auto-increment,master-master,sql,,,,,"phpBB won't install correctly on webhosting with SQL master-master configuration because it expects auto-increment by 1, which is impossible on such configuration.

It results in adding users to incorrect user groups which causes completely mess in user groups rights.",PHP 7.2 / MariaDB 10.1 / Debian,,,,,,,,,PHPBB-7215,,,,,,,"02/May/18 4:50 PM;x-rated;groups.png;https://tracker.phpbb.com/secure/attachment/19321/groups.png",,,,,,,,,,,,,,,,,"0|i03div:",,,,,,,,,,,,,,"02/May/18 5:04 PM;DavidIQ;What error are you actually getting?;;;","02/May/18 5:13 PM;x-rated;I should be admin with admin rights, but i'm in COPPA users group.

I have noticed something is wrong immediately after installation because i didn't see automatically created forum and i had some functions missing (changing password in UCP etc).

We had a discussion on this topic in support forum already [https://www.phpbb.com/community/viewtopic.php?f=556&t=2469456&start=15#p14997156,] but without a result.;;;",,,,,,,,,,,,,,,,,,,,
ACP / Prosilver doesn't accept SVG  images,PHPBB-15493,34787,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Leinad4Mind,Leinad4Mind,31/Dec/17 4:14 PM,28/Apr/18 3:46 PM,08/Nov/25 11:12 AM,,3.2.1,3.2.2,,,,,ACP,Viewing forums,,,,,0,acp,forumicons,index,svg,,,,"On ACP if we select a .svg image for forumicon, no image will be shown on ACP - Forums page, it accepts png, jpg, jpeg, gif, webp, but not svg.

The same for prosilver on index page. The forumicons svg will not be shown.

It would be great to have svg image support for this",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03cf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Install SQL schema expects style_id to be '1',PHPBB-14728,33092,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,DJVG,DJVG,01/Aug/16 6:50 PM,28/Dec/17 12:49 PM,08/Nov/25 11:12 AM,,3.1.9,,,,,,Installation system,,,,,,0,,,,,,,,"Hello,

We're using a MariaDB Galera cluster which decide automatically what the next auto_increment id will be.

The current installer always expects the default_style id to be 1 while it relies on the systems auto_increment id on insert:

{code:title=phpBB3/install/schemas/schema_data.sql|borderStyle=solid}
96: INSERT INTO phpbb_config (config_name, config_value) VALUES ('default_style', '1');
473: INSERT INTO phpbb_styles (style_name, style_copyright, style_active, style_path, bbcode_bitfield, style_parent_id, style_parent_tree) VALUES ('prosilver', '&copy; phpBB Limited', 1, 'prosilver', 'kNg=', 0, '');
{code}

Better (easy) is to assign 1 to the record like this:
{code}
INSERT INTO phpbb_styles (style_id, style_name, style_copyright, style_active, style_path, bbcode_bitfield, style_parent_id, style_parent_tree) VALUES (1, 'prosilver', '&copy; phpBB Limited', 1, 'prosilver', 'kNg=', 0, '');
{code}

Or change the code that it will add the default style dynamically. I don't know if the default install relies on other fixed IDs (which is bad practice of course).

Let me know if you need any more information.

Regards,
Daan","PHP 5.6.24, MariaDB Galera 10.0.26 ",,,,,,,,,PHPBB-7215,,PHPBB-15182,,,,,,,,,,,,,,,,,,,,,,"0|i000rj:",,,,,,,,,,,,,,"01/Aug/16 7:23 PM;DavidIQ;Your suggested change will not work very well for other systems, such as SQL Server as you cannot specify the value for an auto increment column without some other SQL commands preceding it.

A better solution might be to do this instead for that particular configuration option:
{CODE}
INSERT INTO phpbb_config (config_name, config_value) SELECT 'default_style', style_id FROM phpbb_styles WHERE style_name = 'prosilver'
{CODE}

Would of course require moving the style insertion to before the configuration settings inserts, depends what the Dev decide.;;;","01/Aug/16 7:26 PM;DJVG;Fully agreed. Didn't think about such case.;;;","02/Aug/16 5:26 PM;DJVG;This issue is bigger. A default install just wont work with this setup. Relying on static assignments is just bad and I think a lot of the defaults need to change to get it to work properly. I'm currently diffing through one that has been installed with a regular MySQL installation and our setup and there are a lot of differences... not sure yet which are causing this.;;;","02/Aug/16 6:52 PM;DJVG;I've created a patch that (I believe) will resolve all the problems: http://pastebin.com/QaTeHfjQ , I might've missed something but that could be added later, everything looks to be working just fine.
About DBs not supporting inserting hard values for auto_increment fields: this is already done for some values in the default install (the default topic as example) so I don't see why we shouldn't do it again now. 

To fully resolve this you should review the install process which lacks checking and dynamic inserts, maybe this is fixed in 3.2 but I can't find anything about that.

Cheers,
DJVG;;;","02/Aug/16 7:54 PM;DavidIQ;We don't insert the topic with the topic_id field set:
https://github.com/phpbb/phpbb/blob/3.1.x/phpBB/install/schemas/schema_data.sql#L644
We'd probably have known about it already since it would have failed for those systems that don't allow it.;;;","02/Aug/16 8:06 PM;DJVG;@DavidIQ Sorry, you're right. The fact that so much is statically assigned makes it hard to read and easy to make mistakes. Hopefully you agree on the fact that you should never ever rely on auto_increment to be 1.

edit:
I checked out how the database schema is actually created (I neved used phpbb) and this problem is just in the installer inserts. Resolving these issues in the installer itself won't be much work or find a dynamic way of adding these defaults.;;;",,,,,,,,,,,,,,,,
Poll Edit Looses Votes,PHPBB-15136,33799,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,david63,david63,20/Mar/17 8:44 AM,28/Dec/17 12:37 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Posting,,,,,,0,front-end,,,,,,,"If you create a poll which has some votes cast and then edit the options any votes that have been cast are deleted.

I cannot recall this happening in previous versions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i039yf:",,,,,,,,,,,,,,"08/Sep/17 8:42 AM;Hanakin;thats by design! you have a new poll if you make changes.;;;","08/Sep/17 8:53 AM;JimA;I'm not sure if it's always been like that, but I actually think that's logical behaviour as well.

Otherwise, if you change/add multiple new options that could have significantly changed the opinions from the people that already voted and they could have their names attached to something that's not their preferred choice. ;);;;","28/Dec/17 12:36 PM;andreask;Wouldn't it be better if there was an option to remove existing votes (or not to) in case of edit?
 If the editing was done only on the text (description) of the vote.

It has happened countless times in my board and it is unpractical.

(sorry for the resurrection);;;",,,,,,,,,,,,,,,,,,,
Allow disabling ip-based login-attempt counter,PHPBB-15482,34640,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Luke1410,Luke1410,15/Dec/17 11:38 PM,15/Dec/17 11:40 PM,08/Nov/25 11:12 AM,,3.0.9-RC1,,,,,,Login,,,,,,0,,,,,,,,"I understand that as of phpBB 3.0.9-RC1 the handling of login attempts was changed from a per-user account basis to a per-IP basis (as described in PHPBB3-9992).

As the comment by maniac 2 on that issue already pointed out, this change can be quite counter productive in certain environments. The user suggested this in cases of using phpBB in (or from) larger organization where all attempts would come from the same IP address and hence a failure of user x to login would impact user y's login attempts.

This is bad because of two reasons IMO:
1. User y being presented with the login-failure message would incorrectly assume that someone tried to hack into his account (i.e. entered the wrong password) while actually the login attempts were done for a completely different user(name).
2. It's causing inconvenience because suddenly all users from that company would have to solve the captcha just because a single user mistyped his password.

The matter becomes even worse in scenarios where the phpBB is run in a privacy focused environment where IP addresses would not be recorded at all (and rather always be reported as 127.0.0.1 --- f.e. by using the removeip Apache 2 mod). In my case this is exactly what I'm doing and basically every user of my board will always have to enter the captcha now.

I do understand the rational behind the original change and I won't argue that it's in general a better behavior than the older username-based login attempt counters.
Still, I'd like to see this to get improved one way or another. Providing a config setting to disable ip-based-login-attempt counters (which then fall back to username-based login counters as it was pre 3.0.9-RC1) might be an option. Alternatively an IP-whitelist could be added, so for the IP addresses on that list, the username-based login counters would always be used.
A third alternative would be to at least disable the IP-based-counters for the 127.0.0.1 IP (localhost) and at least in this case fall back to the username based login attempt counters.",,,,,,PHPBB-9992,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ccf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve handling of deleting users with thousands of posts.,PHPBB-15479,34636,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Luke1410,Luke1410,11/Dec/17 11:24 PM,15/Dec/17 12:14 AM,08/Nov/25 11:12 AM,,3.1.11,,,,,,,,,,,,0,,,,,,,,"Trying to clean up some spam user accounts which flooded my forum, I ran into several issues when trying to remove these spam accounts and selecting to also delete their posts in the user administration panel.

Note that these users had around 8k-25k posts.

Examples of how the issue is experienced by users (depending on the environment) after confirming the deletion of the user:
 * white page of death (with no hint in the php error log on what went wrong)
 * ""MySQL server has gone away [2006]"" output
 * huge delay (up to more than an hour where the confirmation dialog stays on screen)

After a day's work I traced down the problem to be caused by the pure amount of posts these users had and the way phpbb is handling the deletion of these requests. Ultimately I figured out that the WpoD is caused by php running out of the max memory (was 128 MB - increased to 1GB solved the issue) and the MySQL server errror 2006 being caused by phpBB creating a deletion query which is larger than the max-package-size set up in MySQL (fixed by raising the package size limit from 16 MB to 32 MB).

I certainly understand that this is quite an exceptional use-case of deleting users with so many posts, still I would have assumed that phpBB handles this more performant/reasonable and don't create a single huge SQL statement which is consuming so much memory/CPU cycles. Can't this be somehow improved?

At the very least I'd imagine a big warning showing up, if the user/admin tries to remove user accounts which >500-1000 posts, making him aware of the possible failure of the operation.

Better of course would be to one way or the other split up the operation in multiple chunks (f.e. per cycle remove only 500-1000 posts).","mySQL 5.5.58
PHP 5.4.45",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03cbr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add the ability to auto-prune logged IPs etc.,PHPBB-15441,34592,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Crizzo,Crizzo,06/Nov/17 8:11 PM,06/Nov/17 8:11 PM,08/Nov/25 11:12 AM,,3.1.11,3.2.1,,,,,ACP,Moderator Control Panel (MCP),Sessions,User Control Panel (UCP),,,0,,,,,,,,"At the moment IP of users, who wrote a posts or got an log-entry in the ACP a getting stored endless. 

Which leads to >10 years old information to IPs. This is a little waste of space, because a too old IP won't help anyone.

At the other hand, this can lead to problems with eh privacy policy in some countries, e.g. Germany. 

So an option in the ACP would be nice, which allows:
- don't store IP adresses at all
- store, but
-- remove them never
-- remove them after x years, months, weeks, days",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03c1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
On hold message when inbox is full,PHPBB-15386,34537,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,kgschlosser,kgschlosser,02/Oct/17 6:47 PM,02/Oct/17 7:00 PM,08/Nov/25 11:12 AM,,3.2.1,,,,,,Private Messages (PM),,,,,,0,,,,,,,,"You are not authorised to read private messages that are on hold.

 

First off there is a typo it's ""authorized"" so go and poke some fun at the person where that one slipped by!!

 

OK but I am getting that message. I know it happens when the inbox gets full.. The actual bug is I have now changed the size of allowed messages from 100 to 1000 and yet the message persists. I have tried opening up some slots in my inbox. yet the problem is still there. The messages do not show in the inbox. they only appear in the notifications drop down. The only thing i could find reference to is the inbox being full. and mine was. So I am not 100% sure what the problem is at this point.

 

Just a suggestion. a less cryptic message like ""Empty your inbox, it's full"" would be more informative for the user as well.

 

I am the board founder as well.

 

Thanks again

Kevin","server:
Database size: 	206.68 MiB
Size of posted attachments: 	459.74 MiB
Database server: 	MySQL(i) 5.7.19-0ubuntu0.16.04.1
GZip compression: 	On
PHP version: 	7.0.22-0ubuntu0.16.04.1
Board version: 	3.2.1

client:
Windows 7 x64 SP1
Firefox 52.0.2 (32-bit)

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bpr:",,,,,,,,,,,,,,"02/Oct/17 6:59 PM;DavidIQ;""Authorise"" is correct as the default language pack is Brittish English, not US English. If you want to see ""authorize"" then you'll need to install and use the US English language pack. Also you should start a topic in support to receive further assistance as there might be something else going on with your board or your settings since these settings should apply immediately.;;;",,,,,,,,,,,,,,,,,,,,,
[PHP] core.memberlist_contactadmin,PHPBB-15268,34281,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,sartemd174,sartemd174,11/Jul/17 5:14 PM,02/Oct/17 10:37 AM,08/Nov/25 11:12 AM,,3.1.11-RC1,3.2.0,3.2.1-RC1,,,,ACP,Events,Extensions,,,,0,Event,extensions,,,,,,"Identifer: core.memberlist_contactadmin
Location: /memberlist.php?mode=contactadmin
Parameters: event
Explanation: we build an anti-spam plugin and we need to hook some data from this contact form to prevent spam","PHP 5.6, MySQL 5.6, Apache 2.4, Chrome 59.0.3071.115",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03aun:",,,,,,,,,,,,,,"02/Oct/17 10:37 AM;Senky;@sartemd174 can you be, please, more specific? What parameters do you really need ('event' is not a PHP event parameter, it's extension listeners's parameter)? After what line do you expect your event to be?;;;",,,,,,,,,,,,,,,,,,,,,
Administrative permission 'Can manage extensions' missing after upgrade,PHPBB-15189,33861,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,P_I,P_I,23/Apr/17 1:38 PM,10/Sep/17 12:48 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,ACP,,,,,,0,,,,,,,,"For some, apparently very intermittent reason, after an upgrade, the Administrative permission 'Can manage extensions' is not available. The database query {code}SELECT * FROM `phpbb_acl_options` WHERE `auth_option` LIKE '%extension%';{code} returns no rows.

This seems to be a very intermittent problem, but has been reported on a number of upgraded boards. Examples are: https://www.phpbb.com/community/viewtopic.php?f=556&t=2419806; https://www.phpbb.com/community/viewtopic.php?f=556&t=2417926 and possibly https://www.phpbb.com/community/viewtopic.php?p=14702946#p14702946",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03abz:",,,,,,,,,,,,,,"10/Sep/17 11:51 AM;Elsensee;From which version did you update?;;;","10/Sep/17 12:48 PM;P_I;I personally haven't encountered the problem, but as you can see from the linked phpBB discussion topics, it seems to be a very intermittent, yet real, problem. I wish I could provide more information to help diagnose and resolve the issue beyond the efforts I've made in trying to assist in the linked discussion topics. ;;;",,,,,,,,,,,,,,,,,,,,
Inconsistency: all_configured is not a subset of is_available,PHPBB-15009,33655,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,javiexin,javiexin,14/Jan/17 11:27 AM,29/Apr/17 1:36 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0,,,,,Extensions,,,,,,0,extensions,,,,,,,See https://area51.phpbb.com/phpBB/viewtopic.php?f=126&t=50876 for full description and discussion,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0392v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Can not click/tap notification links landscape mode,PHPBB-15164,33832,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,BondGamer,BondGamer,05/Apr/17 12:17 PM,05/Apr/17 12:17 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Notification System,,,,,,0,,,,,,,,"If I have my iPhone turned to landscape mode I can not tap on notifications to be taken to that topic. If I have my phone in portrait mode I can tap them. 

Tested on the phpbb.com website and can be replicated there.

I would have changed the bug to minor but this tracker site does not work good at all on mobile.  ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03a5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Change the $phpbb_adm_relative_path is not supported by the installer,PHPBB-15013,33660,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Skouat,Skouat,14/Jan/17 10:05 PM,14/Jan/17 10:22 PM,08/Nov/25 11:12 AM,,3.2.1-RC1,,,,,,Installation system,,,,,,0,,,,,,,,"Hi,

In _config.php_,  If we change the value of *_$phpbb_adm_relative_path_* , the installation system is not able to load the template files.

As on line [119|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/install/startup.php#L119] in /install/startup.php, the admin_path will never be set, the admin_path will always be set with *_adm/_*

To fix that point, i suggest to add the following code before the line 119
{code:php}
$phpbb_config_php_file = new \phpbb\config_php_file($phpbb_root_path, $phpEx);
extract($phpbb_config_php_file->get_all());
{code}

After adding this code, this will allow to load the template.

But the CSS fails to be loaded, because *_adm/_* is hardcoded in *_phpbb\install\controller\helper.php_* on line [124|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/phpbb/install/controller/helper.php#L124]

For this point, I don't know how to fix it.

Thanks in advance for taking this bug into account.
Regards.

--- Edit ---

Another instance of *_adm/_* located on line [260|https://github.com/phpbb/phpbb/blob/release-3.2.0/phpBB/phpbb/install/installer.php#L260] in phpbb/installer/install.php

Maybe *_adm/_* is present in other place.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0393z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Function submit_post,PHPBB-14866,33488,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,John P,John P,16/Nov/16 2:10 PM,23/Dec/16 9:49 PM,08/Nov/25 11:12 AM,,3.1.10,3.1.9,3.2.0-RC1,,,,Posting,,,,,,0,,,,,,,,"When using submit_post from a script it will insert post but sends wrong username, user_id and user_colour to topics- and forum table as last poster. 
Example: In ACP I import with a extension a post from Facebook. As username I use the name from the Facebook author and post under username anonymous. The post is added in post table without a problem but in topic and forum table it used my login name and user_id resulting in a wrong display at forumlevel.

Possible solution in function submit_post:line 1809
{CODE}
   $sql_data[TOPICS_TABLE]['sql'] = array(
    'topic_last_post_id'  => $data_ary['post_id'],
    'topic_last_post_time'  => $current_time,
    'topic_last_poster_id'  => $sql_data[POSTS_TABLE]['sql']['poster_id'],
   // 'topic_last_poster_name' => ($user->data['user_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username'],
    'topic_last_poster_name' => ($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username'],
   // 'topic_last_poster_colour' => $user->data['user_colour'],
    'topic_last_poster_colour' => ($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data['poster_colour'] : $user->data['user_colour'],
    'topic_last_post_subject' => (string) $subject,
   );
{CODE}

and line 1827
{CODE}
  if ($post_visibility == ITEM_APPROVED)
  {
   if ($post_mode == 'post')
   {
    $config->increment('num_topics', 1, false);
   }
   $config->increment('num_posts', 1, false);

   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_post_id = ' . $data_ary['post_id'];
   $sql_data[FORUMS_TABLE]['stat'][] = ""forum_last_post_subject = '"" . $db->sql_escape($subject) . ""'"";
   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_post_time = ' . $current_time;
  // $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_poster_id = ' . (int) $user->data['user_id'];
   $sql_data[FORUMS_TABLE]['stat'][] = 'forum_last_poster_id = ' . (int) $sql_data[POSTS_TABLE]['sql']['poster_id'];
   
  // $sql_data[FORUMS_TABLE]['stat'][] = ""forum_last_poster_name = '"" . $db->sql_escape((!$user->data['is_registered'] && $username) ? $username : (($user->data['user_id'] != ANONYMOUS) ? $user->data['username'] : '')) . ""'"";
   $sql_data[FORUMS_TABLE]['stat'][] = ""forum_last_poster_name = '"" . (($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data[POSTS_TABLE]['sql']['post_username'] : $user->data['username']) . ""'"";
   
 //  $sql_data[FORUMS_TABLE]['stat'][] = ""forum_last_poster_colour = '"" . $db->sql_escape($user->data['user_colour']) . ""'"";
   $sql_data[FORUMS_TABLE]['stat'][] = ""forum_last_poster_colour = '"" . (($sql_data[POSTS_TABLE]['sql']['poster_id'] == ANONYMOUS) ? $sql_data['poster_colour'] : $user->data['user_colour']) . ""'"";
  }
{CODE}","PHP 5.4.1, MySQL 5.1.3, IE11",,,,,,,,,,,,,,,,"23/Dec/16 2:49 PM;RMcGirr83;index.jpg;https://tracker.phpbb.com/secure/attachment/18334/index.jpg","23/Dec/16 2:49 PM;RMcGirr83;viewforum.jpg;https://tracker.phpbb.com/secure/attachment/18333/viewforum.jpg",,,,,,,,,,,,,,,,"0|i0381z:",,,,,,,,,,,,,,"11/Dec/16 11:51 AM;RMcGirr83;I can't reproduce this then again I don't have your script.  Using the contact admin extension a guest user shows as a guest when submitting a request to the selected forum.  submit_post seems to be fine as is.;;;","19/Dec/16 2:00 PM;John P;The problem is who is running the script. It will use it's name although anonymous is set is the add-row array. It's because in sql_data here is hardcoded $this->user->data['username'] etc.;;;","21/Dec/16 1:02 AM;3Di;Submit_post (there are differencies between (3.0 and 3.1) works as expected by my side.

If you post your issue into the Ext writers forum and show your code I bet somebody will chime on it and fix it, or at least will lead you to the right direction.

At the end of all it's just a question to merge two arrays to get the desired result you are after, but ""no code.. no party"".




;;;","21/Dec/16 7:59 AM;John P;This can not be it's not understand. Using 3.1 and or 3.2 is the same problem. Submit_post gives you the possibility to post messages (as an example import from another source). It also gives you the possibility to post as ANONYMOUS or set a postername. 
Doing so will add the post but when synchronize the topic and forumtables it will use the userdata from the person who started the script. Simply because it's hardcoded in the function with $user->data['user.....'], see the outmarked lines above.
The result is the post itself is ok but in topicview and forumview the last poster name and color is from the one that was logged in and started the script. 

So for better understanding: the script is importing messages from Facebook in the forum.
Pietje (not a member of the forum) at Facebook sends a message in Facebook. 
Klaas, a member of the forum and logged in is looking at the forum and because of his pageview starts the cron for importing from Facebook. The cronjobs find the new message from Pietje and start submit_post. It will import with anonymous user and postername Pietje, but the function itself finds the userdata from Klaas and uses his data to update the forum and topicview. 
Result: Pietje posted a new message in the forum and in forum and topicview lastposter is Klaas.

I never looked at 3.0 so I don't know how it is working in 3.0, The bug is called for 3.1 and higher.
The solution posted above works great and updates correct for all tables.;;;","21/Dec/16 6:39 PM;DavidIQ;Are those array indexes always set and populated outside of the extension use?;;;","21/Dec/16 8:23 PM;John P;It's looking at the data used for the post-table so yes.
Didn't have a problem using these patches.

Greetz
;;;","21/Dec/16 9:18 PM;3Di;Those users not registered (guests, anonymous and deleted users with retained posts) have the same user_id (poster_id) --> 1 (anonymous).
They can't have a FULL username string but a NO_PROFILE one.

{code:java}
		$username_full = ($this->auth->acl_get('u_viewprofile')) ? get_username_string('full', $row['user_id'], $row['username'], $row['user_colour']) : get_username_string('no_profile', $row['user_id'], $row['username'], $row['user_colour']);
{code}
I'd play with user_id against username_clean, like search.php does.
Have you dumped out the

{code:java}
* @var	array	data				Array with the data for the post
{code}
to see what else you can use there?

An example of mine array

{code:java}
		$data = array(
		'forum_id'				=> (int) $forum_id,
		'icon_id'				=> false,
		'poster_id'				=> (int) $poster_id,
		'enable_bbcode'			=> true,
		'enable_smilies'		=> true,
		'enable_urls'			=> true,
		'enable_sig'			=> true,

		'message'				=> $topic_content,
		'message_md5'			=> md5($topic_content),

		'bbcode_bitfield'		=> $bitfield,
		'bbcode_uid'			=> $uid,
		'poster_ip'				=> '',

		'post_edit_locked'		=> 0,
		'topic_title'			=> $topic_title,
		'notify_set'			=> false,
		'notify'				=> false,
		'post_time'				=> time(),
		'forum_name'			=> '',
		'enable_indexing'		=> true,
		'force_approved_state'	=> true,
		'force_visibility'		=> true,
		'is_registered'			=> true,
		);
{code}


;;;","21/Dec/16 9:36 PM;John P;No problem as they posted under user_id 1 = anonymous.
There is only one problem and that is the lastposter in forum and topic view.
The script is running oa at http://hongskloeb-carisborg.nl/viewtopic.php?f=4&t=6547 without problems but it needs the solutions posted above.
;;;","21/Dec/16 9:39 PM;DavidIQ;I think the problem is clear. Are you able to make a pr to fix this or do you need someone else to do it for you?;;;","21/Dec/16 9:44 PM;3Di;??There is only one problem and that is the lastposter in forum and topic view.??
I had the same issue John, I fixed it without probs. That's why I would like to see the whole code. I am positive it can be fixed. PM me if you like and prefere.
;;;","22/Dec/16 8:13 PM;John P;Hi David

I mailed my answer but the mail came back today as undeliverable.
If you can do it I would appreciate.

Greetz
;;;","22/Dec/16 8:14 PM;DavidIQ;You mailed it where? Should go to my username @phpbb.com;;;","22/Dec/16 8:22 PM;John P;Second time also


This is the mail system at host hemlock.osuosl.org.
I'm sorry to have to inform you that your message could not be delivered to one or more recipients. It's attached below.
For further assistance, please send mail to postmaster.
If you do so, please include this problem report. You can delete your own text from the attached returned message.

                   The mail system
<tracker@phpbb.com>: host mail.phpbb.com[140.211.15.14] said: 550 5.1.1
<tracker@phpbb.com>: Recipient address rejected: User unknown in virtual mailbox table (in reply to RCPT TO command);;;","22/Dec/16 8:28 PM;DavidIQ;My username is not tracker ;);;;","22/Dec/16 8:59 PM;John P;Haha the mail is saying it;;;","23/Dec/16 1:51 PM;RMcGirr83;I honestly don't think it has to do with the core code of phpBB but rather the code you are using in your script.  I had to do a work around of sorts in the contactadmin extension for this very reason.

https://github.com/rmcgirr83/contactadmin/blob/master/core/contactadmin.php#L74-L111

https://github.com/rmcgirr83/contactadmin/blob/master/controller/main_controller.php#L294

https://github.com/rmcgirr83/contactadmin/blob/master/controller/main_controller.php#L517;;;","23/Dec/16 1:57 PM;DavidIQ;Wouldn't you just not have to do any of that if this ticket was followed through on?

@John P: I don't know what you're using to email me but clearly it doesn't work if it's trying to email tracker@phpbb.com, which is a non-existant email.;;;","23/Dec/16 2:50 PM;RMcGirr83;Maybe but if I choose to not replace the user name or the user with the post from the contactadmin extension, it works as intended (see attached)

 !viewforum.jpg|thumbnail!
 !index.jpg|thumbnail! 

So I have to believe it is something in the script that is being used and as he hasn't posted the script, even though he was asked to, no one knows.;;;","23/Dec/16 4:28 PM;3Di;What Rich did is what I did, same concept.

Why to modify the core and potentially introduce a BC issue?
Btw, shouldn't this event be used instead? Or in case, create a new one?

{code:java}
* @event core.submit_post_modify_sql_data
{code}
;;;","23/Dec/16 4:52 PM;DavidIQ;There wouldn't be any BC break, other than the fact that your workarounds for this issue would no longer be needed. And no you shouldn't need to call an event after calling a function to edit the data to be the data that you just sent that function.

You guys don't see any problem with having to edit the current user information to be the poster information and then set it back? That really just sounds like a bug that you're working around, craftily I might add.

BTW this same issue existed in 3.0 where the current user data is in use in those same spots rather than the data being sent in to the function.;;;","23/Dec/16 5:11 PM;3Di;I am not setting it back, in my use case (a BOT that could be of your choice within the user-base), say you would like DavidIQ be also this BOT that automatically create a Topic once some conditional is triggered. All of those posts are added to DavidIQ and posted under his nickname like were posted really by him. The next poster wich will reply there will have its own nick and all, without interfering in any case with the normal behaviour  of phpBB.

The concept is basically (along those lines) the same but the code.;;;","23/Dec/16 9:49 PM;RMcGirr83;That's fine I guess but don't forget about the tests that will be needed (I think).;;;"
Permission problem in the mcp,PHPBB-14800,33172,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,BioLogIn,BioLogIn,28/Sep/16 10:14 PM,07/Oct/16 4:05 PM,08/Nov/25 11:12 AM,,3.1.9,,,,,,Moderator Control Panel (MCP),,,,,,1,,,,,,,,"I believe there is the following inconsistency with moderator's permissions.

Suppose moderators have a permissions to softdelete posts (m_softdelete), but not to delete posts (m_delete).

That means that they have access to delete button on each post in viewtopic, since in viewtopic.php the permission is checked this way:
{code:java}
	$delete_allowed = $force_delete_allowed || ($user->data['is_registered'] && (
		($auth->acl_get('m_delete', $forum_id) || ($auth->acl_get('m_softdelete', $forum_id) && $row['post_visibility'] != ITEM_DELETED)) ||
		(!$s_cannot_delete && !$s_cannot_delete_lastpost && !$s_cannot_delete_time && !$s_cannot_delete_locked)
	));
{code}

Meanwhile, should they need to delete many posts instead, they go to the MCP (as they used to in 3.0.x). There they can see the topic with checkboxes on each post, but there is no option in the bottom selector for them to delete marked posts (only to merge/split topics, etc). This is because in mcp_topic permissions are checked differently and m_softdelete is ignored there:

{code:java}
		'S_CAN_DELETE'		=> ($auth->acl_get('m_delete', $topic_info['forum_id'])) ? true : false,
{code}

This is inconsistent both with 3.0 behavior (with softdelete mod ofc) and with viewtopic behavior. Please consider fixing this and allowing moderators to mass soft delete messages from mcp.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0009j:",,,,,,,,,,,,,,"07/Oct/16 4:05 PM;BioLogIn;Proposed fix:

1. In mcp_topic replace 
		'S_CAN_DELETE'		=> $auth->acl_get('m_delete', $topic_info['forum_id']) ? true : false,
with
		'S_CAN_DELETE'		=> ( $auth->acl_get('m_delete', $topic_info['forum_id']) || $auth->acl_get('m_softdelete', $topic_info['forum_id']) ) ? true : false,

2. In mcp_forum replace 
		'S_CAN_DELETE'			=> $auth->acl_get('m_delete', $forum_id),
with
		'S_CAN_DELETE'		=> ( $auth->acl_get('m_delete', $forum_id) || $auth->acl_get('m_softdelete', $forum_id) ) ? true : false,
;;;",,,,,,,,,,,,,,,,,,,,,
CLI updater not documentated in docs/INSTALL.html ,PHPBB-14779,33149,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,Paul,Paul,11/Sep/16 11:25 AM,11/Sep/16 6:04 PM,08/Nov/25 11:12 AM,,3.2.0-RC1,,,,,,Documentation,,,,,,0,,,,,,,,"Currently, the CLI updater is not documented at all in the included INSTALL.html, making the use of it very hard.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000en:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Error: ""The requested feed is not available."" while feed settings are enabled",PHPBB-14768,33138,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,GregariousJB,GregariousJB,05/Sep/16 7:12 AM,05/Sep/16 12:07 PM,08/Nov/25 11:12 AM,,3.1.9,,,,,,ACP,,,,,,0,3.1,feeds,,,,,,"I have enabled feeds (top circle) and selected a News Feed (bottom circle):

!http://i.imgur.com/axvTJwI.png!

And yet I get this when browsing to /feed.php:

!http://i.imgur.com/jdzAe2L.png!

Strangely enough, the feed will only work if I enable this option:

!http://i.imgur.com/jGy5WT7.png!

Extensions: 
* Advanced BBCode Box
* Auto Database Backup
* gn36 - Customize first post edit permissions
* mChat Extension
* Pages
* Permission: Read other users' topics
* Posting Template
* Sortables Captcha

Happens on two environments - a XAMPP localhost server and a remote web server.

On a side note, since https://wiki.phpbb.com/Practical.Displaying_posts_and_topics_on_external_pages is convoluted, outdated, and meant only for phpBB experts, the community will rely more on external Feed RSS widgets and such that require these Feed part of phpBB to work well.","PHP 5.5.33 and 5.6.22-pl0-gentoo
MariaDB 10.1.10 and MySQL 5.6.30
Chrome 52 and Firefox 48",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000hb:",,,,,,,,,,,,,,"05/Sep/16 12:07 PM;DavidIQ;Thanks for pointing the wiki article out to update it, although it is meant for persons comfortable with writing code. Feel free to update it. Using the feed is also possible but would require the site owner to know how to code something to use it, much the same as it would require code to display posts on external pages, which is mostly possible by copy/pasting the code from the wiki article.;;;",,,,,,,,,,,,,,,,,,,,,
phpBB 3.1.7pl1 to 3.1.8 migration issue (MSSQL),PHPBB-14504,32804,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,ssjvegetto,ssjvegetto,28/Feb/16 9:45 PM,28/Feb/16 9:45 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Hello,

I had an issue with the migration happening at the increase_size_of_dateformat.php level.

This migration step was triggering the following SQL query:

ALTER TABLE [dbo].[phpbb3_users] ADD CONSTRAINT [DF_phpbb3_users_user_dateformat_1] DEFAULT (""d M Y H:i"") FOR [user_dateformat]

MSSQL is complaining about the "" before d M Y H:i, as it should really be a '.
Is this probably happening only with MSSQL and not with MySQL?

I had to work around it by doing this step manually (executing the query manually myself with the correct sintax) instead of going though increase_size_of_dateformat.php.

Now I have the forum working and up to date with the latest version, but I had to spend some time investigating this :).

Any thoughts about this?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002f3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding a new attachment extensions group in the ACP can cause SQLServer integer overflow,PHPBB-14245,31790,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MarkDHamill,MarkDHamill,17/Oct/15 8:13 PM,19/Jan/16 4:28 PM,08/Nov/25 11:12 AM,,3.1.6,,,,,,ACP,,,,,,0,,,,,,,,"In certain circumstances when SQLServer is the database, if a new attachment group is added, the result can cause a database integer overflow error trying to store the integer to the database. See attachment. I developed a workaround which is not portable which involves using the SQL CAST statement, similar to issue PHPBB3-14209 for /phpbb/db/driver/driver.php. I modified these lines starting at line 687:


{code:java}
		else
		{
			// Patch by Mark D. Hamill, phpbbservices.com, as a workaround for SQLServer
			//return (is_bool($var)) ? intval($var) : $var;
			return (is_bool($var) || is_numeric($var)) ? 'CAST (' . (int) $var . ' AS bigint)' : $var;
		}
{code}

In addition, a similar error can occur if the manage attachments link is clicked on in the ACP and SQLServer is the database. I was able to patch it with this code in /includes/acp/acp_attachments.php around line 1273:

{code:java}
		// Patch by Mark D. Hamill, phpbbservices.com, as a workaround for SQLServer
		//$sql = 'SELECT COUNT(a.attach_id) AS num_files, SUM(a.filesize) AS upload_dir_size
		$sql = 'SELECT COUNT(CAST(a.attach_id AS bigint)) AS num_files, SUM(CAST (a.filesize AS bigint)) AS upload_dir_size
			FROM ' . ATTACHMENTS_TABLE . "" a
			WHERE a.is_orphan = 0
				$limit"";
{code}


",SQLServer,,,,,,,,,,,,,,,,"17/Oct/15 8:12 PM;MarkDHamill;image003.png;https://tracker.phpbb.com/secure/attachment/17127/image003.png",,,,,,,,,,,,,,,,,"0|i0046n:",,,,,,,,,,,,,,"17/Oct/15 8:24 PM;DavidIQ;Database Booleans are either 1 or 0, which would not be anywhere near a bigint.  Maybe is_bool is not behaving as expected?  Or why would you have to cast a 1 or a 0 to a bigint?;;;","17/Oct/15 11:05 PM;MarkDHamill;Unknown. I suspect this is a SQLServer quirk. In general if attachments are large and these are videos the sum of all the attachment file sizes for the attachment group is going to be a big number which will exceed a regular integer. I think that's what SQLServer is complaining about.;;;","19/Jan/16 4:28 PM;MarkDHamill;Here is a similar issue encountered when deleting a forum where SQL Server is the database. Here is my patch starting at line 2000 of includes/acp/acp_forums.php:

		// Patch by Mark D. Hamill, phpbbservices.com, as a workaround for SQLServer
		//$sql = 'SELECT SUM(filesize) as stat
		$sql = 'SELECT SUM(CAST(filesize AS bigint)) AS stat
			FROM ' . ATTACHMENTS_TABLE;
		$result = $db->sql_query($sql);
		$row = $db->sql_fetchrow($result);
		$db->sql_freeresult($result);
;;;",,,,,,,,,,,,,,,,,,,
cast_expr_to_bigint does not work with large values and SQLServer,PHPBB-14209,31605,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Major,,,MarkDHamill,MarkDHamill,01/Oct/15 12:29 AM,02/Oct/15 12:46 PM,08/Nov/25 11:12 AM,,3.1.6,,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"When SQLServer is the database updates to the phpbb_config table for ""upload_dir_size"" can fail, it appears if the value being added to config_value exceeds some value, likely 2^16. The only solution seems to be to use a CAST as a bigint. See the attachment for an example. It appears that the problem is occurring because an explicit SQL CAST function needs to be implemented for SQLServer in the DBAL. Please see the topic where the problem is described in more detail and some patch code I added to db.php for my client to temporarily get around the problem.

[https://www.phpbb.com/community/viewtopic.php?f=466&t=2338041]","PHP 5.3.27, SQLServer 12, IIS, Firefox 41.0",,,,,,,,,,,,,,,,"01/Oct/15 12:26 AM;MarkDHamill;sqlservererror.png;https://tracker.phpbb.com/secure/attachment/16924/sqlservererror.png",,,,,,,,,,,,,,,,,"0|i004dz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Not working lang vars in acp_ext_list.html,PHPBB-17582,40182,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Crizzo,Crizzo,05/Nov/25 8:25 PM,05/Nov/25 9:05 PM,08/Nov/25 11:08 AM,,,,,,,,,,,,,,0,,,,,,,,"At the moment is usses the lang vars like:
<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP1 }}</li>
<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP2 }}</li>
<li>{{ EXTENSION_INSTALLING_EXPLAIN_STEP3 }}</li>
which does not lead to any output to the user in the ACP. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qgv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Mass user deletion - add database indexes for improved performance ,PHPBB-17579,40094,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Aeonic,Aeonic,28/Oct/25 10:15 PM,28/Oct/25 10:29 PM,08/Nov/25 11:12 AM,,3.0.14,3.1.12,3.2.11,3.3.15,4.0.0-a1,,Other,,,,,,0,,,,,,,,"On very large boards with hundreds of thousands of users or more, pruning inactive users is very difficult, because the user_delete function scans tables via columns that are not used for enumerating data, e.g. message_edit_user in PRIVMSGS_TABLE, and hence have no indexes.

Adding table indexes for the following columns helps avoid full table scans and speeds up mass user deletion by an order of magnitude:

post_edit_user in POSTS_TABLE
message_edit_user in PRIVMSGS_TABLE
user_id in REPORTS_TABLE
user_id in SESSIONS_KEYS_TABLE

This prevents excessive table locking during user pruning, which slows down a board noticeably, regardless of whether it is done manually or by cron. Without these indexes, pruning a few thousand users on a board with more than a million users took several hours. With these indexes, a few minutes at most.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qg7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Set From and Reply-To e-mail addresses separately,PHPBB-17576,40091,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Aeonic,Aeonic,28/Oct/25 7:57 PM,28/Oct/25 10:28 PM,08/Nov/25 11:12 AM,,3.0.14,3.1.12,3.2.11,3.3.15,4.0.0-a1,,ACP,,,,,,0,,,,,,,,"It is common to send out automated mail with a From address that does not have an inbox that is checked by a human. To make this clear, such addresses are often of the form ""noreply@example.org"".

However, spam filters punish when a mail contains ""noreply"" in the Reply-To header (we have even seen bounces caused by this). Please allow setting different addresses for these headers, because they have distinct purposes, or allow disabling the Reply-To header entirely.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Web Manifest scope path is likely invalid,PHPBB-17575,40089,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,MattF,MattF,26/Oct/25 2:43 PM,26/Oct/25 3:18 PM,08/Nov/25 11:12 AM,,4.0.0-a1,4.0.0-a2,4.0.0-b1,,,,Notification System,,,,,,0,,,,,,,,"The web manifest's scope and start_url parameters are not really correct.

The scope should be a path starting from the site's root up to the forum's root. So example site urls and scope paths should look like:
{code}
url: http://myforum.com/index.php
scope: /
{code}
----
{code}
url: http://mysite.com/community/index.php
scope: /community/
{code}
 
Currently our scope's are looking like relative paths like ./../ which is not correct and is based on the location of the manifest controller (and also affected by app.php) rather than just a set in stone value - essentially what the script_path value is or would be if the user filled out that field in the ACP.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
pm inline attachment not showing,PHPBB-17571,40085,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,rubencm,Prosk8er,Prosk8er,25/Oct/25 1:14 AM,25/Oct/25 5:11 PM,08/Nov/25 11:12 AM,,4.0.0-a2,,,,,,Private Messages (PM),,,,,,0,4.0,,,,,,,with latest GitHub files when viewing a pm with a attachment and placing it inline the image does not show or zip file wont download comes up with a error however both work correctly on viewtopic,"apache 2.4.65
php 8.3.27
mariadb 12.0.2",,,,,,,,,,,,,,,,"25/Oct/25 1:11 AM;Prosk8er;Screenshot 2025-10-24 210819.png;https://tracker.phpbb.com/secure/attachment/23524/Screenshot+2025-10-24+210819.png","25/Oct/25 1:11 AM;Prosk8er;Screenshot 2025-10-24 210854.png;https://tracker.phpbb.com/secure/attachment/23523/Screenshot+2025-10-24+210854.png","25/Oct/25 1:11 AM;Prosk8er;Screenshot 2025-10-24 210934.png;https://tracker.phpbb.com/secure/attachment/23522/Screenshot+2025-10-24+210934.png",,,,,,,,,,,,,,,"0|i03qe7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
meta apple-mobile-web-app-capable depreciated,PHPBB-17572,40086,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Prosk8er,Prosk8er,25/Oct/25 1:27 AM,25/Oct/25 1:45 AM,08/Nov/25 11:12 AM,,4.0.0-a2,,,,,,Styles,,,,,,0,4.0,,,,,,,"<meta name=""apple-mobile-web-app-capable"" content=""yes""> is deprecated. Please include <meta name=""mobile-web-app-capable"" content=""yes"">

add <meta name=""mobile-web-app-capable"" content=""yes""> to overall_header.html",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6890,,,,"0|i03qef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Replace an old CSS accessibility hack with a modern, recommended and W3C compliant method",PHPBB-17570,40084,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,cabot,cabot,20/Oct/25 11:01 AM,20/Oct/25 12:46 PM,08/Nov/25 11:12 AM,,3.3.15,4.0.0-a1,,,,,,,,,,,0,prosilver,,,,,,,"The *<dfn>* used in definition lists (.topiclist) is not used for a true semantic definition, but to provide a useful text label (""Answers"", ""Views"", etc.) for screen readers.

The text is removed from the screen, while keeping it present in the code and accessible using this old accessibility hack in content.css:
{code:css}ul.topiclist dfn {
	/* Labels for post/view counts */
	position: absolute;
	left: -999px;
	width: 990px;
}
{code}
Suggestions:
 * *Simplest solution:* declare the accessibility method directly on the element by replacing:
{code:css}ul.topiclist dfn {
	/* Labels for post/view counts */
	position: absolute;
	left: -999px;
	width: 990px;
}
{code}
with:
{code:css}ul.topiclist dfn {
	border: 0;
	position: absolute;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	width: 1px;
	height: 1px;
	margin: -1px;
	padding: 0;
}
{code}
And remove in bidi.css:
{code:css}
.rtl ul.topiclist dfn {
	left: auto;
	right: -999px;
}
{code}

 * Or add the class 'sr-only' to all relevant <dfn> elements (15 in 7 different files).
 * Or add an aria-label attribute to all parents of these <dfn> elements.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6889,,,,"0|i03qdz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Responsive bug in footer navbar,PHPBB-17569,40083,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,cabot,cabot,19/Oct/25 12:16 PM,19/Oct/25 12:38 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,prosilver,,,,,,,"The right-hand links and the responsive dropdown are hidden between >=701px and <= 750px in the footer navbar.

",,,,,,,,,,,,,,,,,"19/Oct/25 12:15 PM;cabot;bug_responsive_footer_navbar.png;https://tracker.phpbb.com/secure/attachment/23521/bug_responsive_footer_navbar.png",,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6888,,,,"0|i03qdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Page width exceeds the screen width in responsive mode,PHPBB-17567,40081,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,13/Oct/25 12:29 PM,14/Oct/25 4:12 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Styles,,,,,,0,,,,,,,,"Reported by another user. Page width exceeds the screen width on mobile device (screenshot attached).

Device: Honor 9X.

Display resolution: 2340x1080.

browser: Chrome (for Android) v.141.0.7390.70

 ",,,,,,,,,,,,,,,,,"13/Oct/25 12:26 PM;rxu;image-2025-10-13-19-29-31-600.png;https://tracker.phpbb.com/secure/attachment/23520/image-2025-10-13-19-29-31-600.png",,,,,,,,,,,,,,,,,"0|i03qdb:",,,,,,,,,,,,,,"14/Oct/25 1:21 PM;cabot;The [Honor 9X|https://yesviz.com/devices/honor-9x/] has a viewport-x of 360px, while the wrap has a minimum width of 390px.

The current minimum width for mobiles is 320px according to [BrowserStack|https://www.browserstack.com/guide/responsive-design-breakpoints#toc5] (or even 360px in 2025 according to [GlobalStats|https://gs.statcounter.com/screen-resolution-stats]).
I suggest setting a min-width: 320px on the wrap in common.css (instead of the current [current 625px|https://github.com/phpbb/phpbb/blob/prep-release-4.0.0-a1/phpBB/styles/prosilver/theme/common.css#L157], already [neutralised|https://github.com/phpbb/phpbb/blob/prep-release-4.0.0-a1/phpBB/styles/prosilver/theme/responsive.css#L185] by responsive.css), and to remove the min-width declaration in responsive.css.

In addition, the margin of the wrap is [modified|https://github.com/phpbb/phpbb/blob/prep-release-4.0.0-a1/phpBB/styles/prosilver/theme/responsive.css#%20L866-L870] on width ≤ 1220 px, which requires [overriding|https://github.com/phpbb/phpbb/blob/prep-release-4.0.0-a1/phpBB/styles/prosilver/theme/responsive.css#L186] the margin with !important on ≤ 750px.
It would be simpler to keep the default margin/auto (in common.css) and apply a side margin of 12px only between 751px and 1200px.
{code:css}@media (min-width: 751px) and (max-width: 1200px) {
	.wrap {
		margin: 0 12px;
	}
}
{code}
I can create a PR if you agree.
----
The CSS for the site-description div would also need to be adjusted to display the title in full width on small screens below the logo, but this is not a problem and I have already prepared the adjustments (for another PR eventually).

 ;;;","14/Oct/25 1:38 PM;rxu;{quote}I can create a PR if you agree.
{quote}
 

Sure, thanks a lot.;;;","14/Oct/25 2:43 PM;cabot;[~rxu] 

-https://github.com/phpbb/phpbb/pull/6884-

New PR :
-https://github.com/phpbb/phpbb/pull/6886-;;;",,,,,,,,,,,,,,,,,,,
Small edit on attachments,PHPBB-17568,40082,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,CoinAge.Cash,CoinAge.Cash,13/Oct/25 2:55 PM,13/Oct/25 2:55 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Attachments,,,,,,0,Beginner,,,,,,,"On the AdminCP, avatar settings upload size name its got bytes. but when you go to user control panel its got KiB name for upload size.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qdj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add default avatars based on username,PHPBB-17566,40080,,New Feature,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,Marc,Marc,Marc,10/Oct/25 8:02 PM,10/Oct/25 8:06 PM,08/Nov/25 11:12 AM,,,,,,,4.0.0-a2,Styles,,,,,,0,,,,,,,,"Instead of other proposed implementations, we should generate avatars based on the username where possible.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qd3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Incorrect exporting PM as CSV for Excel,PHPBB-17565,39993,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,07/Oct/25 5:27 AM,07/Oct/25 5:34 AM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Private Messages (PM),,,,,,0,,,,,,,,"Excel requires BOM mark to correctly open UTF-8 encoded CSV files.

[https://support.microsoft.com/en-us/office/opening-csv-utf-8-files-correctly-in-excel-8a935af5-3416-4edd-ba7e-3dfd2bc4a032]

 

Otherwise it displays non-ASCII characters incorrectly, f.e.
{noformat}
Re: 111,111,2025-10-07T11:14:09+07:00,,РџСЂРѕРІРµСЂСЏРµРј СЂСѓСЃСЃРєРёР№ СЏР·С‹Рє РїСЂРё СЌРєСЃРїРѕСЂС‚Рµ.,{noformat}",,,,,,,,,,,,,,,PHPBB-5914,,,,,,,,,,,,,,,,,,,"0|i03qcv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The base.css file contains a font-size declaration that is overridden in the common.css file.,PHPBB-17562,39990,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,cabot,cabot,02/Oct/25 1:51 PM,02/Oct/25 2:27 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Styles,,,,,,0,easy,prosilver,,,,,,"Hello,

The *base.css* file declares a base font size of 16px:
{code:css}:root {
	/* Base font size */
	--ps-font-base: 16px;								/* [1] */
	--ps-line-height: 1.5rem;							/* [2] */

	/* Headings */
	--ps-font-h1: 1.5rem;								/* 24px */
	--ps-font-h2: 1.5rem;								/* 24px */
	--ps-font-h3: 1.25rem;								/* 20px */
	--ps-font-h4: 1.125rem;								/* 18px */

	/* Text and Paragraphs */
	--ps-font-normal: 1rem;								/* 16px */
	--ps-font-small: 0.875rem;							/* 14px */
	--ps-font-tiny: 0.75rem;							/* 12px */
}
{code}
The *common.css* file, loaded after the previous one, overrides this declaration:
{code:css}html {
	font-size: 100%;

	/* Always show a scrollbar for short pages - stops the jump when the scrollbar appears. non-IE browsers */
	height: 101%;
}
{code}
The 100% value on the root element takes the default size of the user agent (usually 16px, unless configured differently). Consequently, the final size applied will be that provided by the agent (100%) and not the value declared in {*}base.css{*}. The rem units will be calculated from this final size.

Reproduction of the bug:
declare a different value on *--ps-font-base* => no change in font size or derived values is applied.

Suggestion:
Remove the font-size declaration in common.css",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6875,,,,"0|i03qc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
file upload name check fails on some ios files,PHPBB-17499,39695,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,oferlaor,oferlaor,17/Apr/25 5:17 AM,28/Sep/25 10:29 AM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Posting,,,,,,0,uploads,,,,,,,"Some iOS files contain invalid characters because the file name, for some reason is a date.

phpBB rejects these from being uploaded as invalid file names. Looks like there's code that checks for this here:

[https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/files/upload.php#L266]

However, this code is irrelevant because file names pass through clean_filename('unique') which means that it will be cleaned up anyway, so if you remove this code, nothing actually breaks and uploads with invalid file names works as expected.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pxz:",,,,,,,,,,,,,,"28/Sep/25 10:29 AM;Crizzo;How will the file names look in that case? Can you give a few examples. ;;;",,,,,,,,,,,,,,,,,,,,,
Convert all keyword and author search queries of phpbb\search into built queries,PHPBB-13673,30743,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,brunoais,brunoais,06/Mar/15 10:06 AM,27/Sep/25 11:04 AM,08/Nov/25 11:12 AM,,3.1.3,,,,,,Search,,,,,,0,,,,,,,,This will also make adding new events an easier task.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i007zb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Attachments: seperate maximum file size for images.,PHPBB-13482,30428,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,martti,martti,08/Jan/15 1:44 PM,27/Sep/25 11:04 AM,08/Nov/25 11:12 AM,,3.1.2,,,,,,ACP,,,,,,1,,,,,,,,"Images get downsized at client side when the maximum dimensions for images are set, but the maximum filesize (applies to all attachments) gets checked to the original size of the images. Because the images get downsized, the original size is less important to check on. For example you want to allow non-image attachments up to 1M but images to 10M (they get downsized at the client side)  Why 10M? Many people try to upload directly from their camara.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009b3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
User account setting defaults should be editable in the ACP,PHPBB-13452,30396,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,gn#36,gn#36,03/Jan/15 11:12 PM,27/Sep/25 11:04 AM,08/Nov/25 11:12 AM,,3.1.2,,,,,,ACP,,,,,,0,,,,,,,,"In many cases, the board admin wishes to change some sort of default setting of his new users accounts. For example, he might wish to disable the default to notify the user upon replies or change the default post order for newly registered users. Currently, this can only be realized using an extension, which in my opinion is a total overkill. 

Instead of defining defaults somewhere in the PHP code, the anonymous user (or potentially an additional special user for more flexibility) should be copied for each new user to determine what default values are used. This also ensures that the newly registered users receives the same default settings as he saw when browsing the board as a guest, while giving the administrator full control of the default values for a user. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009i7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Problem with PM inbox full workflow,PHPBB-13355,30247,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,DavidIQ,DavidIQ,21/Nov/14 7:22 PM,27/Sep/25 11:03 AM,08/Nov/25 11:12 AM,,3.1.1,,,,,,Private Messages (PM),User Control Panel (UCP),,,,,0,,,,,,,,"When a user receives an email notification about having a new PM they can click on the PM link in the email to purportedly read the message.  This presents a problem when that user's inbox is full as the messages are held until the user frees up some space and then releases the on-hold message(s).  This process is not clear in those cases because the user is merely presented with a message that says: _You are not authorised to read private messages that are on hold._

This also marks the message as read even though it really hasn't been read.

A way to make it clear on how the user can actually read their message should be provided.  Even a link to take the user to the Inbox for further details might be enough.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00a93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Denied/Removed group joining requests not recorded,PHPBB-13379,30278,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,DavidIQ,DavidIQ,25/Nov/14 8:14 PM,27/Sep/25 11:03 AM,08/Nov/25 11:12 AM,,3.1.1,3.1.2,,,,,Group Management,User Control Panel (UCP),,,,,0,,,,,,,,"When a user requests to join an open group the following is added to the user's notes:
*User joined group and needs to be approved*
» Jr. Extension Validators

This is fine as it is but there is no note added when the request is denied, i.e. the group leader removes the request.  A follow-up note should be added when either the user is approved or denied, something along the lines of:
*User added to group*
» Jr. Extension Validators

*User removed from group*
» Jr. Extension Validators

The action would obviously have the correct user ID of the user that took the action.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00a27:",,,,,,,,,,,,,,"14/Nov/15 12:21 PM;RMcGirr83;When a user requests to join a group and that request is approved, there is a message set in the Admin logs, eg.

{quote}admin 	127.0.0.1 	Nov 14th, ’15, 07:16 	Users approved in usergroup Nubs
» whatever{quote}

Similarly when the user request is denied (removed from group)

{quote}admin 	127.0.0.1 	Nov 14th, ’15, 07:20 	Members removed from usergroup Nubs
» whatever{quote}

so not sure what is needed, if anything, here?;;;","14/Nov/15 12:51 PM;DavidIQ;If an admin log gets created even when a non-administrator does this outside of the ACP then I would say that the log is being created in the wrong place.  I don't think this should be considered an admin action.;;;","14/Nov/15 1:27 PM;RMcGirr83;So then it should be a user action?;;;",,,,,,,,,,,,,,,,,,,
"When not installed, Sphinx displays succesful search index",PHPBB-13394,30296,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Lady_G,Lady_G,27/Nov/14 1:44 AM,27/Sep/25 11:03 AM,08/Nov/25 11:12 AM,,3.1.2,,,,,,ACP,,,,,,0,,,,,,,,"I do not have the Sphinx search engine installed. For testing purposes, I intentionally selected Sphinx Fulltext as the active search backend (General --> Search Settings).

I then selected Create Index. Sphinx completed index creation in less than 1 second with the following result:

Number of posts in main index: 	0
Number of posts in frequently updated delta index: 	2076719
Total number of indexed posts: 	2076719

The total post count is correct.

I performed a search using the /search.php search engine, which then displayed with the following error:

Search failed: connection to localhost:9312 failed (errno=101, msg=Network is unreachable)

The issue is that a site administrator should be presented with an error message inside the ACP. The correct active index can then be selected and the user will not see this error.","PHP 5.5.18, PostgreSQL 9.3.5 on x86_64-redhat-linux-gnu (Fedora 20, 64 bit), Firefox 33.1.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i009y7:",,,,,,,,,,,,,,"27/Nov/14 3:16 AM;DavidIQ;This page should probably only be showing the *Create Index* button for the active search index in which case if there is nothing to do for the other inactive search indexes (nothing to delete) then perhaps not show them at all.;;;","27/Nov/14 3:53 AM;Lady_G;Removing the *Create Index* button is another indication that the wrong search backend has been selected. There is already ""(active)"" next to the title. The search function will still operate without an index.

Testing further, General --> Search Settings --> *MySQL Fulltext*. I am immediately presented with an information message:

{color:red}The MySQL fulltext backend can only be used with MySQL4 and above.{color}

This is the expected result, as I do not have MySQL installed. Perhaps a check for the existence of a Sphinx connection should be captured here? It is consistent with the check for MySQL.;;;","27/Nov/14 4:16 AM;DavidIQ;I think the problem here is two fold. On one hand selecting Sphinx should check settings to make sure they're correct.  On the other hand there isn't much of a point of allowing the creation of search indexes for search back ends that are unavailable, not set up, or not the active search backend, which is what I was referring to in my last note.;;;","27/Nov/14 5:25 PM;Lady_G;I see your point now. I think the solution for this bug is to check for an error (cannot connect) when the *Sphinx Fulltext* active search index is selected.

Perhaps your suggestion to remove the *Create Index* buttons could be another bug report - a request to improve the UI.;;;",,,,,,,,,,,,,,,,,,
Add docker dev script to the phpBB repo,PHPBB-17551,39887,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,CHItA,CHItA,CHItA,26/Sep/25 4:24 PM,26/Sep/25 4:30 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,Add a development docker script to the phpBB repo.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
nginx sample config (nginx.sample.conf) improvements and updates,PHPBB-17500,39696,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Fisch.666,Fisch.666,21/Apr/25 10:24 AM,22/Sep/25 8:46 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Documentation,,,,,,0,config,documentation,Documentation,example,nginx,sample,,"The in phpBB 3.3.15 at docs/nginx.sample.conf shipped nginx config files could receive some minor improvements / updates:

h3. Suggestion 1

There is a comment:

{code}
# phpBB uses index.htm
{code}

but phpBB is actually using index.php or am i'm wrong?

h3. Suggestion 2

Then:

{code}
location ~ /(config|
{code}

could be:

{code}
location ~ ^/(config|
{code}

to make the pattern more strict.

h3. Suggestion 3

Furthermore the same block got changed in the scope of PHPBB-16890 from:

{code}
location ~ /(config\.php|
{code}

to:

{code}
location ~ /(config|
{code}

but wouldn't it make sense to use the following instead (only deny access to config.php and config folder) to not ""overblock"" too much:

{code}
location ~ /(config(\.php|/)|
{code}

h3. Suggestion 4

Finally the two

{code}
location @rewriteapp {
...
location @rewrite_installapp {
{code}

are using:

{code}
^(.*)$
{code}

(zero or more times match) which could use:

{code}
^(.+)$
{code}

(one or more times match) as otherwise an empty string could be evaluated as well.",,,,,,,,,,,,,,,PHPBB-16890,,,,,,,,,,,,,,,,,,,"0|i03py7:",,,,,,,,,,,,,,"22/Sep/25 8:43 PM;AlfredoRamos;For the suggestion 1:
{quote}but phpBB is actually using index.php or am i'm wrong?
{quote}
It uses {{index.htm}} files too. The {{index}} directive is not just for the root phpBB board, but for sub-directories too.

So removing that would prevent the protection of directories if the {{autoindex}} directive, for some reason is disabled too (it's enabled by default).

 
{noformat}$ find . -type f -path '*.htm' -not -path './styles/*' -not -path './ext/*' -print

./files/index.htm
./cache/index.htm
./language/en/index.htm
./language/en/acp/index.htm
./language/en/email/index.htm
./language/index.htm
./download/index.htm
./store/index.htm
./phpbb/search/index.htm
./phpbb/auth/index.htm
./phpbb/auth/provider/index.htm
./images/index.htm
./images/avatars/index.htm
./images/avatars/gallery/index.htm
./images/avatars/upload/index.htm
./images/icons/index.htm
./images/icons/misc/index.htm
./images/icons/smile/index.htm
./images/ranks/index.htm
./includes/index.htm
{noformat}
 

For the suggestion 2, then for subdirectory installations you need to include the subpath too, which in my opinion is unnecessary and will be avoided using partial patch instead of exact match.

Regarding the suggestion 4, your suggestion (using + instead of *) only allows non-empty strings, which I'm pretty sure will break the redirection of some paths from the root path / especially if you have the {{enable_mod_rewrite}} configuration enabled.

 ;;;",,,,,,,,,,,,,,,,,,,,,
Use no-store in Cache-Control instead of no-cache,PHPBB-17409,39398,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,05/Oct/24 7:21 PM,20/Sep/25 7:38 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,1,,,,,,,,If you go to unread post and click the back button it's still marked as unread. no-store will force browser to refresh page correctly marking it as read assuming it's not multi page topic with unread posts.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pcv:",,,,,,,,,,,,,,"28/Jul/25 2:24 PM;omeroon;Especially for the ucp.php. It could pose an issue in internet cafes, when someone has visited the ucp and then logs out, the next person can still use the back button to see potential personal data.

Adding no-store fixes this too.;;;","28/Jul/25 7:57 PM;thecoalman;This definitely needs to be limited, e.g. if it's used for posting.php you'll get document expired message when using back button. Typically the posting pane content is till there. ;;;","20/Sep/25 7:38 AM;thecoalman;After testing this you would not want to include on posting.php and ucp.php when composing/replying to message  because you'll lose the text on back button . Other than that I haven't seen any issues. ;;;",,,,,,,,,,,,,,,,,,,
Efficiency of Guest Sessions Needs Improvement,PHPBB-17484,39680,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,23/Mar/25 11:03 AM,30/Aug/25 7:12 AM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Sessions,,,,,,0,,,,,,,,"Guest sessions can have a significant impact on performance caused by scraper bots. Even with legitimate bots if they have not been added to bots list they can cause issues.

 

 ",,,,,,,,,,,,PHPBB-17502,,,,,,,,,,,,,,,,,,,,,,"0|i03pun:",,,,,,,,,,,,,,"23/Jul/25 12:36 PM;rxu;Sessions table has session_id column as primary index. This causes the full table rewriting on every row insertion at least in MySQL, because DB files are sorted by the primary key, and as far as session id is infact a random value, at first new table row got inserted and then full table re-sorting got applied.

In case of huge session tables, this may lead to critical DBMS server performance issues.

Adding autoincrement column and making it primary key should fix that and increase performance a lot as new rows will be just appended to the end with no re-sorting and re-writing back all the sessions table.;;;",,,,,,,,,,,,,,,,,,,,,
Rewrite gen_sort_selects() function to allow styling,PHPBB-13224,29892,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,phpusher,phpusher,26/Oct/14 8:48 PM,21/Jul/25 7:18 PM,08/Nov/25 11:12 AM,,3.1.0-RC6,,,,,4.0.0-a2,Viewing forums,,,,,,1,,,,,,,,"Styling of the _select_ tags for sorting topics is not possible without changing *functions_content.php*.

The evil seems to lie within the function *gen_sort_selects()*, where an array containing the HTML tags is returned. I would like to create a dropdown menu with a button, so the _select_ tag would have to go, but for that I need to edit a file that I shouldn't have to edit for a template.

I think something like a loop would be much better for styling purposes. I would do it myself, but unfortunately my PHP knowledge isn't good enough.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00bf3:",,,,,,,,,,,,,,"27/Sep/15 2:53 AM;Frug;This function looks like legacy code. The way it's structured severely limits its use (and makes it hard to read - it doesn't seem to actually need all its parameters to be passed by reference) and makes it impossible to add classes to the generated select elements. 

My inclination would be to create some (namespaced, autoloaded, static) helper functions that create the arrays as desired, and then use twig to do render the tags in a loop.;;;",,,,,,,,,,,,,,,,,,,,,
Change UCP display option selects from being hardcoded,PHPBB-16846,37703,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Infinity.,Infinity.,10/Aug/21 8:29 AM,21/Jul/25 7:10 PM,08/Nov/25 11:12 AM,,3.3.4,4.0.0-a1,,,,,User Control Panel (UCP),,,,,,2,template,UCP,,,,,,"The various select options present in the Edit display options page of the UCP is hardcoded, with the template variable creating the full select option.

This is rather problematic for people who wish to completely re-style their phpBB forum. Currently styling the select fields means altering a core file; there are no classes present so you are unable to use a pre-defined css class name either.

Much like the rest of the software (user profile group select springs to mind!) the options of the select should be sent to the template to allow for full stylistic control.

Affected Template: ucp_prefs_view

Affected Script: includes/ucp/ucp_prefs.php (lines 343 to 370ish)","Apache 2.4.48, PHP 8.0.9, MariaDB 10.4.20, Microsoft Edge 92.0.902.67",,,,,,,,,,,,,,,,"10/Aug/21 8:37 PM;3Di;image-2021-08-10-22-37-01-512.png;https://tracker.phpbb.com/secure/attachment/21331/image-2021-08-10-22-37-01-512.png",,,,,,,,,,,,,,,,,"0|i03ll3:",,,,,,,,,,,,,,"10/Aug/21 11:54 AM;david63;I don't understand what the problem is - you can style the ""select"" any way that you want with css.

 

The select has to be built in the php file as it has to create the data that is needed;;;","10/Aug/21 12:35 PM;DavidIQ;This isn't likely to be changed in 3.3 so if your goal is to change select elements in the UCP your best option will be to use form IDs as part of your CSS selector.

Also even if we did change it in 4.0 it wouldn't have a unique CSS class assigned so not entirely sure what the goal is.;;;","10/Aug/21 2:22 PM;Infinity.;What I would like to see would for it to be consistent with the other selects I've seen so far, the variable holds all the possible options with a wrapped <select> in the template, having it contain the whole input is rather weird. 

 

I've settled for editing the script at the moment and putting the class I'm using for input into it. ;;;","10/Aug/21 3:12 PM;DavidIQ;But you don't have to edit anything in the core to style select inputs. Still not clear as to why using a css rule to style select inputs is not viable.;;;","10/Aug/21 8:32 PM;david63;The issue here is, I believe, that there are two types of ""select"" in phpBB;

 

One is where there is a simple list to choose from which is easy to wrap within <select> tags in the template and then there is the other which needs to pull data from the database - usually the item that has previously been selected. This second type needs to be built in a .php file (although it may be possible to do more of this with Twig, but I have never looked at it)

 

In either case the <select> tags are passed to the template so are able to be styled.;;;","10/Aug/21 8:37 PM;3Di;You can style those using a custom CSS file

 

!image-2021-08-10-22-37-01-512.png!;;;","10/Aug/21 10:55 PM;Hanakin;Traveling at the moment so have not looked at it in-depth but seems like the main issue is just that the select tags need not be built by php. This is another example of html being built in the backend and should be offloaded to twig. As there should be no reason to build any html in a php file. It’s something we should refactor in 4.0;;;","10/Aug/21 11:23 PM;DavidIQ;Agreed, but that doesn't prevent the styling of select elements, which is the reason why this ticket was created in the first place.;;;","10/Aug/21 11:36 PM;Hanakin;It does via classes which is a valid point. Either way it will be fixed in chameleon. So can leave it as a reminder for now;;;","10/Aug/21 11:50 PM;eveneme;Yes, writing new templates is very difficult. This topic should be simplified and be able to show a front end.;;;",,,,,,,,,,,,
Feed Topic Link Problem,PHPBB-17526,39793,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,halil16,halil16,13/Jun/25 1:56 PM,08/Jul/25 10:03 PM,08/Nov/25 11:12 AM,,3.3.15,3.3.16-RC1,,,,,,,,,,,0,,,,,,,,"Hi,
For a while now, I've been doing research and works on why Google indexes topics with the p parameter. I think I found the culprit-maybe,i'm not sure. In all feeds, including New Topics, the p parameter is used instead of the topic parameter t for a topic. I think it does this for the first post. I think the t parameter should be used. At least that should be the case for topics.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support for utf8mb4 encoding,PHPBB-16137,36122,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,20/Aug/19 6:33 PM,09/Jun/25 6:50 AM,08/Nov/25 11:12 AM,,3.3,4.0.0-a1,,,,,Database Abstraction Layer (DBAL),Installation system,,,,,5,,,,,,,,"Add support for utf8mb4 encoding to make possible use (direct storing) of the unicode characters outside of the Basic multilingual plane range (such as Emoji).

 

Just for the info, some BB utf8mb4 use stats (which I could get):

Invision Community - utf8mb4
XenForo - utf8mb4
Flarum - utf8mb4
Vanilla Forums - utf8mb4
vBulletin - utf8 (default), utf8mb4 (supported)

myBB - utf8 (default), utf8mb4 (supported)
Simple Machines - utf8
PunBB - utf8
phpBB - utf8",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gvb:",,,,,,,,,,,,,,"21/Aug/19 4:11 AM;3Di;(y) Also Jira doesn not btw :P;;;","22/Aug/19 12:36 PM;Leinad4Mind;Yeah, this should be part of 3.3 and above. +1 here;;;","09/Jun/25 6:50 AM;rxu;Discussion, for the reference: [https://www.phpbb.com/community/viewtopic.php?p=14023271#p14023271]

What might have been required to convert to utf8mb4 (see [https://dev.mysql.com/doc/refman/8.4/en/alter-table.html#alter-table-character-set):]
 * convert all tables having character type columns into utf8mb4 charset using utf8mb4_bin collation;
 * drop all character type column indexes which length is greater than 767 bytes (that is more that 191 chars as far as utf8mb4 uses 4 bytes per char);
 * change default character type columns types to the new appropriate types in case it is required (f.e. 'text' data type can store up to 65536 bytes which is up to 21 845 chars for utf8mb3 but 16 384 for utf8mb4; in this case table convert will convert 'text' column type to 'mediumtext', same applies to 'varchar' data type etc). See [https://dev.mysql.com/doc/refman/8.4/en/storage-requirements.html#data-types-storage-reqs-strings]
 * change 'SET NAMES utf8' query to 'SET NAMES utf8mb4' (and respective `charset` parameter for Doctrine DBAL MySQL driver connection);
 * change default database charset and collation to utf8mb4 and utf8mb4_bin, respectively.;;;",,,,,,,,,,,,,,,,,,,
Add dispatcher instance to the Symfony Mailer transport,PHPBB-17521,39788,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,04/Jun/25 5:58 AM,04/Jun/25 7:34 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Notification System,,,,,,0,,,,,,,,Adding dispatcher instance to the Symfony Mailer transport should allow using built-in Mailer events for different purposes (f.e. extensions and tests).,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q2n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Notify users when a friend posts new content,PHPBB-17518,39785,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,danieltj,danieltj,01/Jun/25 11:22 PM,02/Jun/25 12:54 AM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Memberlist/viewing profiles,User Control Panel (UCP),,,,,0,,,,,,,,"Adding a user as a friend doesn't actually do anything practical. I propose adding a new notification for when a friend of a user posts new content. The user should be notified (with the standard choices of notification, email etc...) about the new content so they can view it.

This would add a little bit of extra functionality into the friend or foe feature and essentially turn the friend option into a user subscribe feature (like a follower on social media).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03q1z:",,,,,,,,,,,,,,"02/Jun/25 12:54 AM;thecoalman;I like the idea but friends do serve a purpose, they are listed to left of PM panel so you can easily add them as recipient.;;;",,,,,,,,,,,,,,,,,,,,,
nginx sample config for phpBB installation in subfolder,PHPBB-16312,36336,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Fisch.666,Fisch.666,09/Jan/20 5:36 PM,21/Apr/25 10:26 AM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Documentation,,,,,,0,config,documentation,Documentation,example,nginx,sample,,"The shipped nginx.sample.conf of phpBB is great but won' work out of the box for the quite common use-case to run phpBB in a sub-folder like e.g. /forum/ side by side with other software like e.g. a blog at /blog/.

 

It would be great if phpBB could ship such a sample config for a subfolder as well. Maybe the following one could be used as an inspiration:

 

https://www.phpbb.com/community/viewtopic.php?p=15235601#p15235601",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03i13:",,,,,,,,,,,,,,"09/Jan/20 8:21 PM;AbaddonOrmuz;I'm not sure if that's really needed, you only have to prepend the right subdirectory (like {{/forum}}) in each route.;;;","09/Jan/20 10:13 PM;Fisch.666;I'm not sure as well but if this is the case the changes in [https://github.com/phpbb/phpbb/pull/5825] (originating from [PHPBB3-16313|https://tracker.phpbb.com/browse/PHPBB3-16313]) could make thinks easier.

 

But at least short note (e.g. as comments) for each route could help.;;;",,,,,,,,,,,,,,,,,,,,
Extensions requirements have changed for composer.json,PHPBB-17497,39693,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,toddhutch,toddhutch,14/Apr/25 11:12 PM,14/Apr/25 11:12 PM,08/Nov/25 11:12 AM,,3.3.15,,,,,,Extensions,,,,,,0,extensions,,,,,,,"Unexpected behavior

License, authors are required, if not included in the composer.json the extension is skipped.

I expected that this would work
{
    ""name"": ""thecanyons/homecontent"",
    ""type"": ""phpbb-extension"",
    ""description"": ""Strict minimal phpBB 3.3.15 compatible extension"",
    ""version"": ""1.0.0"",
    ""extra"": {
        ""display-name"": ""Home Content Official Minimal"",
        ""soft-require"": {
            ""phpbb/phpbb"": "">=3.3.0""
        }
    }
}

This works, so there must be some requirements for the extension that are now with composer 2.5+

Documentation needs to be updated. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Switch from WHOIS to RDAP,PHPBB-17483,39619,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Noxwizard,Noxwizard,17/Mar/25 4:03 AM,22/Mar/25 5:28 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"ICANN is officially moving to RDAP over WHOIS: [https://www.icann.org/en/announcements/details/icann-update-launching-rdap-sunsetting-whois-27-01-2025-en]

This is a RESTful implementation, which will be much better than parsing text like we do now for things like referral links. Also, it looks like RDAP endpoints tend to fully resolve the chain for you.

ICANN has a lookup service but don't advertise the endpoint itself. We can continue to use ARIN's: {{https://rdap.arin.net/registry/ip/<ip>}} (ex. [https://rdap.arin.net/registry/ip/8.8.8.8])

A {{GET}} request with an {{Accept}} header of {{application/json}} will get back a JSON response.",,,,,,,,,,,,,,,PHPBB-17477,,,,,,,,,,,,,,,,,,,"0|i03puf:",,,,,,,,,,,,,,"21/Mar/25 3:55 AM;rxu;Investigated the issue a bit and regrettably couldn't find reliable and phpBB3-compatible PHP RDAP client/parser on the Internet. They are either outdated (haven't been updated for years and thus aren't compatible with PHP 8.0+) or don't comply phpBB3 platform requirements (f.e. require PHP 7.4+ as a minimum while phpBB3 requires PHP 7.2+ as a minimum).
So it seems that phpBB should get its own RDAP parser implementation.;;;","21/Mar/25 11:26 PM;Noxwizard;We probably don't need to implement a RDAP client. We can probably get away with making a HTTPS request to ARIN's endpoint and parse the JSON response. It does look like we will need to follow the 303 redirects when they bounce us over to RIPE, APNIC, etc.;;;","22/Mar/25 5:28 AM;rxu;Most (if not all) of RDAP clients use Guzzle which already phpBB3 has, so it is not a problem yes, the main issue is implementing correct RDAP JSON response parser.;;;",,,,,,,,,,,,,,,,,,,
Sphinx: Update shipped includes/sphinxapi.php,PHPBB-14399,32390,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Fisch.666,Fisch.666,08/Jan/16 5:46 PM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.1.6,,,,,3.3.16-RC1,Search,,,,,,0,search,Search,sphinx,,,,,"Hi,

the current version of the includes/sphinxapi.php is dating to 2012:

https://github.com/phpbb/phpbb/blob/master/phpBB/includes/sphinxapi.php#L4

Please consider updating this file to a recent one to benefit from possible bugfixes and improvements.","Sphinx 2.2.10, phpBB 3.1.6",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0034f:",,,,,,,,,,,,,,"08/Jan/16 6:05 PM;Fisch.666;This file is also not needed anymore if https://tracker.phpbb.com/browse/PHPBB3-14398 gets implemented.

Had running this newer file on phpBB 3.0.14 together with the sphinxplugin without any issues in the last years.

However a short warning if updating. The updated file will throw deprecation warnings within the php error logfile:

bq.  PHP Deprecated:  DEPRECATED: Do not call this method or, even better, use SphinxQL instead of an API in /var/www/forum/includes/sphinxapi.php on line 771

According to http://sphinxsearch.com/forum/view.html?id=12564 this method ""SetMatchMode()"" shouldn't be used at all so it might need some code changes.;;;","31/Oct/19 7:26 PM;rubencm;File is available in https://github.com/sphinxsearch/sphinx/blob/master/api/sphinxapi.php;;;","02/Jan/20 10:39 PM;KYPREO;SetMatchMode() has been marked for deprecation due to Sphinx moving to SphinxQL, but it continues to work with the latest stable release of Sphinx v2.2 (being 2.2.11). It also continues to work with Manticore, which unlike Sphinx continues to support SphinxAPI in addition to SphinxQL.

Although the version of sphinxapi.php shipped with phpBB is based on the 2012 version, the phpBB version is modified and has been changed to deal with some outdated variables and php4 constructors, see: https://github.com/phpbb/phpbb/commits/master/phpBB/includes/sphinxapi.php

The phpBB also doesn't produce a PHP error when using SetMatchMode().

I will conduct a comparison between the latest version of sphinxapi.php published by Sphinx vs the phpBB version to see whether anything else needs to be updated. However, one needs to be careful about compatibility between the version of sphinxapi.php and the version of the Sphinx engine used. Sphinxapi.php actually ships with Sphinx itself, so perhaps it makes sense to use the version corresponding with the actual version of Sphinx in use?

This is actually what I am doing, but I manually edited out the SetMatchMode() error so it stopped filling up my PHP error log.;;;","02/Jan/20 10:51 PM;KYPREO;Interestingly, the only substantive change to the version of sphinxapi.php actively maintained by Manticore (that is not linked to changes in Manticore itself) is to remove the deprecation warning for SetMatchMode(), see: https://github.com/manticoresoftware/manticoresearch/commit/82e9f16ba8a3f385ff46431cc1c9152d84b2c7fa#diff-9b0fbfb0442bb0d977d566094a4da2c7;;;",,,,,,,,,,,,,,,,,,
Explain in ACP Attachment settings images get resized (at client-side),PHPBB-13481,30427,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,martti,martti,08/Jan/15 1:32 PM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.1.2,,,,,3.3.16-RC1,Language pack,,,,,,0,,,,,,,,In ACP > Attachment settings there is the setting maximum image size. It's not really explained here that images get resized client side before upload when trying to upload an image with exceding dimensions. (People are requesting an extension for resizing image attachments. https://www.phpbb.com/community/viewtopic.php?f=496&t=2275566),PHP 5.5.9 SQLite 3.8.6 Firefox 34.0,,,,,,,,,,,,,,,,"08/Jan/15 1:32 PM;martti;Screenshot from 2015-01-08 13-56-12.png;https://tracker.phpbb.com/secure/attachment/16336/Screenshot+from+2015-01-08+13-56-12.png",,,,,,,,,,,,,,,,,"0|i009bb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Display NO_TOPICS_TIME_FRAME in viewforum,PHPBB-16436,36476,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,mrgoldy,Big Monstro,Big Monstro,12/Apr/20 10:21 AM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,3.3.16-RC1,Viewing forums,,,,,,0,template,,,,,,,"Inside topics (viewtopic.php), an user can define a time frame (ex: if the option ""7 days"" is selected, only the posts published within the last 7 days are displayed). If there is no recent post, the board returns that message:
{code:java}No posts exist inside this topic for the selected time frame.
{code}
Inside topics lists (viewforum.php), an user can also define a time frame. If there is no recent topic/reply, the board returns *either* only the announcements (regardless when these and their last replies have been published) *or* that message:
{code:java}There are no topics or posts in this forum.
{code}
The board should include the announcements in the time frame (display these only if they have recent posts, just like in the search results with a time frame) and return that other message if there is no recent announcement/post and reply:
{code:java}No topics exist inside this forum for the selected time frame
{code}
That language string exists in common.php (NO_TOPICS_TIME_FRAME) but it isn't used.

To display NO_TOPICS_TIME_FRAME, it isn't needed to edit viewforum.php. Using that code in viewforum_body.html, at the end of topicrow loop, is enough (the S_SORT_DAYS template variable is defined in viewforum.php):
{code:java}<!-- BEGINELSE --> <!-- IF S_IS_POSTABLE --> <div class=""panel""> <div class=""inner""> <strong><!-- IF S_SORT_DAYS -->{L_NO_TOPICS_TIME_FRAME}<!-- ELSE -->{L_NO_TOPICS}<!-- ENDIF --></strong> </div> </div> <!-- ELSE IF not S_HAS_SUBFORUM --> <div class=""panel""> <div class=""inner""> <strong>{L_NO_FORUMS_IN_CATEGORY}</strong> </div> </div> <!-- ENDIF --><!-- END topicrow -->{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ivr:",,,,,,,,,,,,,,"12/Apr/20 12:17 PM;mrgoldy;I've created a PR for correcting the displayed message.
It does not include filtering announcements, as they've been excluded for 15+ years and I do not think we should alter this behaviour.
If you feel differently, please start a discussion topic at Area51.;;;","12/Apr/20 5:42 PM;Big Monstro;The announcements are filtered in the search results (it's obvious when you display results as topics). They aren't in viewforum.;;;","12/Apr/20 9:26 PM;mrgoldy;Yes, but I do not think we should treat {{search}} the same way as {{viewforum}}. 
Especially cause users can set up these options (display posts from last X days) in the User Control Panel.
Meaning that announcements (which are important posts) are no longer visible.;;;",,,,,,,,,,,,,,,,,,,
Add support for encrypted DBAL connections,PHPBB-17476,39611,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,28/Feb/25 8:39 AM,28/Feb/25 8:39 AM,08/Nov/25 11:12 AM,,3.3.14,4.0.0-a1,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"DBAL should have an option to connect to a database using encrypted connections.
For the reference:
https://www.phpbb.com/community/viewtopic.php?t=2408816
https://www.phpbb.com/community/viewtopic.php?t=2660692
https://www.doctrine-project.org/projects/doctrine-dbal/en/4.2/reference/configuration.html#connection-details",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03psn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Errors on search results page (Char 0xFFFE out of allowed range in Entity),PHPBB-17099,38364,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,forum_klutz,forum_klutz,02/Feb/23 6:07 PM,28/Feb/25 12:13 AM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Search,,,,,,0,search,unicode,,,,,,"When a user includes the [U+FFFE character|https://unicode-table.com/en/FFFE/] or [U+FFFF character|https://unicode-table.com/en/FFFF/] in a post, forum search displays a bunch of errors at the top of the page when this post is in the search results. 

The first error is:
{quote}[phpBB Debug] PHP Warning: in file [ROOT]/vendor/s9e/text-formatter/src/Utils.php on line 161: DOMDocument::loadXML(): Char 0xFFFE out of allowed range in Entity, line: ...
{quote}
Apparently users can enter these characters, but forum search cannot properly handle this.

It seems like an unsolved problem that has been around for a long time. See also [my forum post|https://www.phpbb.com/community/viewtopic.php?p=15924456#p15924456]. Doing a google search on ""Char 0xFFFE out of allowed range in Entity"" (include quotes) finds more forums with this issue.","PHP 8, MariaDB 10, Chrome",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Demo Board has no SSL Cert,WEBSITE-1438,39607,,Security Issue,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,23/Feb/25 8:44 PM,23/Feb/25 8:44 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,I realize this is  non issue since the username/password is known and available right in header but someone less knowledgeable may not understand that browser warning is non issue.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03prr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Original time of last post when bump topic,PHPBB-17345,38991,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,exUBert,exUBert,18/Jun/24 11:30 PM,19/Feb/25 10:54 PM,08/Nov/25 11:12 AM,,3.3.11,3.3.12,,,,,Posting,Viewing posts,,,,,0,easy,,,,,,,The original time of last post should not be updated when bump topic,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6649,,,,"0|i03oyf:",,,,,,,,,,,,,,"19/Feb/25 10:54 PM;MattF;I agree with this;;;",,,,,,,,,,,,,,,,,,,,,
Errant Posting Pane When Loading Drafts and Some Other Issues,PHPBB-17473,39606,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,18/Feb/25 3:19 PM,18/Feb/25 3:29 PM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Posting,,,,,,0,,,,,,,,"# If you load a draft from posting pane on the next page sandwiched between the draft selection and the review panel is a posting pane with no buttons to submit, preview or save as draft. 
 # Editing and saving existing draft in posting pane creates another draft.
 # In UCP under manage drafts you can open the draft using basic editor in UCP. This does not create new draft when saved but it's redundant to the full posting pane.

In regards to 2 and 3 suggest removing the basic editor in favor of the full editor, edits to existing drafts regardless of where they are loaded from should not create new draft.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03prj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
[phpBB debug] PHP Warning on KB Manage Your Articles,WEBSITE-1437,39599,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,P_I,P_I,01/Feb/25 1:46 PM,01/Feb/25 1:46 PM,08/Nov/25 11:12 AM,,,,,,,,Knowledge base,,,,,,0,,,,,,,,"The page [https://www.phpbb.com/support/docs/en/3.3/kb/manage/] is throwing the following:
{noformat}
[phpBB Debug] PHP Warning: in file /var/www/www.phpbb.com/website-current/old/support/docs/kb/index.php on line 98: Use of undefined constant KB_READ_ONLY - assumed 'KB_READ_ONLY' (this will throw an Error in a future version of PHP){noformat}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ppz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Admins should be able to disable email notifications for a member via ACP,PHPBB-17466,39598,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,31/Jan/25 2:31 PM,31/Jan/25 2:31 PM,08/Nov/25 11:12 AM,,3.3.14,,,,,,ACP,,,,,,2,,,,,,,,"Per [https://www.phpbb.com/community/viewtopic.php?t=2660029] when administrators notice repeated email bounce or undelivered email notices they should have the ability to administer the user and disable email notifications for the member. 

The search [https://www.phpbb.com/search/?q=notification+emails+disable] shows this issue comes up repeatedly without a good and simple solution",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ppr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Log captcha attempts in the ACP,PHPBB-17349,38995,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,danieltj,danieltj,24/Jun/24 1:16 PM,13/Jan/25 8:00 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Events,Migrations,Other,,,,1,database,Event,template,,,,,"Ticket to follow-up this idea: [https://www.phpbb.com/community/viewtopic.php?f=436&t=2649826]

Add the ability for admins to log captcha attempts (whether successful or not) in the Admin Control Panel next to the other four log types (admin, mod, user and error logs). Each logged attempt should save the following information (similar to existing logs):
 * Username (or anonymous)
 * IP address
 * Date & time
 * The question presented with captcha type (qa or gdimg etc)
 * The answer given by the user

Whatever the implementation, events should be present to allow extension developers to extend beyond this functionality to allow for various automations or filtering and such.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ozb:",,,,,,,,,,,,,,"07/Jul/24 6:31 AM;Marc;One potential issue I'm seeing with this is that the log could become very large in a short amount of time. This seems like it would need some special flag to enable this kind of logging and should potentially only be used for a short amount of time.;;;","13/Jan/25 8:00 PM;thecoalman;Logging the registration successes is the most important aspect of this. The Q&A is still quite effective but you are limited to one question since you don't know which one is broken if you have multiple questions.. Knowing which question the spammers are answering successfully allows you to implement multiple questions making their success less likely.

As side note  when there is multiple questions it changes with failure . This will allow the spammer to fish for question they know.;;;",,,,,,,,,,,,,,,,,,,,
Predefined searches should have tooltips to explain them,PHPBB-17458,39589,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,19/Dec/24 4:45 PM,19/Dec/24 4:45 PM,08/Nov/25 11:12 AM,,3.3.14,,,,,,,,,,,,0,,,,,,,,"The User Guide, specifically [Predefined searches|https://www.phpbb.com/support/docs/en/3.3/ug/userguide/user_search_predefined/] provides helpful information about the Quick links menu items.

Unfortunately the Quick links themselves provide no additional tooltips to explain them and therefore the differences between them. 

Particularly for newcomers to phpBB the user experience would be improved if there were tooltips for each of the Quick links entries. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pnr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Automatically set the secure cookie option based on connection type rather than require ACP setting,PHPBB-17435,39499,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,21/Nov/24 1:15 PM,11/Dec/24 6:05 PM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Authentication,Sessions,,,,,0,easy,,,,,,,"This seems to be one of the confusing parts of ACP->Cookie settings and requires a KB article [phpBB • Knowledge Base > Fixing incorrect cookie settings|https://www.phpbb.com/support/docs/en/3.3/kb/article/fixing-incorrect-cookie-settings/]. 

According to [PHP: setcookie - Manual|https://www.php.net/manual/en/function.setcookie.php]
{quote}secure

Indicates that the cookie should only be transmitted over a secure HTTPS connection from the client. When set to {*}{{[true|https://www.php.net/manual/en/reserved.constants.php#constant.true]}}{*}, the cookie will only be set if a secure connection exists. On the server-side, it's on the programmer to send this kind of cookie only on secure connection (e.g. with respect to [$_SERVER[""HTTPS""]|https://www.php.net/manual/en/reserved.variables.server.php]).
{quote}
If the PHP documentation says it's on the programmer why does phpBB not automatically choose and therefore remove the configurable option in ACP?

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03piv:",,,,,,,,,,,,,,"11/Dec/24 5:13 AM;rxu;Sometimes it's not that easy to detect if connection is secure. F.e. some installations or configurations doesn't have [$_SERVER[""HTTPS""]|https://www.php.net/manual/en/reserved.variables.server.php] defined at all, so it's not reliable as well as using relevant HTTP headers.

This leads to cases when connection is detected as not secure while it is actually secure.;;;","11/Dec/24 1:10 PM;P_I;There is further discussion in [https://area51.phpbb.com/phpBB/viewtopic.php?p=356749#p356749] 

To the best of my knowledge neither WordPress nor MediaWiki explicitly require configuration as to whether cookies are secure or not. If the connection is HTTPS they set the cookie as secure. Why can't phpBB do the same? Since both projects are open-sourced then perhaps some coding logic could be re-used from who they implement. ;;;","11/Dec/24 1:28 PM;rxu;Just for example, several days ago we had a support request on our IST where even Symfony requests's isSecure() method was unable to detect secure connection while it was actually secure. The cause was some CloudFlare SSL/TLS settings.

I don't say that's impossible or no existing code could be reused in phpBB. Automatic connection detection could be added but it might fail in pretty often cases, so that keeping current manual cookie settings is a mandatory as for me.;;;","11/Dec/24 2:53 PM;rxu;To add, WP relies on the same $_SERVER['HTTPS'] and $_SERVER['SERVER_PORT'] == 443 (which can be not set for both, also port 443 is not a mandatory for ssl and can be other custom value).

So, unreliable again.

https://github.com/WordPress/wordpress-develop/blob/32880ec4e910837cd267e1685733867b243e22fa/src/wp-includes/load.php#L1630;;;","11/Dec/24 6:05 PM;P_I;The flipside is there are many, many posts/topics on the [www.phpBB.com/community|http://www.phpbb.com/community] where admins have incorrect settings which cause problems. That created the need for a Knowledge Base article. So clearly this is significant issue that could use a software solution. 

There will always be edge cases that might not work as expected, however software should be able to detect these and act accordingly. I offer the PHP documentation and other open source projects as examples of how this might be accomplished. I would suggest they are subject matter experts so their approach and/or solution is worthwhile to consider. ;;;",,,,,,,,,,,,,,,,,
Unable to delete post via MCP queue,PHPBB-17444,39508,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,25/Nov/24 4:40 PM,27/Nov/24 2:52 PM,08/Nov/25 11:12 AM,,3.3.14,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"MCP->Moderation queue->Posts awaiting approval->[click post subject]->Approve details, attempt to delete a post awaiting approval via clicking ""Submit"" button beside the ""Delete post"" dropdown option in ""Moderator options"" block has no effect. The page just reloads without any action.

 

!image-2024-11-25-23-40-14-087.png|width=452,height=210!",,,,,,,,,,,,,,,,,"25/Nov/24 4:40 PM;rxu;image-2024-11-25-23-40-14-087.png;https://tracker.phpbb.com/secure/attachment/23026/image-2024-11-25-23-40-14-087.png",,,,,,,,,,,,,,,,,"0|i03pkv:",,,,,,,,,,,,,,"26/Nov/24 6:07 PM;thecoalman;Technically you can delete by not approving it. Instead of fixing the delete option remove it and change the ""Disapprove"" to ""Disapprove and Delete"".

 

This is one of those Gotcha's a lot of admin/moderators might not be aware of where they disapprove not realizing it will delete the post. It's not very intuitive especially if it's an edit to existing post that was already approved.;;;","27/Nov/24 2:54 AM;rxu;""Dissaprove and Delete"" sounds confusing (ar least for me it seems so). Probably just ""Delete""? Or simply add a note beside the buttons like ""Disapproving, the post will be deleted entirely"".

But there's also a nuance: using ""Delete post"" moderation option, there's a possibility to ""soft delete"" it, while ""Dissaprove"" only will delete it permanently. Although I don't know how should it work when a post is in an approval queue and is soft-deleted at the same time. Sounds like a mess.;;;","27/Nov/24 2:12 PM;P_I;I must admit I have never understood why there are three buttons on the ""Post awaiting approval"" screen. The Disapprove and Approve buttons make sense and as far as I know dropdown with ""Delete"" and the Submit button have never worked or taken any action. 

Personally I'd like to see two buttons, Disapprove and Approve and a secondary option on the Disapprove to give the moderator the ability to delete post or soft-delete post. Disapproving and soft-deleting would provide the opportunity for further review and/or education of other moderators as to why a post was Disapproved. 

On our boards,  the workaround process to keep a record of before disapproving is:
 # Click on the button to the right of Contact:  to view the drop-down icons.
 # On the left is ""Send private message""  (Send email  is on the right). Hover over the icon and right-click ""Open in a new tab or window"". The message appears in your PM Inbox.
 # In the PM, select all, copy, close the tab.
 # Paste into the forum post.;;;","27/Nov/24 2:52 PM;thecoalman;Whatever the text used it should be made clear disapproving is also deleting it.

It's still broken because if the user makes edit to post that needs approval there is no path to revert the post to what it was before the edit. It's not a big deal if it's single post topic but it's a problem if there is numerous replies.  The only solution would appear to be basic revision system.;;;",,,,,,,,,,,,,,,,,,
Design select box in BBCodes,PHPBB-17427,39491,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,wintstar,wintstar,03/Nov/24 9:44 AM,03/Nov/24 9:44 AM,08/Nov/25 11:12 AM,,3.3.13,,,,,,Styles,,,,,,0,"bbcode,select,css",,,,,,," 
The design of the select box in the bbcodes does not match the other buttons.
 
Look to this topic [https://www.phpbb.com/community/viewtopic.php?p=16037338#p16037338]
 
 ",,,,,,,,,,,,,,,,,"03/Nov/24 9:43 AM;wintstar;bbcode-select-box.png;https://tracker.phpbb.com/secure/attachment/23023/bbcode-select-box.png","03/Nov/24 9:44 AM;wintstar;new-bbcode-select-box.png;https://tracker.phpbb.com/secure/attachment/23022/new-bbcode-select-box.png",,,,,,,,,,,,,,,,"0|i03ph3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Issue with installing child styles when parent style name is modified in ACP,PHPBB-17420,39484,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,cabot,cabot,28/Oct/24 11:53 AM,28/Oct/24 3:38 PM,08/Nov/25 11:12 AM,,,,,,,,ACP,Styles,,,,,0,,,,,,,,"Currently, if the name of a style is changed in the ACP, it is not possible to install the child styles that depend on it. This is particularly problematic for prosilver, the default, non-removable style, which is the parent/ancestor of the majority of inherited styles.

 

*Problem Description:*
For style installation requirements, phpBB checks the name of the parent style based on the value of the parent key in the style.cfg file. This check depends on the {{style_name}} field stored in the database. If this name is modified from the PCA (which is possible for all styles, including prosilver), this causes an inconsistency and prevents the installation of child styles, as phpBB considers that the required parent style is not installed.

 

*Suggested solutions:*
 # Disable style name modification from the PCA.
Prevent the modification of style names via the APC, or at least for prosilver on which so many styles depend.
 # Add a ‘decorative/passive’ {{style_custom_name}} field.
 This field would return the default style name if unmodified, otherwise the one defined by the administrator in the PCA.
 # Ignore strict name checking.
Adapt the style installation logic so that it is based solely on the {{style_path}} of the parent style instead of its {{style_name}} in the database. (But requires a style_path key to be added to the styles .cfg)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove gif smilies and topic icons,PHPBB-17419,39483,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Marc,Marc,27/Oct/24 3:57 PM,27/Oct/24 3:57 PM,08/Nov/25 11:12 AM,,,,,,,5.0.0-a1,,,,,,,0,,,,,,,,"Since the old gif smilies and topic icons have been replaced by svg versions, they should be removed from the package.",,,,,,,,,,,,,,,PHPBB-17418,PHPBB-17304,,,,,,,,,,,,,,,,,,"0|i03pfb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete reason for soft deleted topics is not displayed,PHPBB-17406,39395,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,30/Sep/24 5:00 AM,30/Sep/24 5:00 AM,08/Nov/25 11:12 AM,,3.3.13,,,,,,Viewing forums,Viewing posts,,,,,0,,,,,,,,"Unlike for soft deleted posts, delete reason for soft deleted topics is not displayed in topic or post lists.

See https://www.phpbb.com/community/viewtopic.php?t=2656954",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03pc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Keyboard nav broken in registration form.,PHPBB-17395,39384,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Gumboots,Gumboots,16/Sep/24 1:32 AM,17/Sep/24 11:03 PM,08/Nov/25 11:12 AM,,3.3.13,,,,,,Styles,,,,,,0,easy,prosilver,template,,,,,"If someone is using keyboard navigation on the default phpBB registration form, they cannot access the two time zone selects (#tz_date and #timezone) nor can they access the ""Anti-Spammer/Bot Test"" select (#pf_antispam).

The reason is misuse of tabindex. The first five inputs, and the submit button at the end of the form, all have a positive tabindex set. Respectively: 1, 2, 3, 4 and 8 for the inputs, and 9 for the submit button.

Obviously, if the other inputs have tabindex set the selects should also have values set (5, 6 and 7) but since they don't they are inaccessible by keyboard. The result is that focus follows the artificial order forced by tabindex, so it skips from #email straight to #answer.

This is another case where the standard accessibility rule of not using tabindex values greater than 0 applies. If *none* of the inputs has tabindex set, the whole form will work perfectly. Prosilver includes a skipnav link, which will take a11y users straight to the start of the registration form. After that, focus will just follow the natural order of the form's markup. It would also be more maintainable and easier to customise.

There are two additional issues.
1/ #tz_select_date does not have a label.
2/ #answer does not have a label either. There *is* a label in the dt preceding #answer's dd parent, but it has no for attribute, so it is non-functional and from an accessibility perspective it's just confusing clutter.

 

I have already fixed all of this for my own use. My suggestions are:
 # Remove all instances of tabindex from ucp_register.html
 # Where $CAPTCHA_TAB_INDEX is defined, set the defined value to 0.

These are minor changes that are easy to implement, and having $CAPTCHA_TAB_INDEX set to 0 will automatically deal with captcha_qa.html, etc.

 

Regarding the missing/broken labels, I have used this in timezone_option.html:
{code:java}
// co<dl>
    <!-- IF .timezone_date -->
    <dt>
        <label for=""tz_date"">{L_SELECT_CURRENT_TIME}{L_COLON}</label>
    </dt>
    <dd id=""tz_select_date"" style=""display: none;"">
        <select name=""tz_date"" id=""tz_date"" class=""autowidth tz_select"">
            <option value="""">{L_SELECT_CURRENT_TIME}</option>
            <!-- BEGIN timezone_date -->
            <option value=""{timezone_date.VALUE}""<!-- IF timezone_date.SELECTED --> selected=""selected""<!-- ENDIF -->>{timezone_date.TITLE}</option>
            <!-- END timezone_date -->
        </select>
        <input type=""button"" id=""tz_select_date_suggest"" class=""button2"" style=""display: none;"" timezone-preselect=""<!-- IF S_TZ_PRESELECT -->true<!-- ELSE -->false<!-- ENDIF -->"" data-l-suggestion=""{L_TIMEZONE_DATE_SUGGESTION}"" value=""{L_TIMEZONE_DATE_SUGGESTION}"">
    </dd>
    <!-- ENDIF -->
    <dt>
        <label for=""timezone"">{L_BOARD_TIMEZONE}{L_COLON}</label>
    </dt>
    <dd>
        <select name=""tz"" id=""timezone"" class=""autowidth tz_select timezone"">
            <option value="""">{L_SELECT_TIMEZONE}</option>
            <!-- BEGIN timezone_select -->
            <optgroup label=""{timezone_select.LABEL}"" data-tz-value=""{timezone_select.VALUE}"">
                <!-- BEGIN timezone_options -->
                <option title=""{timezone_select.timezone_options.TITLE}"" value=""{timezone_select.timezone_options.VALUE}""<!-- IF timezone_select.timezone_options.SELECTED --> selected=""selected""<!-- ENDIF -->>{timezone_select.timezone_options.LABEL}</option>
                <!-- END timezone_options -->
            </optgroup>
            <!-- END timezone_select -->
        </select>        <!-- INCLUDEJS timezone.js -->
    </dd>
</dl>de placeholder
{code}
And have used this in captcha_qa.html:
{code:java}
// code placeholder<!-- IF S_TYPE == 1 -->
<div class=""panel captcha-panel"">
    <div class=""inner"">
        <h3 class=""captcha-title"">{L_CONFIRMATION}</h3>
        <fieldset class=""fields2"">
<!-- ENDIF -->            <p>{L_CONFIRM_QUESTION_EXPLAIN}</p>
            <dl>
                <dt>
                    <label for=""qa_answer"">{QA_CONFIRM_QUESTION}{L_COLON}</label>
                </dt>
                <dd class=""captcha"">
                    <input type=""text"" name=""qa_answer"" id=""qa_answer"" size=""45""  class=""inputbox autowidth"" title=""{L_ANSWER}"">
                    <input type=""hidden"" name=""qa_confirm_id"" id=""qa_confirm_id"" value=""{QA_CONFIRM_ID}"">
                </dd>
            </dl><!-- IF S_TYPE == 1 -->
        </fieldset>
    </div>
</div>
<!-- ENDIF --> {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03p9z:",,,,,,,,,,,,,,"17/Sep/24 10:43 PM;Gumboots;Scrap that. Just tested it live. Using autofocus on the forms doesn't work. Tabbing just takes you straight to the skipnav anyway, so might as well just go with that and use it to go to the forms.

(Using autofocus on an input would not allow people to have content before the input read out to them.)

 ;;;",,,,,,,,,,,,,,,,,,,,,
invalid upload file names,PHPBB-17380,39285,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,oferlaor,oferlaor,11/Aug/24 5:50 PM,11/Aug/24 5:50 PM,08/Nov/25 11:12 AM,,3.3.12,,,,,,,,,,,,0,,,,,,,,"I use an iOS shortcut called ""Apple frames"", while it's very useful (it basically wraps screenshots with the right phone background that the screenshot was taken on), it has the peculiar behavior of changing the file name to the date. The file name is valid on iOS, but no where else (it uses the : for the time separator).

As I was trying to understand why I cant directly upload the file to phpbb, since files->common_check gives an INVALID_FILENAME error, I noticed something strange. The system actually now uses clean_filename('unique' but it still checks the common_check before that, despite it no longer being relevant as the realname later gets replaced with the hash anyway...

To test this theory I tried to see what happens if I remove this check and indeed, it all works as expected (because clean_filename('unique') runs later on anyway...

the issue is in: /phpbb/phpbb/files/upload.php
{code:java}

/* 
// check Filename if (preg_match(""#[\\/:*?\""<>|]#i"", $file->get('realname'))) { $file->error[] = $this->language->lang($this->error_prefix . 'INVALID_FILENAME', $file->get('realname')); } 
*/{code}
 
{{}}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03p6f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update social media icons in site header,WEBSITE-1433,39283,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,danieltj,danieltj,danieltj,08/Aug/24 10:58 AM,08/Aug/24 10:58 AM,08/Nov/25 11:12 AM,,,,,,,,Community,Other,,,,,1,front-end,template,,,,,,"The header on .com has three social icons in the header. It has RSS, Facebook and Twitter (old). The icons should be updated to adjust their position, they're a bit wonky. Also the icons used are old for example the Facebook 'F' hasn't been used like that with the light bar at the bottom in ages and Twitter is now 'X'.

Font Awesome 6 has some nice brand icons that could be used instead to firstly, modernise the icons and secondly make them a bit more fancy and stand out so people actually see them properly.

I also think Discord should be added there too but that might need a little discussion potentially.",,,,,,,,,,,,,,,,,"08/Aug/24 10:58 AM;danieltj;phpbb-dot-com-social-icons-header.png;https://tracker.phpbb.com/secure/attachment/22821/phpbb-dot-com-social-icons-header.png",,,,,,,,,,,,,,,,,"0|i03p5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
What is online - Display guests ONLY,PHPBB-17348,38994,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,20/Jun/24 6:53 PM,20/Jun/24 6:53 PM,08/Nov/25 11:12 AM,,3.3.12,,,,,,Other,,,,,,0,,,,,,,,"To help admins deal with the whac-a-mole problem of bad bots they first line of inquiry is to use *Who is online* and click the Display guests link to review the user-agent associated with all the guest sessions. 

It would be an improvement to aid the admin if there was an option to Display guests ONLY to refine the list and help in the quest to identify and deal with bad bots based on their user-agent. 

A second improvement would be to separate the user-agent field into a separate, sortable column. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Last bumped by username data,PHPBB-17346,38992,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,exUBert,exUBert,19/Jun/24 12:06 AM,19/Jun/24 12:13 AM,08/Nov/25 11:12 AM,,3.3.11,3.3.12,3.3.12-RC1,,,,Viewing posts,,,,,,0,easy,,,,,,,Missing username color and username url,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6650,,,,"0|i03oyn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Wrong Link on Advanced Update,WEBSITE-1431,38980,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,09/Jun/24 12:48 AM,09/Jun/24 12:48 AM,08/Nov/25 11:12 AM,,,,,,,,Downloads Page,,,,,,0,,,,,,,,"Step 3.1 for the Advanced Update instructions has a text link for the ""Advanced Update"" archive which goes to the full package instead.

 

https://www.phpbb.com/support/docs/en/3.3/ug/upgradeguide/update_advanced/",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ovz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Misleading installer update ""timeout detected"" message",PHPBB-17329,38882,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,HB,HB,02/Jun/24 11:02 AM,02/Jun/24 11:03 AM,08/Nov/25 11:12 AM,,3.3.12,,,,,,Installation system,,,,,,0,,,,,,,,"When running the update installer, it failed partway through the diff comparison with the error message mentioned in the KB article [The installer detected a timeout|https://www.phpbb.com/support/docs/en/3.3/kb/article/debugging-quotthe-installer-detected-a-timeoutquot/]. Its recommendation to check the logs for a catch-all error were indeed correct and led me to the 3.3.12 correction in includes/diff/diff.php:
{code:php}                if (is_array($orig) && count($orig) == 1 && trim($orig[0]) === '')
                {
                    $orig = array();
                }
                if (is_array($final) && count($final) == 1 && trim($final[0]) === '')
                {
                    $final = array();
                }
{code}
I asked about this problem [here|https://www.phpbb.com/community/viewtopic.php?p=16014943#p16014943]. For the next person with this [timeout?] problem, I recommend adding a link to the above KB article in the message LA_TIMEOUT_DETECTED_MESSAGE, e.g., ""For other possible causes of this error, see the article [The installer detected a timeout|https://www.phpbb.com/support/docs/en/3.3/kb/article/debugging-quotthe-installer-detected-a-timeoutquot/]"".

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oun:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
HTTP 400 (Bad request) error on multiple clicking webpush notifications Subscribe/Unsubscribe button,PHPBB-17319,38702,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,19/May/24 6:55 AM,19/May/24 8:16 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,JavaScript / AJAX,Notification System,,,,,0,,,,,,,,"When you start permanently mutli-clicking Subscribe/Unsubscribe button for webpush notifications in UCP, console got spammed by numerous errors like:

{noformat}
       POST https://area51.phpbb.com/phpBB/user/push/subscribe 400 (Bad Request)
subscribeButtonHandler @ webpush.js?assets_version=2517:173
webpush.js?assets_version=2517:207               
       POST https://area51.phpbb.com/phpBB/user/push/unsubscribe 400 (Bad Request){noformat}
Server response on those errors is:
{noformat}
{""message"":""The submitted form was invalid. Try submitting again.""}{noformat}
which apparently comes from \phpbb\ucp\controller\webpush.php function check_subscribe_requests().",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03osn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Last Post is calculated by post_id instead of post_time,PHPBB-15232,33908,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,user1492,user1492,15/May/17 7:10 PM,15/May/24 5:37 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Viewing forums,,,,,,0,,,,,,,,"The forum sync function (determine last post) is using the post_id to determine the ""last post"" of the forum.  This does not always generate the correct result, depending on the state of the database - specifically, when a bulletin board is imported from elsewhere into phpBB.

Using the post_time would give the correct result, regardless of the post order in the database.

In my situation, topic_id 25 (post_id 73) has a message time of 1460449200, but topic_id 4 (post_id 16) has the newest message time of 1485184800 (2 years newer).  However, post_id 73 is always calculated as the last post (until a brand new post in the forum is made).

As a test, I changed the post_id from 16 to 2000 and synchronized the forum.  The last post then displayed correctly (post_id 2000).

This bug does not create big issues - just cosmetic/annoyance type problems.  This bug becomes invisible once a new post in the forum is made after a database import (largest post_id is the newest time).

I am willing to test code, as my migration to phpBB is still in process (not live).","phpMyAdmin 4.7.0, MySQL 5.6.35, Ubuntu 14.04.5 LTS, IE 11.0.9600.18537 and Firefox 52.1.1 (32bit) ESR",,,,,,,,PHPBB-15100,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03alb:",,,,,,,,,,,,,,"15/May/17 10:47 PM;javiexin;This affects 3.1 as well, not only 3.2.
And the issue happens in multiple ""normal"" forum operations, not frequently, but it may happen as well, besides migrations.
The other part of the issue, not mentioned here (same problem affects first_post_id) cannot be fixed by creating a new post.
An in-depth discussion can be found here: https://area51.phpbb.com/phpBB/viewtopic.php?f=126&t=50961
It also includes examples of how to reproduce the problem in ""normal"" forum operation (without the need to migrate).
;;;","15/May/24 5:37 PM;Leinad4Mind;I've solved this issue by simple doing this edit: [https://www.phpbb.com/customise/db/extension/change_post_time/support/topic/223921?p=878824#p878824]

This way, everytime the sync is runned, manually or automatically it will apply to the first_post_id the post that appears sooner AND with the minimum post_id.
Same for last_post_id, where I use the last post_time and the max post_id.

Hope it helps.;;;",,,,,,,,,,,,,,,,,,,,
postrow.U_MINI_POST shouldn't be visible to bots,PHPBB-17307,38688,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,01/May/24 1:35 PM,01/May/24 1:35 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Viewing posts,,,,,,0,front-end,viewtopic,,,,,,"To prevent similar topic pages to be browsed by identified bots (like Google), all occurences of postrow.U_MINI_POST should be hidden from them. Sure, there is canonical links on these pages, but the bots shouldn't even browse similar pages if possible (waste of time, server resources, etc.).

On each topic pages, some postrow.U_MINI_POST links are hidden but other aren't.

These *postrow.U_MINI_POST* links are hidden to identified bots (viewtopic_body.html) :
{code:java}
                <!-- IF S_IS_BOT -->
                    <span><i class=""icon fa-file fa-fw <!-- IF postrow.S_UNREAD_POST -->icon-red<!-- ELSE -->icon-lightgray<!-- ENDIF --> icon-md"" aria-hidden=""true""></i><span class=""sr-only"">{postrow.MINI_POST}</span></span>
                <!-- ELSE -->
                    <a class=""unread"" href=""{postrow.U_MINI_POST}"" title=""{postrow.MINI_POST}"">
                        <i class=""icon fa-file fa-fw <!-- IF postrow.S_UNREAD_POST -->icon-red<!-- ELSE -->icon-lightgray<!-- ENDIF --> icon-md"" aria-hidden=""true""></i><span class=""sr-only"">{postrow.MINI_POST}</span>
                    </a>
                <!-- ENDIF --> {code}
These *postrow.U_MINI_POST* links are +visible+ to identified bots (viewtopic_body.html) :
{code:java}
        <h3 {% if postrow.S_FIRST_ROW %}class=""first""{% endif %}>
            {% if postrow.POST_ICON_IMG %}
                <img src=""{{ T_ICONS_PATH }}{{ postrow.POST_ICON_IMG }}"" width=""{{ postrow.POST_ICON_IMG_WIDTH }}"" height=""{{ postrow.POST_ICON_IMG_HEIGHT }}"" alt=""{{ postrow.POST_ICON_IMG_ALT }}"" title=""{{ postrow.POST_ICON_IMG_ALT }}"">
            {% endif %}
            <a {% if postrow.S_FIRST_UNREAD %}class=""first-unread"" {% endif %}href=""{{ postrow.U_MINI_POST }}"">{{ postrow.POST_SUBJECT }}</a>
        </h3> {code}
The line with *postrow.U_MINI_POST* should be replaced by the following one:
{code:java}
{% if not S_IS_BOT %}<a {% if postrow.S_FIRST_UNREAD %}class=""first-unread"" {% endif %}href=""{{ postrow.U_MINI_POST }}"">{% endif %}{{ postrow.POST_SUBJECT }}{% if not S_IS_BOT %}</a>{% endif %} {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03opj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add New Column - Last Visit,PHPBB-17298,38587,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,22/Mar/24 11:30 AM,22/Mar/24 11:30 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,ACP,,,,,,0,,,,,,,,"On ACP - Users and Groups - Groups - Manage Groups.

Will be great to add a new column, for Last Visit.

At the moment we only have Registration date. It matters for many reasons to know their last visit.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03onb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Purge the files in the /cache/installer folder when purging cache,PHPBB-17294,38582,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,MarkDHamill,MarkDHamill,25/Feb/24 8:46 PM,25/Feb/24 8:49 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Caching (ACM),Template Engine,,,,,1,template,,,,,,,"I think the /cache/installer folder should also be purged or deleted recursively when the purge the cache button is pressed in the ACP. Doing so solved an issue for a couple of clients recently after an update of phpBB. See [this topic|https://www.phpbb.com/customise/db/extension/digests_extension/support/topic/246190].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03om7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Field topic_first_poster_name blank in topics table,PHPBB-17288,38576,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,yvan02,yvan02,11/Feb/24 5:47 PM,11/Feb/24 5:49 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,,,,,,,0,,,,,,,,"After editing first post of a topic the field topic_first_poster_name is blank.

In forum view the user Guest (Invité in french) is affected on first topic.",,,,,,,,,,,,,,,,,"11/Feb/24 5:47 PM;yvan02;Screenshot (1).png;https://tracker.phpbb.com/secure/attachment/22180/Screenshot+%281%29.png",,,,,,,,,,,,,,,,,"0|i03okv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
You cannot quote part of text with iOS/iPadOS browsers,PHPBB-17238,38523,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,11/Dec/23 1:41 AM,14/Jan/24 2:34 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Posting,,,,,,0,,,,,,,,"Source: [phpBB • you cannot quote a part of text with iPhone|https://www.phpbb.com/community/viewtopic.php?t=2612416]

Someone posting uses the TOPIC REVIEW area and selects a subset of a post's text and then clicks on the quote button.

Instead of just quoting the selected text the whole post text is quoted.

Happens with Safari, Edge and Chrome browsers on iOS and iPadOS.

I cannot be certain however the behaviour changed around iOS/iPadOS Version 16. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o93:",,,,,,,,,,,,,,"14/Jan/24 2:34 PM;P_I;I found a reference that this stopped working with with the release of iPadOS 15.1 in November 2021 (source: [Info On Posting, Responding, etc - Bogleheads.org|https://www.bogleheads.org/forum/viewtopic.php?p=7246017#p7246017]);;;",,,,,,,,,,,,,,,,,,,,,
Main Area51 page links to archived 3.0.x support forum,WEBSITE-1427,38570,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,MalikTH,MalikTH,10/Jan/24 6:49 PM,10/Jan/24 6:51 PM,08/Nov/25 11:12 AM,,,,,,,,Area51,,,,,,0,,,,,,,,"On the [main Area51 page|https://area51.phpbb.com/], under the ""Development Sites & Tools"" subheading, the Issue Tracker section advises getting support in the Support Forums first. However, the Support Forum link leads to the 3.0.x support forums, which are archived.

It should instead link to the [Support Forums category|https://www.phpbb.com/community/viewforum.php?f=551], where the user seeking help can choose the subforum that's relevant to them. Alternatively, it could link to the individual subforums directly, like how the Coding Guidelines section links to the different guidelines for each supported version.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ojj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cache Headers for Files Served through file.php,PHPBB-17278,38563,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,29/Dec/23 7:58 AM,29/Dec/23 8:03 AM,08/Nov/25 11:12 AM,,,,,,,,Attachments,,,,,,0,,,,,,,,"Cloudflare and I would assume other caching services by default do not cache files with certain extensions like .php There are options to create custom cache rules  for whatever you want regardless of the source. 

The cache header for files served through file.php is set to private as it should be as a default otherwise you run the risk of caching files in PM's or private forums. Since there is no way for the caching service to determine what to cache there is no way to allow caching of attachments unless you want to expose non public files to the public.

A check should be performed to see if the file is publicly accessible and if so set the header to public allowing caching of attachments that are not in private forums or PM's. This is not Cloudflare specific but would apply to any caching service that is going to respect the header.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ohz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Polls with Allow re-voting checked should allow for vote to be cancelled,PHPBB-17275,38560,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,19/Dec/23 6:28 PM,19/Dec/23 6:28 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Posting,,,,,,1,,,,,,,,"From [phpBB • Poll cancel vote|https://www.phpbb.com/community/viewtopic.php?t=2649100] 

During a poll, even if you checked ""can change your vote"", once you have voted you cannot delete your vote.
More precisely, you receive a message saying that you must choose at least one option.
I find this behavior abnormal: if you can modify your vote you should also be able to cancel it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ohb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .page-number"" RTL Topic Print Function Page Number Text Align Rule",PHPBB-17274,38559,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Dec/23 7:46 PM,17/Dec/23 7:46 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, if you view a topic which has 20 pages and you are on page 10 for example - if you go to print the page and look at the page number at the bottom of the page - the text is aligned on the wrong side... I have added a screen shot to show this,

 

This can be solved by adding a text align rule to the bidi.css file.

 

*File:*

 
{code:java}
bidi.css
{code}
 

 

*Find:*

 
{code:java}
.rtl .page-number {
    float: left;
}{code}
 

 

*Change To:*

 
{code:java}
.rtl .page-number {
    float: left;
    text-align: left;
}{code}
 

 ",,,,,,,,,,,,,,,,,"17/Dec/23 7:41 PM;ForumFlair;RTL - Print Topic Page Bottom Number.png;https://tracker.phpbb.com/secure/attachment/22177/RTL+-+Print+Topic+Page+Bottom+Number.png",,,,,,,,,,,,,,,,,"0|i03oh3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing ""blockquote cite > span"" Topic Print And Private Message Print Function Quote Block Cite Float Rule",PHPBB-17273,38558,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Dec/23 7:17 PM,17/Dec/23 7:17 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When printing a topic, the quote block cite time is on the the wrong side of the quote block, see screen shot.

 

This can be solved by adding a rule to the print.css file to match the one in the content.css file.

 

*File:*
{code:java}
print.css
{code}
*Find:*
{code:java}
.quote-by, blockquote cite {
    color: black;
    display: block;
    font-weight: bold;
}{code}
*Add Below:*
{code:java}
blockquote cite > span {
    float: right;
}{code}",,,,,,,,,,,,,,,,,"17/Dec/23 7:12 PM;ForumFlair;LTR - View Topic Print.png;https://tracker.phpbb.com/secure/attachment/22176/LTR+-+View+Topic+Print.png",,,,,,,,,,,,,,,,,"0|i03ogv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Post Notice "".rtl p.post-notice"" RTL Padding Left Side Rule As It Already Has Padding On Both Sides",PHPBB-17272,38557,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 4:58 AM,15/Dec/23 5:01 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has a rule which adds 5px of padding to the left side of the post notice box but the common.css file has a rule which adds 5px of padding to both sides plus the top/bottom, therefore the rule in the bidi.css file has no effect and is surplus.

 

*File:*
{code:java}bidi.css
{code}
 

*Delete:*
{code:java}.rtl p.post-notice {
    padding-left: 5px;
}{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ogn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Table "".rtl .forumbg table.table1"" RTL Margin Rule Which Affects Table Left Side",PHPBB-17271,38556,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 4:48 AM,15/Dec/23 4:48 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has a rule which adds a negative margin to tables, this affects the left side of the table surround when using an RTL language as it makes it slightly wider than the side of the table.

 

There isn't any rule for this in any other file for non RTL languages so it must have been removed at some point in the past and the rule in the bidi.css file forgotten about.

 

*File:*
{code:java}
bidi.css
{code}
*Delete:*
{code:java}
.rtl .forumbg table.table1 {
    margin: 0 -1px -1px -2px;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ogf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl table.responsive span.rank-img"" RTL Table Rank Image Float And Padding Rules",PHPBB-17270,38555,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 4:31 AM,15/Dec/23 4:31 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, if you view the memberlist in responsive mode (screens less than 700px wide) the rank image is on the wrong side of the screen and has a line running through it.

 

I have added a screen shot to show this.

 

This can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
    /* User profile
    ----------------------------------------*/{code}
*Add Before:*
{code:java}
    .rtl table.responsive span.rank-img {
        float: none;
        padding-right: 0;
        padding-left: 5px;
    }{code}",,,,,,,,,,,,,,,,,"15/Dec/23 4:31 AM;ForumFlair;RTL - Memberlist Rank.png;https://tracker.phpbb.com/secure/attachment/22175/RTL+-+Memberlist+Rank.png",,,,,,,,,,,,,,,,,"0|i03og7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl table.responsive td > dfn:after"" RTL Table DFN Padding Rules",PHPBB-17269,38554,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 3:56 AM,15/Dec/23 4:08 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If you use an RTL language and you view the memberlist on a small screen (less than 700px - responsive mode) the colon is next to the username, post count and time rather than next to the title,

 

Example it currently displays... ""6:59pm: Joined"" rather than... ""6:59pm :Joined""

It should be... time > space > colon > joined - rather than... time > colon > space > joined.

I have added a screen shot to show this.

 

This can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
    .rtl table.responsive td {
        text-align: right !important;
    }{code}
*Add Below:*
{code:java}
    .rtl table.responsive td > dfn:after {
        padding-right: 0;
        padding-left: 5px;
    }{code}",,,,,,,,,,,,,,,,,"15/Dec/23 3:57 AM;ForumFlair;RTL - Memberlist.png;https://tracker.phpbb.com/secure/attachment/22174/RTL+-+Memberlist.png",,,,,,,,,,,,,,,,,"0|i03ofz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Subforum "".rtl ul.topiclist li.row dt a.subforum"" RTL Padding, Background And Position Rules Which Affect Subforum Spacing",PHPBB-17268,38553,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 3:21 AM,15/Dec/23 3:21 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file contains padding, background and position rules which are added to the li.row subforum class.

 

This makes the space between the subforums too big when using an RTL language.

 

The LTR version doesn't have this rule so it must have been left over from changes in the past.

 

*File:*
{code:java}
bidi.css
{code}
*Delete:*
{code:java}
.rtl ul.topiclist li.row dt a.subforum {
    padding-right: 12px;
    background-position: right;
    position: static;
}{code}",,,,,,,,,,,,,,,,,"15/Dec/23 3:16 AM;ForumFlair;RTL - Subforums.png;https://tracker.phpbb.com/secure/attachment/22173/RTL+-+Subforums.png",,,,,,,,,,,,,,,,,"0|i03ofr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Forumlist "".rtl ul.topiclist.forums dt .list-inner"" RTL Left Margin Rule Which Affects Subforums",PHPBB-17267,38552,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 3:05 AM,15/Dec/23 3:05 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file contains a 250px left margin which is added to the dt list inner class on small screens, (less than 700px - responsive mode) this stops the subforums from displaying correctly when using an RTL language.

The LTR version doesn't have this rule so it must have been left over from changes in the past.

 

I have added both LTR and RTL screen shots to show the differences.

 

*File:*
{code:java}
bidi.css
{code}
*Delete:*
{code:java}
    .rtl ul.topiclist.forums dt .list-inner {
        margin-left: 250px;
    }{code}",,,,,,,,,,,,,,,,,"15/Dec/23 3:04 AM;ForumFlair;LTR - Forumlist.png;https://tracker.phpbb.com/secure/attachment/22172/LTR+-+Forumlist.png","15/Dec/23 3:04 AM;ForumFlair;RTL - Forumlist.png;https://tracker.phpbb.com/secure/attachment/22171/RTL+-+Forumlist.png",,,,,,,,,,,,,,,,"0|i03ofj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Poll "".rtl ul.topiclist dd"" | "".rtl li.row:hover dd"" RTL Border Left Colour Rule",PHPBB-17266,38551,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 2:49 AM,15/Dec/23 2:59 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The colours.css file has an RTL rule for a left sided border colour on the topiclist but this is not needed as the bidi.css file has a rule in it which changes the left sided border to none.

 

*File:*
{code:java}
colours.css
{code}
*Find:*
{code:java}
.rtl ul.topiclist dd {
    border-right-color: #FFFFFF;
    border-left-color: transparent;
}{code}
 

*Change To:*
{code:java}
.rtl ul.topiclist dd {
    border-right-color: #FFFFFF;
}{code}
*Find:*
{code:java}
.rtl li.row:hover dd {
    border-right-color: #CCCCCC;
    border-left-color: transparent;
}{code}
*Change To:*
{code:java}
.rtl li.row:hover dd {
    border-right-color: #CCCCCC;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ofb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Poll "".rtl .pollbar1, .rtl .pollbar2, .rtl .pollbar3, .rtl .pollbar4, .rtl .pollbar5"" RTL Border Right Colour Rule",PHPBB-17265,38550,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,15/Dec/23 12:09 AM,15/Dec/23 2:45 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The colours.css file has an RTL rule for a right sided border colour on the poll result bar but this is not needed as the bidi.css file has a rule in it which changes the right sided border to none.

 

*File:*
{code:java}colours.css
{code}
*Delete:*
{code:java}.rtl .pollbar1, .rtl .pollbar2, .rtl .pollbar3, .rtl .pollbar4, .rtl .pollbar5 {
    border-right-color: transparent;
}{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03of3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .loading_indicator"" RTL Loading Indicator Position And Margin Rules",PHPBB-17264,38549,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,14/Dec/23 8:30 PM,14/Dec/23 8:30 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, the loading indicator that pops up when you press the delete cookies button is not positioned correctly.

 

This can be solved by adding a rule to the bidi.css file to match the one in the common.css file.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
/* Miscellaneous styles
---------------------------------------- */{code}
*Add Before:*
{code:java}
/* jQuery popups
---------------------------------------- */
.rtl .loading_indicator {
    margin-left: 0;
    margin-right: -50px;
    left: auto;
    right: 50%;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .site-description"" | "".logo"" RTL Site Description And Site Logo Float And Padding Rules",PHPBB-17220,38504,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 12:12 AM,14/Dec/23 6:57 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, the site name is not centred in responsive mode, also if you choose do display the logo in responsive mode, that is also not centred.

This can be solved by adding a rule to the bidi.css file to match the one in the responsive.css file.

 

I have added both LTR and RTL screen shots to show the differences.

 

*File:*
{code:java}bidi.css
{code}
*Find:*
{code:java}@media only screen and (max-width: 700px), only screen and (max-device-width: 700px)
{{code}
*Add Below:*
{code:java}    /* Logo block
    ----------------------------------------*/
    .rtl .site-description {
        float: none;
    }

    .rtl .logo {
        float: none;
        padding: 10px;
    } {code}",,,,,,,,,,,,,,,,,"14/Dec/23 6:37 PM;ForumFlair;LTR - Logo + Site Name.png;https://tracker.phpbb.com/secure/attachment/22167/LTR+-+Logo+%2B+Site+Name.png","14/Dec/23 6:37 PM;ForumFlair;LTR - Site Name.png;https://tracker.phpbb.com/secure/attachment/22168/LTR+-+Site+Name.png","14/Dec/23 6:37 PM;ForumFlair;RTL - Logo + Site Name.png;https://tracker.phpbb.com/secure/attachment/22169/RTL+-+Logo+%2B+Site+Name.png","14/Dec/23 6:37 PM;ForumFlair;RTL - Site Name.png;https://tracker.phpbb.com/secure/attachment/22170/RTL+-+Site+Name.png",,,,,,,,,,,,,,"0|i03o4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Pagination Ellipsis Span "".pagination li.ellipsis span"" Background Rule",PHPBB-17262,38547,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,14/Dec/23 2:09 AM,14/Dec/23 2:09 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The colours.css file has a transparent background rule on the pagination ellipsis span but it doesn't have any effect as there is no colour added to it anywhere else.

 

*File:*
{code:java}
colours.css{code}
*Find:*
{code:java}
.pagination li.ellipsis span {
    background: transparent;
    color: #000000;
}{code}
*Change To:*
{code:java}
.pagination li.ellipsis span {
    color: #000000;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oef:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Duplicate Back To Top "".top i"" Colour Rule",PHPBB-17261,38546,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,14/Dec/23 1:48 AM,14/Dec/23 1:48 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The colours.css file has a rule for the colour of the back to top icon on topics, this doesn't work because the icon has an ""icon-gray"" class assigned to it therefore the colour is overwritten by the rule for that instead.

 

*File:*
{code:java}
colours.css{code}
*Delete:*
{code:java}
/* Back to top of page */
.top i {
    color: #999999;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oe7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .signature ul, .rtl .signature ol"" RTL Lists In Signatures Margin Rule",PHPBB-17260,38545,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 11:21 PM,13/Dec/23 11:31 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If using an RTL language and you have a signature which contains a list - either OL or UL, it won't be displayed properly, due to a missing rule.

 

This can be solved by adding a rule to the bidi.css file to match the one in the content.css file.

 

I have attached both an LTR and an RTL screenshot to show the differences.

 

*File:*
{code:java}bidi.css
{code}
*Find:*
{code:java}.rtl .signature {
    clear: right;
}{code}
 

*Add Below:*
{code:java}.rtl .signature ul, .rtl .signature ol {
    margin: 0.8em 3em 0.9em 0;
}{code}",,,,,,,,,,,,,,,,,"13/Dec/23 11:30 PM;ForumFlair;LTR - Signature With List.png;https://tracker.phpbb.com/secure/attachment/22156/LTR+-+Signature+With+List.png","13/Dec/23 11:30 PM;ForumFlair;RTL - Signature With List.png;https://tracker.phpbb.com/secure/attachment/22157/RTL+-+Signature+With+List.png",,,,,,,,,,,,,,,,"0|i03odz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus "".rtl .post"" | "".post"" RTL And LTR Post Background Position And Background Repeat Rules",PHPBB-17259,38544,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 10:59 PM,13/Dec/23 10:59 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css and common.css files contain a background image rule on posts, this is probably left over from old versions that had border radius images and is no longer used.

 

*File:*
{code:java}
bidi.css
{code}
*Delete:*
{code:java}
/* Round cornered boxes and backgrounds
---------------------------------------- */
.rtl .post {
    background-position: 0 0;
}{code}
 

*File:*
{code:java}
common.css
{code}
*Find:*
{code:java}
.post {
    padding: 5px 10px;
    margin-bottom: 4px;
    background-repeat: no-repeat;
    background-position: 100% 0;
    border-radius: 7px;
    position: relative;
}{code}
*Change To:*
{code:java}
.post {
    padding: 5px 10px;
    margin-bottom: 4px;
    border-radius: 7px;
    position: relative;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03odr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl.hastouch .post-buttons"" RTL Has Touchscreen Post Button Margin Rules",PHPBB-17258,38543,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 4:02 AM,13/Dec/23 4:02 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language and a device with a touchscreen, if you view a topic, the post buttons are closer to the post profile than they are when using the standard LTR languages.

 

This can be solved by adding a rule to the bidi.css file to match the one in the buttons.css file.

 

I've added both an LTR and RTL screen shoot to show this.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
.rtl .post-buttons li {
    float: right;
}{code}
 

*Add Below:*
{code:java}
.rtl.hastouch .post-buttons {
    margin-right: 0;
    margin-left: 10px;
}{code}",,,,,,,,,,,,,,,,,"13/Dec/23 3:58 AM;ForumFlair;LTR - Has Touchscreen.png;https://tracker.phpbb.com/secure/attachment/22155/LTR+-+Has+Touchscreen.png","13/Dec/23 3:58 AM;ForumFlair;RTL - Has Touchscreen.png;https://tracker.phpbb.com/secure/attachment/22154/RTL+-+Has+Touchscreen.png",,,,,,,,,,,,,,,,"0|i03odj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Captcha "".captcha-panel dd.captcha"" RTL Margin Rule Mistake",PHPBB-17257,38542,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 3:37 AM,13/Dec/23 3:37 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"In the bidi.css file, the rule for the Captcha doesn't have .rtl in front of it like the rest of the rules in the bidi file.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
    .captcha-panel dd.captcha {
        margin-right: 0;
    }{code}
*Change To:*
{code:java}
    .rtl .captcha-panel dd.captcha {
        margin-right: 0;
    }{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03odb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .phpbb_alert .alert_close"" RTL Pop Up Box Close Icon Margin And Float Rules",PHPBB-17256,38541,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 3:29 AM,13/Dec/23 3:29 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, if you open a pop up box - example click the delete cookies button, the close button for the pop up box remains on the same side as it does on standard LTR languages.

 

This can be solved by adding a rule to the bidi.css to match the one in common.css

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.rtl .action-bar .dropdown-button-control .button {
    margin-left: 5px;
}{code}
*Add Below:*
{code:java}
.rtl .phpbb_alert .alert_close {
    float: left;
    margin-right: 0;
    margin-left: -36px;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03od3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Wrong "".rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd"" RTL Responsive Fieldset Margin Rule",PHPBB-17255,38540,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 3:15 AM,13/Dec/23 3:15 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has an incorrect margin size on the fieldset rules, this means that when using an RTL language, things like the subject box in responsive mode are not aligned correctly.

 

I have added screen shots of both LTR and RTL to show the difference.

 

*File:*

 
{code:java}
bidi.css
{code}
 

 

*Find:*

 
{code:java}
    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {
        margin-right: 20px;
    }{code}
 

 

*Change To:*

 
{code:java}
    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {
        margin-right: 0;
    }{code}
 

 ",,,,,,,,,,,,,,,,,"13/Dec/23 3:14 AM;ForumFlair;LTR - Post Subject.png;https://tracker.phpbb.com/secure/attachment/22153/LTR+-+Post+Subject.png","13/Dec/23 3:14 AM;ForumFlair;RTL - Post Subject.png;https://tracker.phpbb.com/secure/attachment/22152/RTL+-+Post+Subject.png",,,,,,,,,,,,,,,,"0|i03ocv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus Breadcrumb Span ""li.breadcrumbs span:first-child > a"" Padding Rule",PHPBB-17254,38539,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 2:51 AM,13/Dec/23 2:51 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has a padding 0 rule for the breadcrumb span but there is no padding there in the first place so it has no effect.

The rule is not in the standard LTR files either so it is probably leftover from something that was removed previously.

 

*File:*
{code:java}
bidi.css
{code}
*Delete:*
{code:java}
li.breadcrumbs span:first-child > a {
    padding-left: 0;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ocn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl ul.linklist li.responsive-menu"" RTL Responsive Quick Links Menu Icon Margin Rule",PHPBB-17253,38538,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 1:56 AM,13/Dec/23 1:56 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, the quick links burger menu icon in responsive mode has a different size margin than when using a standard LTR language, this can be solved by adding a rule to the bidi.css file to match the one in the common.css file.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.rtl ul.rightside {
    float: left;
    margin-left: -5px;
    margin-right: 5px;
    text-align: left;
}{code}
 

*Add Below:*
{code:java}
.rtl ul.linklist li.responsive-menu {
    margin: 0 0 0 5px;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ocf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix UCP h2 "".tabs-container h2"" RTL Float Rule Mistake.",PHPBB-17252,38537,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 1:10 AM,13/Dec/23 1:10 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The UCP tabs container h2 rule in the bidi.css file doesn't have .rtl in front of it like the rest of the rules.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.tabs-container h2 {
    float: right;
}{code}
 

*Change To:*
{code:java}
.rtl .tabs-container h2 {
    float: right;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .colour-palette td"" RTL Responsive Colour Palette Margin Rule",PHPBB-17251,38536,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 1:03 AM,13/Dec/23 1:03 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language and creating a topic using a small screen (less than 700px) the colour palette isn't positioned correctly as the bidi.css file is missing the margin rule for it.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
    .rtl fieldset dd, .rtl fieldset.fields1 dd, .rtl fieldset.fields2 dd {
        margin-right: 20px;
    }{code}
*Add Below:*
{code:java}
    .rtl .colour-palette td {
        margin-right: 0;
        margin-left: 2px;
    }{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03obz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Wrong "".rtl .caret"" RTL Caret Right Position Rule",PHPBB-17250,38535,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,13/Dec/23 12:32 AM,13/Dec/23 12:32 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has an RTL position rule for the caret but it doesn't match the standard LTR rule.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.rtl .caret {
    border-right: 1px solid;
    border-right-color: inherit;
    border-left: none;
    right: 6px;
}{code}
*Change To:*
{code:java}
.rtl .caret {
    border-right: 1px solid;
    border-right-color: inherit;
    border-left: none;
    left: -6px;
    right: auto;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03obr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .back2top .top"" RTL Back To Top Margin Rule",PHPBB-17249,38534,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 11:56 PM,12/Dec/23 11:56 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language the back to top button on posts has a margin applied to both sides of it.

 

This is due to a missing rule in the bidi.css file, the bidi file usually removes the margin from one side and adds it to the other but for this rule it has added the margin to one side but hasn't removed it from the other.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
.rtl .back2top .top {
    float: left;
    margin-left: -10px;
}{code}
 

*Change To:*
{code:java}
.rtl .back2top .top {
    float: left;
    margin-right: 0;
    margin-left: -10px;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03obj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl blockquote cite:before, .rtl .uncited:before"" RTL Quote Block Cite Quote Icon Padding Rule",PHPBB-17246,38531,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 7:37 PM,12/Dec/23 11:50 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language and viewing a topic which contains a block quote, the cite quote icon has padding applied to both sides of it.

This is due to a missing rule in the bidi.css file, the bidi file usually removes the padding from one side and adds it to the other but for this rule it has added the padding to one side but hasn't removed it from the other.

 

*File:*
{code:java}bidi.css
{code}
*Find:*
{code:java}.rtl blockquote cite:before, .rtl .uncited:before {
    padding-left: 5px;
}{code}
*Change To:*
{code:java}.rtl blockquote cite:before, .rtl .uncited:before {
    padding-right: 0;
    padding-left: 5px;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oav:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus "".rtl .row .pagination"" RTL Row Pagination Background Position Rule",PHPBB-17248,38533,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 10:11 PM,12/Dec/23 10:11 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file has a surplus background position rule on the row pagination, probably left over from previous changes.

 

It can be removed by following the step below,

 

*File:*

 
{code:java}
bidi.css
{code}
 

 

*Find:*

 
{code:java}
.rtl .row .pagination {
    background-position: 100% 50%;
    float: left;
    padding-left: 0;
    padding-right: 15px;
}{code}
 

 

*Change To:*

 
{code:java}
.rtl .row .pagination {
    float: left;
    padding-left: 0;
    padding-right: 15px;
}{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03obb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Wrong "".rtl .has-profile .post-buttons"" RTL Responsive Post Buttons Left Rule",PHPBB-17247,38532,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 8:58 PM,12/Dec/23 8:58 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language and viewing a post in responsive mode, the gap between the edge of the post and the responsive post buttons is smaller than when using a standard LTR language.

 

This is caused by the bidi.css file which adjusts the left position to 20px, it should be 30px.

 

I have added both an RTL and an LTR screen shot to show this.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
    .rtl .has-profile .post-buttons {
        left: 20px;
    }{code}
*Change To:*
{code:java}
    .rtl .has-profile .post-buttons {
        left: 30px;
    }{code}",,,,,,,,,,,,,,,,,"12/Dec/23 8:57 PM;ForumFlair;LTR - Responsive Post Buttons.png;https://tracker.phpbb.com/secure/attachment/22151/LTR+-+Responsive+Post+Buttons.png","12/Dec/23 8:58 PM;ForumFlair;RTL - Responsive Post Buttons.png;https://tracker.phpbb.com/secure/attachment/22150/RTL+-+Responsive+Post+Buttons.png",,,,,,,,,,,,,,,,"0|i03ob3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl blockquote cite > span"" RTL Quote Block Cite Float Rule",PHPBB-17245,38530,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 7:24 PM,12/Dec/23 7:24 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If using an RTL language and viewing a topic which includes quotes, the block quote cite (username and time) are next to each other on the same side rather than on each side like in the standard LTR languages.

 

This is due to a missing float rule in the bidi.css file.

 

I have added screen shots of both LTR and RTL to show the problem.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
.rtl blockquote cite:before, .rtl .uncited:before {
    padding-left: 5px;
}{code}
 

*Add Below:*
{code:java}
.rtl blockquote cite > span {
    float: left;
}{code}",,,,,,,,,,,,,,,,,"12/Dec/23 7:24 PM;ForumFlair;LTR - Quote Block Cite.png;https://tracker.phpbb.com/secure/attachment/22149/LTR+-+Quote+Block+Cite.png","12/Dec/23 7:24 PM;ForumFlair;RTL - Quote Block Cite.png;https://tracker.phpbb.com/secure/attachment/22148/RTL+-+Quote+Block+Cite.png",,,,,,,,,,,,,,,,"0|i03oan:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Wrong "".rtl blockquote"" RTL Quote Block Margin Rules",PHPBB-17244,38529,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 7:09 PM,12/Dec/23 7:19 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If using an RTL language and viewing a topic which contains a quote or nested block quotes - the margins are too small and look squashed compared to when using an LTR language.

 

This is caused by the bidi.css file as the margins defined in that file are smaller than the margins defined in the content.css file.

 

I have added screen shots that show both LTR and RTL so you can see the difference.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
/* Quote block */
.rtl blockquote {
    margin: 0.5em 25px 0 1px;
}{code}
*Change To:*
{code:java}
/* Quote block */
.rtl blockquote {
    margin: 1em 25px 1em 1px;
}{code}
 

*Find:*
{code:java}
.rtl blockquote blockquote {
    /* Nested quotes */
    margin: 0.5em 15px 0 1px;
}{code}
*Change To:*
{code:java}
.rtl blockquote blockquote {
    /* Nested quotes */
    margin: 1em 15px 1em 1px;
}{code}",,,,,,,,,,,,,,,,,"12/Dec/23 7:08 PM;ForumFlair;LTR - Quote Block Margins.png;https://tracker.phpbb.com/secure/attachment/22147/LTR+-+Quote+Block+Margins.png","12/Dec/23 7:08 PM;ForumFlair;RTL - Quote Block Margins.png;https://tracker.phpbb.com/secure/attachment/22146/RTL+-+Quote+Block+Margins.png",,,,,,,,,,,,,,,,"0|i03oaf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl fieldset.fields1 dd.recipients"" RTL Private Message Recepients Clear And Margin Rules.",PHPBB-17243,38528,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 6:49 PM,12/Dec/23 6:49 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If you are composing a private message when using an RTL language, the recipients names are not correctly aligned under the 'recipients' heading like they are when using a standard LTR language, instead they are almost next to the heading.

 

I have added screen shots of both LTR and RTL so you can see the difference.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
.rtl dl.details dd {
    margin-right: 0;
    margin-left: 0;
    padding-right: 5px;
    padding-left: 0;
    float: right;
}{code}
 

*Add Below:*
{code:java}
.rtl fieldset.fields1 dd.recipients {
    clear: right;
    margin-left: 0;
    margin-right: 1em;
}{code}",,,,,,,,,,,,,,,,,"12/Dec/23 6:43 PM;ForumFlair;LTR - Compose Message - Recipients.png;https://tracker.phpbb.com/secure/attachment/22145/LTR+-+Compose+Message+-+Recipients.png","12/Dec/23 6:43 PM;ForumFlair;RTL - Compose Message - Recipients.png;https://tracker.phpbb.com/secure/attachment/22144/RTL+-+Compose+Message+-+Recipients.png",,,,,,,,,,,,,,,,"0|i03oa7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Fix Missing "".rtl .action-bar > .pagination"" RTL Pagination 500px Responsive Float And Text Align Rules",PHPBB-17242,38527,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 6:14 PM,12/Dec/23 6:41 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"On small screens, (below 500px) the pagination becomes centred but if you use an RTL language the pagination does not become centred due to a missing float and text align rule in the bidi.css file.

 

I have added screen shots of both LTR and RTL so you can see the difference.

 

*File:*
{code:java}
bidi.css
{code}
*Find:*
{code:java}
    .rtl p.responsive-center {
        float: none;
        text-align: center;
        margin-bottom: 5px;
    } {code}
*Add Below:*
{code:java}
    .rtl .action-bar > .pagination {
        float: none;
        text-align: center;
    }{code}",,,,,,,,,,,,,,,,,"12/Dec/23 6:15 PM;ForumFlair;LTR - Responsive Pagination.png;https://tracker.phpbb.com/secure/attachment/22142/LTR+-+Responsive+Pagination.png","12/Dec/23 6:15 PM;ForumFlair;RTL - Responsive Pagination.png;https://tracker.phpbb.com/secure/attachment/22143/RTL+-+Responsive+Pagination.png",,,,,,,,,,,,,,,,"0|i03o9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Duplicate Search "".rtl .search-box .inputbox"" RTL Padding Rule",PHPBB-17241,38526,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 5:24 PM,12/Dec/23 5:24 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The bidi.css file contains a duplicate padding rule on the search-box inputbox class.

 

The forms.css file contains a rule which does the same and is the one anyone working on a style would adjust.

 

It's trivial and makes no difference if it is there or not, removing it from the bidi.css file saves a bit of space and saves any confusion.

 

*File:*
{code:java}
bidi.css
{code}
 

*Find:*
{code:java}
.rtl .search-box .inputbox {
    border-left-width: 0;
    border-right-width: 1px;
    border-radius: 0 4px 4px 0;
    float: right;
    padding: 3px;
}{code}
*Change To:*
{code:java}
.rtl .search-box .inputbox {
    border-left-width: 0;
    border-right-width: 1px;
    border-radius: 0 4px 4px 0;
    float: right;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o9r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove Surplus ""h1"" 200px margin-right Rules",PHPBB-17240,38525,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,12/Dec/23 4:59 PM,12/Dec/23 4:59 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"There is a rule in the common.css file which adds a right sided margin to the H1 but further down the file there is a rule which removes that margin.

 

There is also a rule in the bidi.css file which changes the above right sided margin to a left sided margin but further down the page there is also a rule which removes it.

 

As it is not being used it is just adding clutter to the 2 files so it could be removed.

 

 

*File:* common.css

 

*Find:*
{code:java}
h1 {
    /* Forum name */
    font-family: ""Trebuchet MS"", Arial, Helvetica, sans-serif;
    margin-right: 200px;
    margin-top: 15px;
    font-weight: bold;
    font-size: 2em;
}{code}
 

*Change To:*
{code:java}
h1 {
    /* Forum name */
    font-family: ""Trebuchet MS"", Arial, Helvetica, sans-serif;
    margin-top: 15px;
    font-weight: bold;
    font-size: 2em;
}{code}
 

*Delete:*
{code:java}
.site-description h1 {
    margin-right: 0;
}{code}
-----------------------------------------------------------------------------------

 

*File:* bidi.css

 

*Delete:*
{code:java}
.rtl h1 {
    margin-right: 0;
    margin-left: 200px;
}{code}
 

*Delete:*
{code:java}
.rtl .site-description h1 {
    margin-left: 0;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o9j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Trying to report a deleted post,PHPBB-17234,38518,,Bug,Awaiting Information,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,halil16,halil16,28/Nov/23 4:02 PM,06/Dec/23 8:05 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"I received the following error when trying to report for a deleted post. Actually, I first opened the report link in a new tab and then deleted that topic and when I wanted to continue giving papers...

 

*BACKTRACE*

*FILE: (not given by php)*
*LINE: (not given by php)*
*CALL: msg_handler()*

*FILE: [ROOT]/includes/functions_module.php*
*LINE: 565*
*CALL: trigger_error()*

*FILE: [ROOT]/mcp.php*
*LINE: 345*
*CALL: p_master->load_active()*",,,,,,,,,,,,,,,,,"03/Dec/23 3:28 PM;rxu;image-2023-12-03-22-28-35-491.png;https://tracker.phpbb.com/secure/attachment/22141/image-2023-12-03-22-28-35-491.png",,,,,,,,,,,,,,,,,"0|i03o7z:",,,,,,,,,,,,,,"03/Dec/23 3:30 PM;rxu;Couldn't reproduce with described steps. It just reports this (see the screenshot). Probably there's something additional you forgot to mention to reproduce the issue? And are there any extensions installed on your board which could interfere with this?

!image-2023-12-03-22-28-35-491.png!;;;",,,,,,,,,,,,,,,,,,,,,
Prosilver <option> Padding Has No Effect,PHPBB-17226,38510,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,18/Nov/23 5:06 AM,18/Nov/23 5:06 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"In the forms.css and bidi,css stylesheets, there are some rules that add padding to the <option> class.

Padding can't be added to <option> so these rules have no effect,

 

Can it be deleted?

 

*File:*

 
{code:java}
forms.css
{code}
 

 

*Delete:*

 
{code:java}
option {
    padding-right: 1em;
}{code}
 

 

*Find:*

 
{code:java}
select optgroup option {
    padding-right: 1em;
    font-family: Verdana, Helvetica, Arial, sans-serif;
}{code}
 

 

*Change To:*

 
{code:java}
select optgroup option {
    font-family: Verdana, Helvetica, Arial, sans-serif;
}{code}
 

 

 

*File:*

 
{code:java}
bidi.css
{code}
 

 

*Delete:*

 
{code:java}
.rtl option {
    padding-right: 0;
    padding-left: 1em;
}{code}
 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o67:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
bg1 / bg2 Classes Not Working On Manage Groups Template,PHPBB-17225,38509,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 1:48 AM,17/Nov/23 1:48 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When viewing the list of groups on the manage groups page of the UCP, the group backgrounds are the same colour but the template contains if statements which indicates they are supposed to use the bg1 and bg2 classes, the reason it doesn't work is because the if statement is not for this template.

 

*File:*
{code:java}
ucp_groups_manage.html{code}
*Find:*
{code:java}
<li class=""row<!-- IF attachrow.S_ROW_COUNT is odd --> bg1<!-- ELSE --> bg2<!-- ENDIF -->"">{code}
*Change To:*
{code:java}
<li class=""row<!-- IF leader.S_ROW_COUNT is odd --> bg1<!-- ELSE --> bg2<!-- ENDIF -->"">{code}",,,,,,,,,,,,,,,,,"17/Nov/23 1:48 AM;ForumFlair;Manage_Groups.png;https://tracker.phpbb.com/secure/attachment/22132/Manage_Groups.png",,,,,,,,,,,,,,,,,"0|i03o5z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Duplicate Mark CSS Rule In Responsive Stylesheet,PHPBB-17224,38508,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 1:30 AM,17/Nov/23 1:30 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"In the responsive stylesheet, there is a display: block rule for dd.mark on line 224, but the rule for dd.mark below it on line 234 has the same block rule in it.

 

*File:*

 
{code:java}
responsive.css{code}
 

 

*Delete:* (line 224)

 
{code:java}
    ul.topiclist dd.mark {
        display: block;
    }{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RTL: Small Mistake In Search Button Float CSS,PHPBB-17223,38507,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 1:20 AM,17/Nov/23 1:20 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"Totally trivial but one of the rules in the bidi stylesheet doesn't have .rtl in front of it like the rest of them.

 

*File:*
{code:java}
bidi.css{code}
 

*Find:*
{code:java}
.rtl .button-search,
.button-search-end {
    float: right;
}{code}
*Change To:*
{code:java}
.rtl .button-search,
.rtl .button-search-end {
    float: right;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o5j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RTL: Responsive Post Buttons Not Positioned Correctly In Dropdown ,PHPBB-17222,38506,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 1:13 AM,17/Nov/23 1:13 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language and viewing in responsive mode, if you click the responsive post button dropdown trigger, the icons and text alignment in the dropdown are incorrect.

 

This can be solved by making a small change to the bidi stylesheet.

 

*File:*
{code:java}
bidi.css{code}
*Find:*
{code:java}
.rtl .caret {
    border-right: 1px solid;
    border-right-color: inherit;
    border-left: none;
    right: 6px;
}{code}
 

*Add Below:*
{code:java}
.rtl .post-buttons .dropdown a {
    text-align: left;
}

/**
* icons.css
*/
.rtl .post-buttons .dropdown-contents .icon {
    float: left;
    margin-left: 0;
    margin-right: 5px;
}{code}",,,,,,,,,,,,,,,,,"17/Nov/23 1:12 AM;ForumFlair;LTR_Responsive_Post_Buttons.png;https://tracker.phpbb.com/secure/attachment/22131/LTR_Responsive_Post_Buttons.png","17/Nov/23 1:12 AM;ForumFlair;RTL_Responsive_Post_Buttons.png;https://tracker.phpbb.com/secure/attachment/22130/RTL_Responsive_Post_Buttons.png",,,,,,,,,,,,,,,,"0|i03o5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RTL: Incorrect Margin Between Last Visit / Current Time In Responsive Mode,PHPBB-17221,38505,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,17/Nov/23 12:59 AM,17/Nov/23 1:00 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosivler,,,,,,,"When using an RTL language and viewing in responsive mode, there is a 5px margin between the last visit / current time.

The margin is not there when using an LTR language.

 

I think the margin is supposed to be there - so the issue is with the responsive stylesheet but due to the points below the fix is tricky.

 

In the *responsive.css* stylesheet, the 500px media query is above the 700px media query.

(this is the wrong order and causes issues if both the 500px + 700px query have a rule for the p class)

 

In the *bidi.css* stylesheet, the 500px media query is below the 700px media query.

(this is the correct order)

 

If the 500px media query and its contents in the responsive.css stylesheet are moved below the 700px media query - the problem is solved.

 

For my base style I moved all the media queries in to the correct order from high to low in the responsive.css stylesheet but that required some testing but it may not be practical for you to spend time implementing this change just to fix a 5px margin if Prosilver is going to be phased out soon.",,,,,,,,,,,,,,,,,"17/Nov/23 12:57 AM;ForumFlair;LTR_Last_Visit.png;https://tracker.phpbb.com/secure/attachment/22129/LTR_Last_Visit.png","17/Nov/23 12:57 AM;ForumFlair;RTL_Last_Visit.png;https://tracker.phpbb.com/secure/attachment/22128/RTL_Last_Visit.png",,,,,,,,,,,,,,,,"0|i03o53:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RTL: Remove Surplus PM Post Profile Border CSS Rule,PHPBB-17219,38503,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 11:05 PM,16/Nov/23 11:05 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"When using an RTL language, if you view a PM there a line of code in the bidi stylesheet for the post profile border which is not used because the rule above it for all post profiles does the same thing.

 

*File:*
{code:java}
bidi.css{code}
*Delete:*
{code:java}
.rtl .pm .postprofile {
    border-right-width: 1px;
    border-right-style: solid;
    border-left: none;
}{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o4n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
RTL: Ordered Lists In The Forum Rules Box Don't Display Properly,PHPBB-17218,38502,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 11:01 PM,16/Nov/23 11:01 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"Ordered lists in the forum rules box don't display properly when using an RTL language, this can be solved by making a quick change to the bidi stylesheet.

 

*File:*
{code:java}
bidi.css{code}
*Find:*
{code:java}
.rtl div.rules ul {
    margin-left: 0;
    margin-right: 20px;
}{code}
 

*Change To:*
{code:java}
.rtl div.rules ul, .rtl div.rules ol {
    margin-left: 0;
    margin-right: 20px;
}{code}",,,,,,,,,,,,,,,,,"16/Nov/23 11:00 PM;ForumFlair;Ordered_List_Rules_RTL-1.png;https://tracker.phpbb.com/secure/attachment/22126/Ordered_List_Rules_RTL-1.png",,,,,,,,,,,,,,,,,"0|i03o4f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Duplicate Caret Colour CSS,PHPBB-17217,38501,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 10:52 PM,16/Nov/23 10:52 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The colours CSS stylesheet has a caret colour specified on line 625, yet also has a different colour specified on line 626.

 

I have opted to delete the first one on line 625 as that is the one that nobody can see.

 

*File:*
{code:java}
colours.css{code}
*Delete:*
{code:java}
.caret    { border-color: #DADADA; }{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o47:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Surplus Button3 CSS,PHPBB-17216,38500,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 10:48 PM,16/Nov/23 10:48 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"There is some button3 CSS in the colours and forms stylesheets but there doesn't seem to be any button3 in the the phpBB files except these CSS references.

 

*File:*
{code:java}
colours.css{code}
 

*Delete:*
{code:java}
input.button3 {
    background-image: none;
}{code}
 

*Find:*
{code:java}
a.button1, input.button1, input.button3, a.button2, input.button2 {{code}
 

*Change To:*
{code:java}
a.button1, input.button1, a.button2, input.button2 {{code}
 

*Find:*
{code:java}
a.button2, input.button2, input.button3 {{code}
 

*Change To:*
{code:java}
a.button2, input.button2 {{code}
 

*Find:*
{code:java}
a.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover, input.button3:hover {{code}
*Change To:*
{code:java}
a.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover {{code}
*Find:*
{code:java}
input.button1:focus, input.button2:focus, input.button3:focus {{code}
 

*Change To:*
{code:java}
input.button1:focus, input.button2:focus {{code}
 

*File:*
{code:java}
forms.css{code}
*Delete:*
{code:java}
input.button3 {
    padding: 0;
    margin: 0;
    line-height: 5px;
    height: 12px;
    background-image: none;
    font-variant: small-caps;
}{code}
*Find:*
{code:java}
a.button1, input.button1, input.button3, a.button2, input.button2 {{code}
*Change To:*
{code:java}
a.button1, input.button1, a.button2, input.button2 {{code}
*Find:*
{code:java}
a.button2, input.button2, input.button3 {{code}
*Change To:*
{code:java}
a.button2, input.button2 {{code}
 

*Find:*
{code:java}
a.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover, input.button3:hover {{code}
*Change To:*
{code:java}
a.button1:hover, input.button1:hover, a.button2:hover, input.button2:hover {{code}
*Find:*
{code:java}
input.button1:focus, input.button2:focus, input.button3:focus {{code}
*Change To:*
{code:java}
input.button1:focus, input.button2:focus {{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o3z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Duplicate Jumpbox CSS,PHPBB-17215,38499,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 9:51 PM,16/Nov/23 9:51 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"There is some duplicate CSS for the jumpbox in the common stylesheet.

 

*File:*
{code:java}common.css{code}
 

*Delete:*
{code:java}.dropdown-contents a {
    display: block;
    padding: 5px;
}{code}
 

*Delete:*
{code:java}.jumpbox .dropdown-select {
    margin: 0;
}{code}
 

*Delete:*
{code:java}.jumpbox .dropdown-contents a {
    text-decoration: none;
}{code}
 

*Note:*

The last one can be deleted because line 514 includes a text-decoration: none;",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove Unused Background Image CSS From Search Input,PHPBB-17214,38498,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 9:43 PM,16/Nov/23 9:49 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The background search icon image was replaced with an FA icon when phpBB 3.2 was released.

There is some left over unused CSS in the forms stylesheet.

 

*File:*
{code:java}forms.css{code}
 

 

*Find:*
{code:java}.search-box .inputbox {
    background-image: none;
    border-right-width: 0;
    border-radius: 4px 0 0 4px;
    float: left;
    height: 24px;
    padding: 3px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}{code}
 

 

*Change To:*
{code:java}.search-box .inputbox {
    border-right-width: 0;
    border-radius: 4px 0 0 4px;
    float: left;
    height: 24px;
    padding: 3px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
}{code}
 

 

*Delete:*
{code:java}input.search {
    background-image: none;
    background-repeat: no-repeat;
    background-position: left 1px;
    padding-left: 17px;
}{code}
 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add <dfn> To UCP Attachments List Download Count,PHPBB-17213,38497,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,16/Nov/23 9:35 PM,16/Nov/23 9:35 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"Probably not classed as a bug but the 'post count' 'reply count' 'reply count' 'view count' on the forum and topic lists have a <dfn> before them for screen readers etc.

 

Would adding one to the download count be beneficial to screen readers?

 

*File:*
{code:java}
ucp_attachments.html{code}
 

*Find:*
{code:java}
<dd class=""extra"">{attachrow.DOWNLOAD_COUNT}</dd>{code}
 

*Change To:*
{code:java}
<dd class=""extra""><dfn>{L_DOWNLOADS}</dfn>{attachrow.DOWNLOAD_COUNT}</dd>{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o3b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Duplicate Box Sizing Rule In content.css,PHPBB-17210,38493,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,04/Nov/23 11:02 PM,04/Nov/23 11:16 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"There is a duplicate box sizing rule in the content.css file.

 

*Line 125:*
{code:java}
li.header dd {
    padding-left: 1px;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} {code}
*Can be changed to:*
{code:java}
li.header dd {
    padding-left: 1px;
} {code}
 

The box sizing rule further down on line 66 covers both the li.row and li.header.

 

*Line 66:*
{code:java}
ul.topiclist dd {
    border-left: 1px solid transparent;
    padding: 4px 0;
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
} {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o2f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Empty Span & Colour In The HTML On Groups Without A Colour In The UCP Manage Groups Page,PHPBB-17211,38494,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,04/Nov/23 11:15 PM,04/Nov/23 11:15 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"If you go to manage groups in the UCP and the group you are managing does not have a colour assigned, there is an empty span and white space between the group colour box and the web safe colour swatch link.

 

Making the following edit to the ucp_groups_manage.html template would cure this:

 

*Find:*
{code:java}
<span style=""background-color: #{GROUP_COLOUR};"">&nbsp;&nbsp;&nbsp;</span> {code}
*Change To:*
{code:java}
<!-- IF GROUP_COLOUR --><span style=""background-color: #{GROUP_COLOUR};"">&nbsp;&nbsp;&nbsp;</span><!-- ENDIF --> {code}",,,,,,,,,,,,,,,,,"04/Nov/23 11:15 PM;ForumFlair;phpBB - User Control Panel - Manage Groups.png;https://tracker.phpbb.com/secure/attachment/22122/phpBB+-+User+Control+Panel+-+Manage+Groups.png",,,,,,,,,,,,,,,,,"0|i03o2n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Link in description says it all,PHPBB-17199,38482,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,stevemaury,stevemaury,06/Oct/23 6:49 PM,06/Oct/23 6:49 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,ACP,,,,,,0,,,,,,,,https://www.phpbb.com/community/viewtopic.php?p=15977104#p15977104,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nzz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Move contact admin/email modes from memberlist to controllers,PHPBB-15811,35503,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,28/Sep/18 1:38 PM,23/Sep/23 1:56 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ekf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Usernotes not showing in mcp_post.html template,PHPBB-17177,38447,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,21/Aug/23 1:36 AM,21/Aug/23 1:36 AM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Styles,,,,,,0,prosilver,,,,,,,"In the mcp_post.html template file, there appears to be a user notes section, see:

 
{code:java}
    <!-- IF S_SHOW_USER_NOTES -->
        <div class=""panel"" id=""usernotes"">
            <div class=""inner"">            <form method=""post"" id=""mcp_notes"" action=""{U_POST_ACTION}"">            <!-- IF S_USER_NOTES -->
                <h3>{L_FEEDBACK}</h3>                <!-- BEGIN usernotes -->
                    <span class=""small""><strong>{L_REPORTED_BY}{L_COLON} {usernotes.REPORT_BY} &laquo; {usernotes.REPORT_AT}</strong></span>
                    <!-- IF S_CLEAR_ALLOWED --><div class=""right-box""><input type=""checkbox"" name=""marknote[]"" value=""{usernotes.ID}"" /></div><!-- ENDIF -->
                    <div class=""postbody"">{usernotes.ACTION}</div>                    <hr class=""dashed"" />
                <!-- END usernotes -->                <!-- IF S_CLEAR_ALLOWED -->
                    <fieldset class=""submit-buttons"">
                        <input class=""button2"" type=""submit"" name=""action[del_all]"" value=""{L_DELETE_ALL}"" />&nbsp;
                        <input class=""button2"" type=""submit"" name=""action[del_marked]"" value=""{L_DELETE_MARKED}"" />
                    </fieldset>
                <!-- ENDIF -->
            <!-- ENDIF -->            <h3>{L_ADD_FEEDBACK}</h3>
            <p>{L_ADD_FEEDBACK_EXPLAIN}</p>            <fieldset>
                <textarea name=""usernote"" rows=""4"" cols=""76"" class=""inputbox""></textarea>
            </fieldset>            <fieldset class=""submit-buttons"">
                <input class=""button1"" type=""submit"" name=""action[add_feedback]"" value=""{L_SUBMIT}"" />&nbsp;
                <input class=""button2"" type=""reset"" value=""{L_RESET}"" />
                {S_FORM_TOKEN}
            </fieldset>
            </form>            </div>
        </div>
    <!-- ENDIF --> {code}
This doesn't seem to show up,  I have tried everything I can think of with notes, warnings, reports etc and it still doesn't appear.

 

Is this a bug? or am I missing something?

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nuf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Forum Management does not have locking,PHPBB-13611,30580,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,naderman,naderman,14/Feb/15 12:51 PM,31/Jul/23 6:49 PM,08/Nov/25 11:12 AM,,3.1.3,,,,,,ACP,,,,,,0,,,,,,,,"If you execute a relatively slow / long running operation like forum deletion, users may be confused by the lack of response and rerun the operation. There should be some locking mechanism for these operations to prevent them from being run simultaneously.

{code}Forum #11 does not exist

BACKTRACE

FILE: (not given by php)
LINE: (not given by php)
CALL: msg_handler()
FILE: [ROOT]/includes/acp/acp_forums.php
LINE: 889
CALL: trigger_error()
FILE: [ROOT]/includes/acp/acp_forums.php
LINE: 1409
CALL: acp_forums->get_forum_info()
FILE: [ROOT]/includes/acp/acp_forums.php
LINE: 93
CALL: acp_forums->delete_forum()
FILE: [ROOT]/includes/functions_module.php
LINE: 529
CALL: acp_forums->main()
FILE: [ROOT]/adm/index.php
LINE: 73
CALL: p_master->load_active()
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i008ev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
incomplete documentation on installing language packs,WEBSITE-1424,38424,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,warmweer,warmweer,05/Jul/23 5:02 PM,05/Jul/23 5:10 PM,08/Nov/25 11:12 AM,,,,,,,,Knowledge base,,,,,,0,,,,,,,,"h2. The directory /ext in a language pack is not mentioned in the installation instructions
h2. [url=https://www.phpbb.com/support/docs/en/3.3/kb/article/how-to-install-a-language-pack/]How to Install a Language Pack[/url]

Now that you have the compressed language pack on your computer, you will need to extract (unzip) it. The extracted archive should contain 2 folders:

/language
/styles",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03npb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Template functions PascalCase,PHPBB-16244,36264,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,Hanakin,mrgoldy,mrgoldy,03/Dec/19 1:38 PM,21/Jun/23 8:47 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Template Engine,,,,,,0,,,,,,,,"Template functions, such as \{{ lang('') }}, need be be PascalCase.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hl3:",,,,,,,,,,,,,,"03/Dec/19 4:56 PM;VSE;according to who???;;;","03/Dec/19 5:20 PM;mrgoldy;According to @hanakin

https://github.com/phpbb/phpbb/pull/5413#discussion_r264821816;;;","03/Dec/19 6:05 PM;Hanakin;wait what when did I say that? Completely forgot about that TBH. Not sure lang counts but I guess so ;;;","03/Dec/19 7:09 PM;VSE;Well if we want to guarantee extension incompatibility between 3 and 4... this is a good start :P

 ;;;","03/Dec/19 10:29 PM;Hanakin;Well we should still allow for the old way;;;","03/Dec/19 10:35 PM;rubencm;For me, it shoud be snake case (like all other twig functions)

https://twig.symfony.com/doc/3.x/;;;","03/Dec/19 10:40 PM;VSE;Agree with Ruben. Should be the same as twigs own Functions for consistency. ;;;","04/Dec/19 12:52 AM;mrgoldy;Hey, don't shoot the messenger. 

So.. any final decision on this on what we're going with?;;;","04/Dec/19 1:05 AM;Hanakin;I am fine with `one_two_three` the issue is with class name conflicts. The specific example was with the `jumpbox` function `jump_box` would have worked as well... As I stated above lang is not really something I had an issue with. We just need some sort of guidelines or naming conventions for the functions that may be utilized in the templates to avoid issues when using find replace and other sorts of searches.;;;","04/Dec/19 1:08 AM;VSE;convention should be to stick with phpBB's long held convention, which luckily in this case, is the same as Twigs... one_two_three :)

 ;;;","04/Dec/19 1:27 AM;Hanakin;That does not solve anything...There still needs to be something in documentation possibly that prevents the use of functions that could conflict with class names. case in point the most recent Icon function i can search for icon which is a class name or Icon which is a function call...I need to be able to differentiate between them. The original discussion I had with @Marc was to avoid the issues by establishing phpBBs convention for php, css, & js to avoid naming conflicts.

JS & css have well established naming conventions for things where php does not it allows for both snake and pascal;;;","04/Dec/19 1:27 AM;3Di;As per Matt and Ruben here, one_two_three.;;;","04/Dec/19 1:33 AM;VSE;Well, I was referring to our long standing and documented conventions for phpBB, which cover PHP and JS (function names and class names)

http://area51.phpbb.com/docs/32x/coding-guidelines.html#namingvars;;;","04/Dec/19 1:36 AM;VSE;We shouldn't invent new naming conventions because a class and function could have the same name. Just come up with a unique class or function name while using our current conventions. ie: twig_icon() (not just icon() if that's going to be a problem);;;","04/Dec/19 2:03 AM;Hanakin;Those are outdated docs someone needs to rebuild sphinx docs for master https://github.com/phpbb/documentation/tree/master/development/development/php. 

That would solve the problem as well but that means lang would become twig_lang and jumpbox twig_jumpbox?

Still would required adding a section to the docs related to twig functions;;;","04/Dec/19 6:09 AM;VSE;Why would lang change? lang is the function name. language is the class name. Also, you said it yourself before - jump_box is fine (although jumpbox should be too). 

 
{noformat}
case in point the most recent Icon function i can search for icon which is a class name or Icon which is a function call{noformat}
I hope you're not saying you want change existing function names or our naming conventions to make searching phpBB's codebase a little easier?;;;","04/Dec/19 9:22 AM;mrgoldy;Well one of the two has to change. Cause Icon is currently capitalized. And searching for a function is easier when including the first parentheses, or ctrl+b in the Storm :P;;;","04/Dec/19 4:17 PM;SiteSplat;nonsense, shouldn't even be at this point of the discussion... same as Twigs... one_two_three w_t_f (sorry no pun intended :P )

 ;;;","04/Dec/19 5:58 PM;Hanakin;its not just a searching issue. its also a comprehension issue as you have both a function and a class in the same space in the codebase adding to confusion for maintenance. jumpbox is not fine as its the class name. you also have situations where the js name also matches. The issue arise when search for the css not the functions. but either way it still makes the legibility of the templates more confusing which is why we originally agreed on the change to further delineate and separate concerns. So either way something has to change. We can stop discussing this here though for now.

I will put up a post on the area51 when I get time detailing everything for better clarity and review and post the link here once I do.

This is not a blocker or pressing concern so it can wait.;;;","05/Dec/19 8:02 PM;Hanakin;Please see https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=72381 for a proper disscussion;;;",,
BCC Recipients Don't Show Up When Editing A PM,PHPBB-17138,38405,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,ForumFlair,ForumFlair,18/May/23 1:45 AM,18/May/23 1:48 AM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Private Messages (PM),,,,,,0,prosilver,,,,,,,"If you use the BCC option and send a PM, if you view the PM in the outbox you will see the recipients and the BCC recipients.

 

But if you go to edit the PM, the BCC recipients list is not displayed.

 

Having looked at the posting_pm_header.html template, under the 
{code:java}
<!-- BEGIN bcc_recipient >{code}
 section I see there is an 
{code:java}
<! IF not S_EDIT_POST -->{code}
 if statement for the delete button, so I am assuming the BCC list was originally intended to be displayed when editing PM's.

 

If this is a bug, it is probably caused by the following if statement: 
{code:java}
<!-- IF S_ALLOW_MASS_PM -->{code}
 which doesn't seem to work on the edit PM page.",,,,,,,,,,,,,,,,,"18/May/23 1:45 AM;ForumFlair;Screenshot 2023-1.png;https://tracker.phpbb.com/secure/attachment/21969/Screenshot+2023-1.png","18/May/23 1:45 AM;ForumFlair;Screenshot 2023-2.png;https://tracker.phpbb.com/secure/attachment/21968/Screenshot+2023-2.png",,,,,,,,,,,,,,,,"0|i03nl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sphinx search backend returns inconsistent results for wildcard search,PHPBB-17133,38400,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,24/Apr/23 2:12 PM,24/Apr/23 2:12 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Search,,,,,,0,easy,,,,,,,"Discussed in [phpBB • Sphinx search configuration|https://www.phpbb.com/community/viewtopic.php?t=2640991]

The default Sphinx config file provided with phpBB produces inconsistent results for a wildcard search with a two character word, i.e. te*.

A search for two characters can return matching results but adding a wildcard character to the same two characters returns no results. At a minimum the end user expects adding the wildcard would at least return the original search results for the case without the wildcard. 

This seems to be caused by the default Sphinx config file having min_word_len =2 and min_prefix_len = 3.  If min_prefix_len = min_word_len = 2, then the expected matching results are returned when adding a wildcard. 

This cannot be reproduced on [www.phpbb.com/community|http://www.phpbb.com/community] as it would appear that min_prefix_len has been reduce to 2. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03njz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unable to determine the dimensions of the image,PHPBB-17124,38390,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,31/Mar/23 1:54 PM,31/Mar/23 1:54 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Storage,,,,,,0,,,,,,,,"While trying to upload certain images, phpBB throws warning (via attachments upload interface): ""It was not possible to determine the dimensions of the image. Please verify that the URL you entered is correct.""

Some problematic images are attached in the archive below.",,,,,,,,,,,,,,,,,"31/Mar/23 1:53 PM;rxu;phpBb upload error images.zip;https://tracker.phpbb.com/secure/attachment/21963/phpBb+upload+error+images.zip",,,,,,,,,,,,,,,,,"0|i03nhr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
fix png embedding,PHPBB-17122,38388,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,timelessbeing,timelessbeing,27/Mar/23 7:56 PM,27/Mar/23 7:56 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Attachments,,,,,,0,attachments,,,,,,,"Thumbnail behaviour for PNGs depends on file size not file dimensions. The threshold seems to be 12 kB. Anything below gets displayed full size, no hyperlink, and includes file information caption (ex ""pcvhose.png (11.4 KiB)""). Anything above is displayed in reduced size, hyperlinked to the original file, and no info caption.

I think this is undesirable behavior. As has been demonstrated, this creates an inconsistent viewing experience for images with the same dimensions.
I do not believe that PNGs of identical dimensions will differ so drastically in download time, that they would need to be displayed differently. The thumbnailing algorithm should be based on dimension, not file size.

 

See this topic for demonstration:

[https://www.phpbb.com/community/viewtopic.php?t=2629321]

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nhb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Sorting a forum by replies is incorrect,PHPBB-17118,38384,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Brf,Brf,20/Mar/23 3:24 PM,20/Mar/23 3:25 PM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Viewing forums,,,,,,0,,,,,,,,Sorting viewforum by Replies-Ascending mixes in moved topics with the zero-reply topics.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ngf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
php8.1 phpinfo diabled returning a 500 nginx server error if in ACP you click PHP Info,PHPBB-17104,38369,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,crywolfy,crywolfy,13/Feb/23 1:40 PM,17/Feb/23 3:19 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Hi with php 8.1 and phpinfo diabled , by going in ACP PHP Information server goes in a ~500 error, thus it works fine with php 7.4 and returning fine

Information about your PHP configuration is unable to be determined. Phpinfo() has been disabled for security reasons.

 

phpBB 3.3.10

 ","PHP 8.1.15 FPM, MySQL MariaDB 10.3.36, NGINX 1.23.1 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03nd3:",,,,,,,,,,,,,,"13/Feb/23 2:14 PM;DavidIQ;This could be handled in code in which we could probably show an ""info not available"" type message, but ultimately this is caused by slightly over-zealous server security configuration.;;;","14/Feb/23 9:27 AM;crywolfy;The message is shown under PHP 7.4 but isn't shown in 8.0 / 8.1 that is why i submitted this.;;;","14/Feb/23 10:11 AM;DavidIQ;PHP versions can have different security configurations from one another on the same server. You should contact your hosting provider for them to look into it.;;;","17/Feb/23 8:48 AM;crywolfy;Im the hoster i have 3 different PHP versions on my machine 7.3 / 7.4 / 8.1 the 7.3 and 7.4 PHP Information in ACP returns fine with phpinfo disabled, on PHP 8.1 it trowns a 500 nginx error

[code]

2023/02/17 10:42:17 [error] 1575#1575: *13 FastCGI sent in stderr: ""PHP message: PHP Fatal error:  Uncaught Error: Call to undefined function phpinfo() in /home/crywolfy/public_html/forum/includes/acp/acp_php_info.php:39
Stack trace:
#0 /home/crywolfy/public_html/forum/includes/functions_module.php(676): acp_php_info->main()
#1 /home/crywolfy/public_html/forum/adm/index.php(81): p_master->load_active()
#2 \{main}
  thrown in /home/crywolfy/public_html/forum/includes/acp/acp_php_info.php on line 39"" while reading response header from upstream, client: 162.158.94.50, server: *****.com , request: ""GET /forum/adm/index.php?sid=a3d82ae57163c301341f61e7dce300a5&i=acp_php_info&mode=info HTTP/2.0"", upstream: ""fastcgi://unix:/run/php/php8.1-fpm.sock:"", host: ""www.****.com"", referrer: ""https://www.*******.com/forum/adm/index.php?sid=a3d82ae57163c301341f61e7dce300a5""[/code]

Something in forum/includes/functions_module.php(676): acp_php_info->main() it's not for php 8.1 code fault and it does not work fine.;;;","17/Feb/23 10:09 AM;DavidIQ;The phpinfo function is being blocked by your server setup. The function works fine on an 8.1 installation I manage.;;;","17/Feb/23 3:19 PM;crywolfy;Yes but disable phpinfo in PHP.INI and in PhpBB ACP go to PHP Information and see that FPM is sent in STDERR error 500, and in PHP 7.3 / 7.4 is ok disaplays that phpinfo is disabled for security reasons.;;;",,,,,,,,,,,,,,,,
Add reporter's IP address,PHPBB-17083,38345,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,05/Jan/23 8:09 PM,31/Jan/23 11:26 PM,08/Nov/25 11:12 AM,,3.3.9,,,,,,Moderator Control Panel (MCP),,,,,,0,mcp,report_details,,,,,,"The report details in the MCP include:
 # report reason
 # reporter's username
 # report time
 # further information provided by the reporter
 # data about the reported post and its author.

While the IP address of the post author is displayed, the IP address of the reporter is absent (and it isn't apparently stored in the database).

That IP address can be useful, notably if the message is reported by a guest. That ability is disabled by default for anonymous, but it can be enabled and phpBB developers have expected a such case as a captcha appears when a guest wants to report a post (see template {*}report_body.html{*}).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03n7r:",,,,,,,,,,,,,,"31/Jan/23 11:26 PM;Big Monstro;I've just realized I posted for the same thing four years ago : https://tracker.phpbb.com/browse/PHPBB3-15702

Still unfixed.;;;",,,,,,,,,,,,,,,,,,,,,
Improve loading times by preloading web fonts,PHPBB-17094,38356,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,17/Jan/23 6:15 PM,17/Jan/23 6:15 PM,08/Nov/25 11:12 AM,,3.3.9,,,,,,Styles,,,,,,4,,,,,,,,"Using my browser's DevTools, specifically Lighthouse, it identifies a performance opportunity to Leverage the font-display CSS feature to ensure text is user-visible while webfonts are loading. [Learn more|https://web.dev/font-display/?utm_source=lighthouse&utm_medium=devtools].

Which leads to [Preload web fonts to improve loading speed|https://web.dev/codelab-preload-web-fonts/] 

This can be tested and shown here on [phpBB • Community Home|https://www.phpbb.com/community/index.php]

Could this be implemented in phpBB core?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03na7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cannot email topics even if the forum permission is enabled,PHPBB-17084,38346,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,05/Jan/23 9:53 PM,05/Jan/23 9:54 PM,08/Nov/25 11:12 AM,,3.3.9,,,,,,Viewing posts,,,,,,0,viewtopic_topic_tools,,,,,,,"Consider a board whose the *board-wide emails* are enabled (see *Email settings* at ACP), so that anyone can send email to the administrators, thanks to a dedicated contact page.

 

On that board, the forum permission « *Can email topics* » for a given user is set at ""yes"". Therefore, the option « *Email topic* » is visible in the topic tools for one or several forums.

 

However, if the +user+ permission « *Can send emails* » is set at ""no"", he or she gets this error message when attempting to email a topic:

 
{noformat}You are not permitted to send email to this user.{noformat}
It doesn't make sense to display the option  « *Email topic* » if one cannot actually use it.

*Either* the option should be hidden when the user permission « Can send emails » is disabled, *or* people should be able to use the email topic feature as long as the forum permission « Can email topics » is enabled and regardless the user permission.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03n7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invisible forums should be more concealed,PHPBB-17078,38340,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,04/Jan/23 8:51 PM,04/Jan/23 8:51 PM,08/Nov/25 11:12 AM,,3.3.9,,,,,,Viewing forums,Viewing posts,,,,,0,,,,,,,,"When an user tries to access to a non-existent forum or topic, he or she gets one of these messages : ""The forum you selected does not exist."" or ""The requested topic does not exist.""

 

If he or she tries to access to a private forum or topic, he or she gets one of these messages : ""You are not authorised to read this forum."" or ""You are not authorised to read this forum."". Regardless the visibility of the private area.

 

My opinion is the message should be different if the private forum is also not visible to unauthorised users (when the permission ""{*}Can see forum{*}"" is disabled). If the forum is not visible, we can assume administators want unauthorised users don't know its existence. Therefore, the error messages for the unauthorized access should be the same those for non-existent forum or topic, and the HTTP header for the output page should be 404 instead of 403.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03n6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
user_delete should delete all notifications for a user,PHPBB-17031,38289,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,MarkDHamill,MarkDHamill,31/Aug/22 3:32 PM,31/Aug/22 3:32 PM,08/Nov/25 11:12 AM,,3.3.8,,,,,,ACP,,,,,,0,Delete,notifications,,,,,,"phpBB's user_delete function does not fully clean up notifications for the user being deleted. It deletes only activate user notifications. Line 769 of functions_user.php:

{{{}$phpbb_notifications->delete_notifications('notification.type.admin_activate_user', $user_ids);{}}}{{{}{}}}

Other notifications often exist, for example notifications to moderate a post or topic. Often a user is deleted because they are posting spam. So I suggest removing all notifications when a user is deleted. Right now this will leave zombie notifications that, in the example, moderators need to manually clean up in the notification manager.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mvj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add event for profile field deletion,PHPBB-17001,38182,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,NeoDev,NeoDev,04/Jun/22 12:09 AM,04/Jun/22 12:09 AM,08/Nov/25 11:12 AM,,,,,,,,Events,,,,,,0,ACP,Event,,,,,,"core.acp_profile_delete_before

There are multiple events when adding or modifying a profile field. However there are no corresponding events for when removing a field. I propose adding core.acp_profile_delete_before to includes/acp_profile.php. This will enable extensions to run cleanup functions before the field is removed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mo7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
phpBB attachments lost when view file clicked,PHPBB-16982,38005,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,axe70,axe70,06/Apr/22 9:38 AM,06/Apr/22 9:38 AM,08/Nov/25 11:12 AM,,,,,,,,Attachments,,,,,,0,,,,,,,,"To make the long story short:

if i load new files into a post as attachments, then i go to click into one of the new files links just uploaded, that display into attachments panel, like so
{{https://localhost/phpbb33/download/file.php?mode=view&id=839}}
then i click back with browser to return on post, all attachments results lost (and goes into orphans).
May a sort of different behavior could be applied. Also, there are errors on console about plupload, when number of loaded attachments, are greater than the max allowed (anyway it do not cause after any issue) 

https://www.phpbb.com/community/viewtopic.php?p=15836726#p15836726",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mj3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Advanced Update,WEBSITE-1414,37993,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,AleSSaNDRo,AleSSaNDRo,20/Mar/22 5:37 PM,20/Mar/22 5:38 PM,08/Nov/25 11:12 AM,,,,,,,,Downloads Page,,,,,,0,,,,,,,,"In [https://www.phpbb.com/downloads/3.3/advanced_update?version=3.3.5]

there is ""[How to update phpBB with the *Automatic* Update Package.|https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto]"" instead of ""[How to update phpBB with the *Advanced* Update Package.|https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto]"".

 

The same goes for [https://www.phpbb.com/support/documents.php?mode=install&version=3.2#update_auto] where there is ""Automatic update package""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mgf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow WebP images for avatars,PHPBB-16975,37992,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,20/Mar/22 4:26 AM,20/Mar/22 5:56 AM,08/Nov/25 11:12 AM,,3.3.7,,,,,,User Control Panel (UCP),,,,,,0,,,,,,,,"WebP images are now allowed for attachments, ranks, smilies, and topic icons. 

They should also be allowed for uploaded avatars. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mg7:",,,,,,,,,,,,,,"20/Mar/22 5:56 AM;3Di;I will have a look at it as soon as I have time.;;;",,,,,,,,,,,,,,,,,,,,,
Limited Features user role has incorrect Can forward private messages setting,PHPBB-16971,37988,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,08/Mar/22 12:43 PM,09/Mar/22 12:35 PM,08/Nov/25 11:12 AM,,3.3.5,,,,,,Permissions,,,,,,0,,,,,,,,"The *Standard Features* user role has Can forward private messages set to No. 

The *Limited Features* user role should have the same, but in a default installation it gets set to Yes. 

This also impacts the *No Avatar* use role, which have a limited feature set and has Can forward private messages set to Yes. 

This impacts admins who might create other limited feature set roles using settings from the *Limited Features* and therefore will inadvertently give users assigned the role the ability to forward private messages. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mfb:",,,,,,,,,,,,,,"09/Mar/22 11:52 AM;3Di;Fresh install?;;;","09/Mar/22 12:34 PM;P_I;Yes freshly installed 3.3.5 using QuickInstall. 

Same settings observed on a live board that has been upgraded and updated many times, currently running 3.3.5;;;",,,,,,,,,,,,,,,,,,,,
Private Message Topic Title Length should match Posting Topic Title Length,PHPBB-16970,37987,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,07/Mar/22 4:50 PM,07/Mar/22 4:51 PM,08/Nov/25 11:12 AM,,3.2.10,3.3.5,,,,,Private Messages (PM),,,,,,0,,,,,,,,"In phpBB 3.1 the maximum Topic Title Length was increased but the Private Message Topic Title Length was not changed.

This becomes visible when a member PM's a poster while reading a post. The PM Topic Title gets clipped. 

There should be consistency between post Topic Title lengths and PM Topic Title lengths. 

Reference: [PHPBB3-10640] Bigger Topic Title Length",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03mf3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
'e' parameter missing from forum subscription emails about new topics,PHPBB-16942,37920,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,DavidIQ,DavidIQ,15/Dec/21 10:51 PM,15/Dec/21 10:51 PM,08/Nov/25 11:12 AM,,3.3.5,,,,,,Notification System,,,,,,0,,,,,,,,"When subscribed to a forum the notifications for new topics are coming in without the 'e' parameter present in the forum or topic links which needs to be there for certain processing by viewforum.php which might also be causing a need to visit the new topic and not just the forum to reset the ""visited"" flag (email states ""No more notifications will be sent until you visit the forum."").

Notifications about replies seem to include the 'e' parameter for forum subscriptions.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03m7z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default cookie banner not responsive on mobile decices,PHPBB-16919,37896,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,urzh,urzh,28/Nov/21 7:17 PM,28/Nov/21 7:59 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,3.3.5,,,,,,,"Cookie banner does not show across full length some devices, such as iphone pro max.

 

v3.3.5",,,,,,,,,,,,,,,,,"28/Nov/21 7:17 PM;urzh;Untitled.jpg;https://tracker.phpbb.com/secure/attachment/21526/Untitled.jpg",,,,,,,,,,,,,,,,,"0|i03m2n:",,,,,,,,,,,,,,"28/Nov/21 7:30 PM;Paul;Where do you see this banner on [www.phpbb.com? |http://www.phpbb.com/];;;","28/Nov/21 7:46 PM;urzh;It's not there I see it. This is on my sites which are all version 3.3.5. using prosilver and default cookie banner. Would you like that link?;;;","28/Nov/21 7:58 PM;Paul;No, don't need it, but you reported it in the tracker for [www.phpbb.com itself.|http://www.phpbb.com/]

I will move it to the phpBB tracker. ;;;",,,,,,,,,,,,,,,,,,,
Allowed schemes in links  should just allow commas,PHPBB-16905,37880,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,3Di,3Di,05/Nov/21 4:58 AM,05/Nov/21 7:52 AM,08/Nov/25 11:12 AM,,3.3.5,,,,,,ACP,Posting,,,,,0,,,,,,,,"If you change or add links to schemes allowed in ACP, it allows you to use punctuation such as full stops, instead it should only allow commas being validated as CSV. So *ftp.banana, http.bananas* are two schema but unknown.

 

I mean, if you add a schema after HTTP using a dot it invalidates both HTTP and the other one.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Invalid link,WEBSITE-1407,37812,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,david63,david63,02/Oct/21 10:24 AM,02/Oct/21 10:24 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"The link ""Valid [XHTML 1.0|http://validator.w3.org/check/referer] [Strict|http://validator.w3.org/check/referer]"" returns a ""No Referer header found!"" message",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ltr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
theme/images/no_avatar.gif is kinda required to have for all prosilver-like styles,PHPBB-14724,33069,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,BioLogIn,BioLogIn,29/Jul/16 4:43 PM,28/Sep/21 10:36 PM,08/Nov/25 11:12 AM,,3.1.9,,,,,,,,,,,,2,,,,,,,,"The link to theme/images/no_avatar.gif is hardcoded into notification_dropdown.html, ucp_avatar_options.html and ucp_notifications.html. Not having the file in the current style results to a degraded user experience (""broken image"" picture in the latest Chrome).

Therefore a style that inherits from prosilver has to either to have file theme/images/no_avatar.gif, or to overrride each of these templates. Neither is very good.

I suggest removing the hard-coded link from mentioned templates, and replacing it with a div with a css background-image pointing to this no_avatar.gif. This way an author of a new style can get by with some css-fixes only.

Or at very least document this as a mandatory element https://www.phpbb.com/styles/create/#a-mandatory",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000wn:",,,,,,,,,,,,,,"27/Sep/21 5:56 PM;TimRiker;Still present on 3.3.4

The code has this inserted:

{T_THEME_PATH}/images/no_avatar.gif
 
 which bypasses the inheritance documented here:
 [https://www.phpbb.com/styles/create/]
 
 I see other hardcoded instances using T_THEME_PATH for:

print.css
bidi.css
tweaks.css
plupload.css

which have the same broken behaviour for styles that inherit from prosilver.;;;","27/Sep/21 9:10 PM;Hanakin;This will be fixed with the new avatar overhaul for 4.0. The way this should work is as is for now if you have an avatar it uses yours otherwise it uses the default! It will and should be moved to the all folder outside of the scope of a theme and allow being overridden in a theme specifically;;;","28/Sep/21 5:44 PM;TimRiker;Note: as I mentioned, the same issue applied to things like bidi.css. This means that styles that inherit from prosilver by following the instructions will NOT have working bi directional views as bidi.css will fail to load from the parent prosilver theme and will only work if bidi.css is copied over into the child theme.

Should I open a separate ticket for that?;;;","28/Sep/21 7:50 PM;DavidIQ;Stylesheets cannot be inherited through style inheritance. That was a decision made on purpose because we can't arbitrarily decide which stylesheets come from which style folder since many are referenced individually. If you want to inherit prosilver's themes folder you'll need to bring in overall_header.html (and possibly overall_footer.html) and adjust those path references accordingly.;;;","28/Sep/21 10:20 PM;TimRiker;You'd need all of these as each of them breaks the inheritance by referencing T_THEME_PATH directly

$ grep -Irsl T_THEME_PATH styles/prosilver
styles/prosilver/template/ucp_avatar_options.html
styles/prosilver/template/ucp_notifications.html
styles/prosilver/template/ucp_pm_viewmessage_print.html
styles/prosilver/template/viewtopic_print.html
styles/prosilver/template/simple_header.html
styles/prosilver/template/notification_dropdown.html
styles/prosilver/template/overall_header.html
;;;","28/Sep/21 10:35 PM;3Di;Let's focus on the topic of this ticket. 
{code:java}theme/images/no_avatar.gif is kinda required to have for all prosilver-like styles{code}
 There is enough place for the other issues in the tracker, in case.

 

 

 ;;;",,,,,,,,,,,,,,,,
Allow all BBCodes during reparsing,PHPBB-16880,37810,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,JoshyPHP,JoshyPHP,19/Sep/21 5:01 PM,19/Sep/21 5:09 PM,08/Nov/25 11:12 AM,,3.3.5-RC1,,,,,,,,,,,,0,,,,,,,,"The {{generate_text_for_storage}} API allows individual BBCodes (img, flash, quote, and url) to be toggled at parsing time. However, that status isn't saved in the database. When I wrote the reparser plugins, I created a set of methods that determine whether a given BBCode or feature was enabled at parsing time based on the content of the message. Those methods can be found in {{phpbb\textreparser\base}}; They are named {{guess_X}} where X is the feature.

When reparsing a proper text, those methods work fine as far as I can tell. However, when reparsing a text where a feature was mistakenly disabled, it makes it impossible to re-activate it (=""fix it"") by reparsing the text.

As I understand now, phpBB's editor prevents messages that contain an unauthorized BBCode from being posted. If that holds true across all types of _records_ that are processed by the reparser, it means that it should be safe to unconditionally turn on all BBCodes when reparsing instead of guessing their status based on the content.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ltb:",,,,,,,,,,,,,,"19/Sep/21 5:09 PM;JoshyPHP;Alternatively, if always enabling all BBCodes in bulk isn't desirable, we could add a switch to the reparser service and CLI.;;;",,,,,,,,,,,,,,,,,,,,,
Bots can add unlimited topic watches due to incorrect checks,PHPBB-16869,37797,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Snover,Snover,08/Sep/21 5:03 PM,09/Sep/21 1:55 AM,08/Nov/25 11:12 AM,,3.2.11,3.3.4,,,,,Notification System,,,,,,0,,,,,,,,"This will not happen in a default installation of phpBB, but only because the prosilver template guards emitting the {{U_WATCH_TOPIC}} link with a {{not S_IS_BOT}} check, which is not an adequate safeguard and only masks the actual bug. A template without that check will leak functioning watch topic links to bots.

This happens because the check in {{watch_topic_forum}} to stop unregistered users from adding watches is {{$user_id != ANONYMOUS}}, but the check in {{viewtopic.php}} and {{viewforum.php}} to populate the {{notify_status}} field that gets passed to {{watch_topic_forum}} is (correctly) {{$user->data['is_registered']}}, which excludes bot accounts.

A cool thing about this bug is that since (1) there is no unique key constraint on the {{(topic_id, user_id)}} tuple the database for {{TOPICS_WATCH_TABLE}}, (2) link hashes have no time- or nonce-component to prevent replaying the same operation, and (3) watching topics violates HTTP spec by using a GET operation for a non-nullipotent operation, once a spider gets ahold of a watch topic link, it will keep periodically re-checking these URLs for updates, and each time this will add a fresh entry to the watch table.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lqf:",,,,,,,,,,,,,,"09/Sep/21 1:00 AM;Snover;Sorry about the ticket type being wrong, Jira is only giving me the options “Task”, “Epic”, “New Feature”, “Improvement”, or “Security Issue” in the drop-down for some reason.;;;",,,,,,,,,,,,,,,,,,,,,
[print.css] CSS selectors do not match HTML classes,PHPBB-16854,37781,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,cabot,cabot,24/Aug/21 12:35 PM,25/Aug/21 8:05 AM,08/Nov/25 11:12 AM,,3.3.4,3.3.5-RC1,4.0.0-a1,,,,Styles,,,,,,0,easy,front-end,print,prosilver,,,,"Hello,

 

+Problem:+

Some selectors used in the *print.css* file doesn't match the CSS classes declared in the HTML.

The *.postbody* class is used in several selectors in the [print.css|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/theme/print.css] file but this CSS class does not exist in the two HTML files that load the stylesheet ( [ucp_pm_viewmessage_print.html|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/template/ucp_pm_viewmessage_print.html]  and  [viewtopic_print.html|https://github.com/phpbb/phpbb/blob/master/phpBB/styles/prosilver/template/viewtopic_print.html] ).

 

+Solution:+

Replace all occurrences of *postbody* with *post* in the selectors of the *print.css* file, or use the CSS class *postbody* instead of *post* in both HTML files.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lmv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Content Encoding Error for Empty Outbox,WEBSITE-1405,37702,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,09/Aug/21 10:15 PM,09/Aug/21 10:15 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"There was two recent PM spammers here on phpbb.com and after selecting to empty their PM outbox and clicking the OK on the next page the result is a browser error page ""Content encoding error"".

The action is apparently successful, you'll get a message ""Users outbox already emptied"" after clicking OK second time around.. 

Haven't checked but perhaps it's phpBB bug. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lkv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Config creation in installer can cause hidden SQL error,PHPBB-16806,37597,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Marc,Marc,29/Jun/21 8:23 PM,29/Jun/21 8:23 PM,08/Nov/25 11:12 AM,,3.3.4,,,,,,Installation system,,,,,,0,,,,,,,,"As mentioned here: [https://github.com/phpbb/phpbb/pull/6207#discussion_r625482523]

Creating the config object inside the installer will result in an SQL error due to the config table not existing yet.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Polls are calculating the win percents WRONG and sometimes the winner is wrong too!!!,PHPBB-16792,37582,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,founder1,founder1,06/Jun/21 10:40 PM,24/Jun/21 10:49 PM,08/Nov/25 11:12 AM,,,,,,,,Other,,,,,,0,,,,,,,,"Polls that allow the user to vote for more than one item/option are calculating the win percents (the results) WRONG. And the item with the highest win percent isn't even always the correct winner either -- sometimes it is and sometimes it isn't depending on how people voted!

Currently, for each item/option/choice in the poll, you are calculating the item's percent by dividing it's number of votes by the total number of votes. But that is wrong, you should calculate each item's percent by dividing it's number of votes by the total number of VOTERS.

Wrongly dividing by the number of votes does not even make any sense. There is NEVER a reason to do that. That is not how elections work. You always want to show the percent of VOTERS that voted for each item, not the percent of votes, because in elections, the term ""vote"" always means the same thing as a VOTER, but whoever originally programmed this didn't realize this and was confused.

For example, let's say you have a poll ""Do you want ketchup or mustard on your french fries?"". The two items/options to choose from are ""ketchup"" and ""mustard"". There are two voters. Voter A chooses ketchup, and voter B chooses both ketchup & mustard.
So, ketchup will show 2 votes, divided by 3 total votes = 66.6% which is WRONG. Ketchup should show 2 votes, divided by 2 VOTERS = 100%.
And mustard will show 1 vote, divided by 3 total votes = 33.3% which is WRONG. Mustard should show 1 vote, divided by 2 VOTERS = 50%.

By wrongly dividing by votes, you are taking Voter B's vote for Ketchup and SPLITTING IT UP into halves, so Ketchup only gets HALF a vote and mustard only gets HALF a vote, but Voter B should get one FULL vote for ketchup, and one FULL vote for mustard. (Since voter A only voted for one item, their vote was not split up, so their ketchup vote counted TWICE as much as voter B's vote, and that's obviously not fair or correct.)

You may be thinking, ""But what if you have 10 items/options and you want people to pick 2 winners out of those 10 items, so you set the number of ""options per user"" to 2."". That's not how elections work though -- you ALWAYS either want to allow people to be able to pick only 1 option, or any number of options (up to the maximum number of options), and you still divide by the total number of voters. So in this case where you wanted the top 2 winners, they are simply the 1st-place winner and the 2nd-place winner. That's how elections work.

So in summary, please change the code for the polls so that:
1) Each item divides it's number of votes by the total number of VOTERS (not votes).
2) And, show the total number of VOTERS at the bottom of the poll (not the ""total votes"").
3) And, ideally, when creating the poll, change the ""options per user"" so that it only allows the poll creator to allow users to choose 1 option or multiple options (nothing in between).

Thanks!!

BTW it appears alot of other forum software is also calculating poll winners incorrectly, so if you fix your polls, you may be the only/first forum that does it correctly, making your forum better than others.",phpBB 3.3 demo (on 6/6/21),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03l87:",,,,,,,,,,,,,,"07/Jun/21 12:15 PM;david63;I would not say that the current method is ""wrong"" as it is perfectly valid method of calculating a poll result. Neither method is right and neither method is wrong.

A lot will depend on what the poll is for but for the purposes of a simple poll on a discussion board then I would be of the opinion that the current method produces an acceptable result the majority of the time and if more accuracy is required then I would suggest that a dedicated polling application would be more suitable.

 

I would also add that this is the first time in 20 years that I can recall anyone finding the current method a problem and changing it now would, I suspect, cause more problems than it would solve.

 ;;;","24/Jun/21 10:49 PM;warmweer;Frankly speaking the part where you mention:

_That's not how elections work though – you ALWAYS either want to allow people to be able to pick only 1 option, or any number of options (up to the maximum number of options), and you still divide by the total number of voters._ 

is very shortsighted.

First: How the result of an election is calculated, depends on decisions made when defining the whole ""election process"".  And  there's no globally enforced system for that.

Second: it's not an election. It's a POLL which doesn't have to follow the ""election"" rules

Third: why not opt to show the results as a percentage of votes cast, and also as a percentage of voters;

Fourth:  in some cases ""election"" results are calculated taking into account the number of people who voted, whereas the number of people who were eligible to vote may be much higher. In a case like that an 80% score when only 5 out 100 eligible voters actually voted doesn't say much (or perhaps it does ;)).

It's a poll so let the admin or whoever's in charge of polls, decide on the system to use, and  allow an option to show the result of both (or more)  calculation systems. The data is available: number of (potential) voters, number of  votes cast, number of votes per option, etc...

 

 ;;;",,,,,,,,,,,,,,,,,,,,
Allow replies to unapproved topics,PHPBB-16803,37594,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,23/Jun/21 10:57 PM,24/Jun/21 12:33 PM,08/Nov/25 11:12 AM,,3.3.4,,,,,,Posting,,,,,,2,posts,topics,unapproved,,,,,"At the moment, the author can reply to his own topic that is for approval, but the moderators or admins or any other group that have permissions to read an unapproved topic cannot reply to it...

You may wonder ""Why allow replies to the topic if it is not approved?"" 
Because a moderator or an admin, that have permissions to see an unapproved topic, might want to reply to it for some reason and have a hidden discussion in it.

In my case the reason is that all topics should follow some guidelines, and if the user doesnt create the topic properly I need to have an discussion about it.
There are many reasons for having a discussion on an unapproved topic.

Any forum that I used had this, and I beleive phpBB 3.0 had this too... so it must be a bug on 3.3 branch at least?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lav:",,,,,,,,,,,,,,"23/Jun/21 11:22 PM;DavidIQ;This isn't a bug and 3.0 didn't have this. And if it did then the bug was in 3.0. Allowing replies to unapproved topics wouldn't have been an intentional thing.;;;","24/Jun/21 12:29 AM;Tarantino;It did exist on 3.0 and it was intentional... there was some bugs around it, and there was many people creating patches to fix it, including phpbb staff at the time...
I remember that clearly.

And for what I checked now with a simple search is that it was changed on 3.0.6 only because the solution would take much time to fix then removing it. So they choose to temporarely remove so it would at least fix the bugs that were rising against unapproved posts. And unapproved posts had many many issues till 3.3 as far as I searched. 

Now that 3.3 is pretty stable regarding unnaproved topics and posts, it seems a good time to add what should never be removed in first place.

PS: And we should not forget that the Author is able to create a reply... was that not intended? I don't beleive so. It was intended for sure, The same is for admins and mods, orelse why the author needs to reply to something that wasn't approved? Same logic... if the author can it means that it was intended to have a conversation with admins/mods;;;","24/Jun/21 12:44 AM;Tarantino;https://www.phpbb.com/support/documents.php?mode=changelog&version=3#v306
""[Change] Unapproved topics can no longer be replied to. (Bug #44005, #47675, #23605)""

https://tracker.phpbb.com/browse/PHPBB3-8267
On that url you can read:
""For 3.2.x we need to find a better solution - there it should be possible to add comments and also add posts to unapproved topics/posts...""

Who wrote it? Acyd Burn. 

There is more about it... probably at Area51

What I really want to say is that this should be at least well discussed by phpBB again.;;;","24/Jun/21 1:12 AM;DavidIQ;Regardless, this is not a bug. This is an enhancement request.;;;","24/Jun/21 3:25 AM;3Di;What changed is here (3.0 to 3.1)
https://github.com/phpbb/phpbb/commit/70fa983fa804c2a826a51af1c31ffc663cde48b3

Anyway, this is a one line change that could be done via extension. Just for topics though.
It makes no sense to be able to reply to a post inside a topic, where the others can see your reply but not the hidden one(s).

I am not posting the change, as I said it is better done via extension. IMHO.

;;;","24/Jun/21 10:48 AM;Tarantino;According the changelog and this release topic it was changed on 3.0.6: https://www.phpbb.com/community/viewtopic.php?t=1859035
3.0.5 worked, 3.0.6 and foward dont.

"" Do not allow users to reply to soft deleted topics""  Softdeleted topic may be different then unapproved ones? I am not sure about this. Never check out the differences in the code.

EDIT: Well the description in fact mention ""So moderators can only reply, when the topic is approved."" how strange x'D;;;","24/Jun/21 10:57 AM;Tarantino;""It makes no sense to be able to reply to a post inside a topic, where the others can see your reply but not the hidden one(s).""

I thought that if the topic is unnaproved, then any post inside it would not be visible by others. But now that I rething about it, a topic is in fact a post (the 1st post), so the 1st approved post would be the 1st post of that topic to other users probably... if thats the case I understand the needs of an extension, because it really doesnt make sense at you stated.

And this would ask for 1or 2 extension to have a proper UX, one that would let the admin/mods to reply the unapproved topics, and another that only the author and admin/mods can see an unapproved topic and its replies. (or it could be all in the same ext)


;;;",,,,,,,,,,,,,,,
English error,PHPBB-16801,37592,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,stevemaury,stevemaury,17/Jun/21 12:00 AM,19/Jun/21 10:09 AM,08/Nov/25 11:12 AM,,3.3.2,3.3.3,3.3.4,,,,,,,,,,0,,,,,,,,"language/en/acp/forums.php lines 85 and 118.  ""less"" should be ""fewer"",",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03laf:",,,,,,,,,,,,,,"17/Jun/21 5:24 AM;3Di;??language/en/forums.php??

I do not have such a file here.

Do you mean *language/en/acp/forums.php* I guess?;;;","17/Jun/21 12:46 PM;stevemaury;Yes, thank you.  Corrected.;;;","18/Jun/21 6:15 AM;3Di;Not that I am a british mother-tongue but it seems right to me.;;;","18/Jun/21 1:40 PM;stevemaury;It isn't right, but it is a common error.  Less rain, fewer puddles.  Less traffic, fewer cars.;;;","19/Jun/21 1:46 AM;3Di;What about
{code:txt}
The forum description is too long, must not exceed 4000 characters.
{code}
{code:txt}
The forum rules are too long, must not exceed 4000 characters.
{code};;;","19/Jun/21 3:26 AM;stevemaury;That is the hard way.  Better to replace the wrong word with the right word.;;;","19/Jun/21 3:41 AM;3Di;I obviously trust you. If they tell me I'm lacking in knowledge, you answer, OK? :P;;;","19/Jun/21 10:09 AM;david63;Whilst I agree with Steve that ""fewer than"" is the correct usage of the English language I would also say that in modern everyday usage where understanding is considered the main focus that ""less than"" is equally acceptable.

Where there may be a possible issue is with the nuances when translated into other languages.

Overall I would keep the status quo, but I really cannot get excited one way or the other.;;;",,,,,,,,,,,,,,
Canceling the vote if a user is deleted,PHPBB-16780,37450,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,bamax,bamax,20/May/21 4:21 AM,21/May/21 4:12 AM,08/Nov/25 11:12 AM,,3.3.4,,,,,,ACP,,,,,,0,,,,,,,,"When a user is deleted, their votes remain in the database even when the administrator selects the option to delete all their messages.
Can it be solved?","PHP Version 7.4.10
MySQL server version: 5.0.92-50",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03l5j:",,,,,,,,,,,,,,"20/May/21 1:50 PM;3Di;It could.

Do you mean the votes still have the username in it or ANONYMOUS?;;;","20/May/21 3:52 PM;bamax;Yes, but the user_id still remain.

I think that if the administrator deletes a user and selects to delete all related posts, the votes should also be deleted. Or, at the very least, add an option whether it does or not.

Thanks for the answer :);;;","20/May/21 4:09 PM;3Di;I will investigate this further, thanks for feedback.;;;","21/May/21 4:12 AM;bamax;OK, good work and thanks!

 ;;;",,,,,,,,,,,,,,,,,,
profile fields cannot be disabled from user editing,PHPBB-16781,37451,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,exxos,exxos,20/May/21 10:21 AM,20/May/21 10:21 AM,08/Nov/25 11:12 AM,,3.3.4,,,,,,User Control Panel (UCP),,,,,,0,,,,,,,,"It says

_Display in user control panel:_
_The user is able to change this profile field within the user control panel._

(which is not ticked)

and

_Hide profile field:_
_Hide the profile field from all other users except the user, administrators and moderators who are still able to see this field. *If the Display in user control panel option is disabled, the user will not be able to see or change this field and the field can only be changed by administrators.*_

*_(Which is ticked)_*

**But it does not actually matter if _Display in user control panel_ is ticked or not, field is still editable by the user ?","PHP version:	7.4.3
MySQL(i) 8.0.25-0ubuntu0.20.04.1
phpbb 3.3.4
Google Chrome Version 90.0.4430.212 (Official Build) (64-bit)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03l5r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Forum Image / Category Image,PHPBB-16692,37080,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Mannix_,Mannix_,28/Jan/21 11:50 AM,11/May/21 10:00 PM,08/Nov/25 11:12 AM,,3.3.2,3.3.3-RC1,,,,,Styles,Viewing forums,,,,,0,front-end,prosilver,template,,,,,"As of right now there is a possibility to set a Forum Image for Categories while creating/editing it. But there is no place where it to gets displayed. So there are two way of 'fixing it'. That setting could be removed from the form while creating/editing a Category which I'm not a fan of or it could be added on index(Pic. no.1) and viewforum pages. While on index it fairly simple by just using existing code. It can be done by altering this
{code:java}
<!-- IF forumrow.S_IS_CAT --><a href=""{forumrow.U_VIEWFORUM}"">{forumrow.FORUM_NAME}</a><!-- ELSE -->{L_FORUM}<!-- ENDIF -->
{code}
to
{code:java}
<!-- IF forumrow.S_IS_CAT --><!-- IF forumrow.FORUM_IMAGE --><span class=""category-image"">{forumrow.FORUM_IMAGE}</span><!-- ENDIF --><a href=""{forumrow.U_VIEWFORUM}"">{forumrow.FORUM_NAME}</a><!-- ELSE -->{L_FORUM}<!-- ENDIF -->{code}
in forumlist_body.html file.

On the viewforum the template variable is not available so the image doesn't display.","PHP 7.2.18, MySQL(i) 10.1.10-MariaDB ",,,,,,,,,,,,,,,,"28/Jan/21 11:35 AM;Mannix_;(1) Testing Board - Index page localhost 9c4c8912e6f4.png;https://tracker.phpbb.com/secure/attachment/20820/%281%29+Testing+Board+-+Index+page+localhost+9c4c8912e6f4.png",,,,,,,,,,,,,,,,,"0|i03kjz:",,,,,,,,,,,,,,"11/May/21 10:00 PM;Hanakin;it will not make it into 4.0 as its not a controllable asset and makes little sense as it is. The forum image will need to be reworked to replace the forum imageset. The category will not be used at all and should just be removed as it adds no ux/ui benifit.;;;",,,,,,,,,,,,,,,,,,,,,
Showcase doesn't render some entries as expected/wanted,WEBSITE-1401,37396,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,warmweer,warmweer,17/Mar/21 12:57 PM,17/Mar/21 12:57 PM,08/Nov/25 11:12 AM,,,,,,,,Showcase,,,,,,0,show,,,,,,,"The entry Ars Technica has an overflow to the right (the link ""technology"")

The entry Waze has the link ""international"" which shows inside the description 

 ",N/A,,,,,,,,,,,,,,,,"17/Mar/21 12:52 PM;warmweer;showcase.jpg;https://tracker.phpbb.com/secure/attachment/21131/showcase.jpg","17/Mar/21 12:52 PM;warmweer;showcase2.jpg;https://tracker.phpbb.com/secure/attachment/21130/showcase2.jpg",,,,,,,,,,,,,,,,"0|i03ktj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Email regex does not recognize punycode,PHPBB-16701,37186,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,06/Feb/21 1:41 PM,12/Mar/21 9:18 PM,08/Nov/25 11:12 AM,,3.3.3,,,,,,ACP,,,,,,0,,,,,,,,"As per HTML standards, user agents should convert punycode in the domain labels of the value to IDN in the display and vice versa. See https://html.spec.whatwg.org/multipage/input.html#email-state-(type=email)
phpBB regex does not recognize digits and dashes in punycode converted IDN email addresses, in 1st domain level in particular, f.e. admin@xn--b1agh1afp.xn--p1ai when set as ""Contact email address"" or ""From email address"" causes ""The email address you entered is invalid."" error in ACP.",,,,,,,,,,,,,,,PHPBB-15853,,,,,,,,,,,,,,,,,,,"0|i03km7:",,,,,,,,,,,,,,"06/Feb/21 7:12 PM;3Di;Not a big expert here, I read the link you posted and found a regex which once tested is looks like it is what you are looking for?

 

In *include/functions.php* function *get_preg_expression($mode)*

Changed the old email regex with this

 
{code:java}
return '^[a-zA-Z0-9.!#$%&*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$';
{code}
Note I removed what I think is a sort of unneeded char from the regex listed in the above link. (A backtick)

 

 

 

 

 

 ;;;",,,,,,,,,,,,,,,,,,,,,
"Wrong order display of inline attachments in ""topic review"" when using multiple uploads",PHPBB-16721,37387,,Bug,Awaiting Information,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,didou116,didou116,07/Mar/21 8:07 PM,12/Mar/21 11:44 AM,08/Nov/25 11:12 AM,,3.3.2,3.3.3,,,,,Attachments,Posting,Viewing posts,,,,1,,,,,,,,"The bug occurs in ""topic review"" : the order of displayed attachments doesn't correspond anymore to that of the original post.

For example : Someone uploads multiple files +at the same time+ when writing a post and chooses to display them like this in their post :
 * 1 : File A
 * 2: File B
 * 3: File C

Everything is ok is viewtopic.

BUT, when you reply to this post and look at the display of inline attachments in the ""topic review"", then the files are displayed in a different order. They can be displayed like this for example :
 * 1 : File C
 * 2 : File B
 * 3 : File A

 

It occurs only when using multiple uploads. If you upload files one by one, it doesn't seem to create this bug.

Someone (one of my forum members) advised me to check the filetime of the uploaded files, and I realised that multiple uploads result in giving the same ""filetime"" to all the files that are uploaded at the same time.

This person suggested that the problem was linked to this code in ""includes/functions_posting.php"" (around the line 1077) :

 
{code:java}ORDER BY filetime DESC, post_msg_id ASC';
{code}
As several files have the same filetime when you use multiple uploads, then it creates the random display in topic review.

This person suggested that it should be replaced with :

 
{code:java}ORDER BY attach_id DESC, post_msg_id ASC';
{code}
 

This seems to work because someone tested it successfully on a test forum.

I mentioned that it affected phpBB 3.3.3 and 3.3.2 but maybe it affects more previous versions too, because it's a bug that I've been encountering for a long time on my forum (but I don't remember when exactly)

 

Could you please check if this is a common bug in phpBB and confirm if the fix is ok? If yes, could it be included in further versions/updates of phpBB ?

 

Thank you.

 

PS : sorry if my English isn't perfect, it's not my native language.",PHP 7.1.33,,,,,,,,,,,,,,,,"07/Mar/21 8:01 PM;didou116;topic review.png;https://tracker.phpbb.com/secure/attachment/21126/topic+review.png","07/Mar/21 8:01 PM;didou116;viewtopic.png;https://tracker.phpbb.com/secure/attachment/21127/viewtopic.png",,,,,,,,,,,,,,,,"0|i03krj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add Comment Field to Soft Delete Posts and Topics ,PHPBB-16716,37382,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,03/Mar/21 5:59 PM,04/Mar/21 11:30 PM,08/Nov/25 11:12 AM,,3.2.11,3.3.3,,,,,Posting,,,,,,0,posts,softdelete,topics,,,,,"When a moderator edits a topic, there is a comment field so he can leave a comment about why he edited it.

For admins that can softdelete a post/topic, there isn't. It should have the same comment system. Where the admin would insert a comment about why he softdeleted.

Then the main admin with permissions to permanente delete could administrate/moderate that better.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kqf:",,,,,,,,,,,,,,"03/Mar/21 9:35 PM;david63;The deleting of topics/posts, be that a soft delete or permanent delete, is a Moderator permission not an Admin permission.

If the post is being deleted then there is nothing to prevent whoever is deleting that post to edit the post with a reason either before of after deleting it.;;;","04/Mar/21 11:30 PM;Tarantino;I know... It was just an example.

I'll try to explain better. You create 2 Moderator Permissions Roles, one for moderators, another for admins.
The Admin Group will be able to permanente delete, the moderator will be able to soft delete.

When the moderator edit a topic, he can already add a comment, but there is no option when he soft-delete another user topic...
It should appear the same option. ;;;",,,,,,,,,,,,,,,,,,,,
Update mbstring http_input and http_output check to accept UTF-8 configuration.,PHPBB-16708,37280,,Bug,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,EA117,EA117,23/Feb/21 3:36 PM,25/Feb/21 3:33 PM,08/Nov/25 11:12 AM,,3.3.3,,,,,,ACP,,,,,,0,,,,,,,,"As an additional refinement in parallel to the phpBB 3.3.3-specific https://tracker.phpbb.com/browse/PHPBB3-16656 change, in addition to having eliminated the now-deprecated ""pass"" as the expected/required configuration for mbstring.http_input and mbstring.http_output, phpBB should additionally allow ""UTF-8"" to exist for this configuration.

The reason phpBB was checking for ""a blank value, or pass"" previously, and the reason phpBB is checking for ""a blank value"" now in phpBB 3.3.3 and later, isn't just ""to randomly enforce PHP configuration rules.""  The current phpBB 3.3.3 check intends to ensure that the mbstring.http_input and mbstring.http_output will inherit the PHP ""default_charset"" configuration, because phpBB in addition requires that ""default_charset"" is explicitly or at least implicitly configured as ""UTF-8"".

So when an existing customer server configuration, such as the one in [https://www.phpbb.com/community/viewtopic.php?f=661&t=2585241,] has their mbstring.http_input and/or mbstring.http_output configuration set to ""UTF-8"", the fact that the current phpBB 3.3.3 ACP test ""doesn't accept this"" and shows the warning is not helpful to the phpBB user, and is not advising the phpBB user of a situation that ""must be corrected in order to have proper phpBB operation.""

UTF-8 is what phpBB needs for proper operation; being explicitly configured for UTF-8 just isn't one of the ways the current phpBB 3.3.3 test accounts for.  Such as in the customer case cited from phpBB Community above, the hosting provider won't allow the customer to change this configuration, either.  So they are currently stuck always seeing this warning, when in actuality, phpBB is already receiving the UTF-8 encoded data it required.

Recommend that the previous ""pass, or a blank value"" test be replaced with ""UTF-8, or a blank value"" test.  Along with the same ""could be an upper-case or lower-case UTF-8"" treatment that was implemented for phpBB's test of ""default_charset"".",PHP 7.x,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kof:",,,,,,,,,,,,,,"23/Feb/21 4:23 PM;EA117;Hmmm.  While attempting to verify a proposed fix for this, I ran across an additional nuance.  I happened to choose my local XAMPP PHP 8.0.2 installation with phpBB 3.3.3, in which the PHP.INI contains no un-commented reference to either mbstring.http_input or mbstring.http_output.  So they are ""not defined at all"", and are receiving whatever the PHP 8.0.2 default value would be.

In this configuration, acp_main.php's $this->php_ini->getString() returns ""a blank string"" rather than NULL as we had seen when addressing similar behavior for the ""default_charset"" configuration.  Which means the ""expect that getString() would have returned NULL if a blank value is in effect"" expectation like as was implemented for ""default_charset"" doesn't work here for mbstring.http_input or mbstring.http_output, in my testing here.

So if I add the following dump code to acp_main.php right after we read the PHP.INI settings:
{code:java}echo ( '<br />http_output:<br /><pre>' );
var_dump( $this->php_ini->getString('mbstring.http_output') );
echo ( '</pre><br />' );
echo ( '<pre>' );
var_dump( $http_output );
echo ( '</pre><br />' );
echo ( '<pre>' );
var_dump( strtolower($http_output) );
echo ( '</pre><br />' );
echo ( '<pre>' );
var_dump( $http_output !== null && strtolower($http_output) !=== 'utf-8' );
echo ( '</pre><br />' );
{code}
The output I get is:
{code:java}http_output:
string(0) """"

string(0) """"

string(0) """"

bool(true)
{code}
Which causes the warning to appear, even though mbstring.http_output was a blank value / default.

 

So I'm thinking the right proposal is to go back to in_array(), and check for ""either UTF-8 or a blank value"", similar to how it was checking for ""either PASS or a blank value"" previously.  And just to not be back here again for any foreseeable reason, do the same with the ""default_charset"" test too, in case ""a blank value"" legitimately comes through under any configuration:
{code:java}'S_MBSTRING_HTTP_INPUT_FAIL' => $http_input !== null && !in_array(strtolower($http_input), array('utf-8', '')),
'S_MBSTRING_HTTP_OUTPUT_FAIL' => $http_output !== null && !in_array(strtolower($http_output), array('utf-8', '')),
'S_DEFAULT_CHARSET_FAIL' => $default_charset !== null && !in_array(strtolower($default_charset), array('utf-8', '')),
{code}
 

 ;;;",,,,,,,,,,,,,,,,,,,,,
Add ban duration to user notes,PHPBB-16700,37185,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Lady_G,Lady_G,05/Feb/21 10:13 PM,05/Feb/21 10:26 PM,08/Nov/25 11:12 AM,,3.3.3,,,,,,Moderator Control Panel (MCP),,,,,,0,moderation,,,,,,,"When a moderator bans a member, the _Length of ban_ entry is not shown in the user notes. The entry only contains ""*Banned user* for reason"" and the moderator must enter this information manually.

This introduces a possibility for error, as the moderator may ban a member for an incorrect duration. I have seen this happen on my board, especially when training new moderators.","PHP 7.4.14, PostgreSQL 12.4, Fedora release 33 (Thirty Three)",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03klz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add support for record filtering in text reparser,PHPBB-16169,36182,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,JoshyPHP,JoshyPHP,27/Sep/19 6:33 PM,30/Nov/20 1:51 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,"This will add the ability to the text reparser service to selectively process records. For example, it would be possible to only reparse posts that contain a link to YouTube rather than reparse every posts in the database.",,,,,,,,PHPBB-16645,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h2v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Make ""Re:"" on title of topic replies translateable",PHPBB-16635,36891,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Crizzo,Crizzo,19/Nov/20 1:25 PM,19/Nov/20 5:15 PM,08/Nov/25 11:12 AM,,3.2.11,3.3.2,,,,,Language pack,,,,,,0,,,,,,,,"Right now the topic reply titles look like: ""Re: my awesome topic title...""

The ""Re:"" is fixed. It should be translateable to get better meaing for other languages.

Regards
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03k6n:",,,,,,,,,,,,,,"19/Nov/20 4:43 PM;3Di;That's basically not possible, has been already discussed in the past.;;;","19/Nov/20 5:09 PM;Crizzo;Why not? Instead of adding a hardcoded prefix we could add a ""solved-lang-variable"". ;;;","19/Nov/20 5:10 PM;DavidIQ;It's not ""impossible"" but would be difficult/tricky to implement and might not be accurate. Right now it's being recorded as part of the post title so in order for translation to be possible it would need to live outside of that. Then you have to account for where the post title is derived from: the topic title? the previous post's title? the user's own entry? what do we do with post titles already recorded with the ""Re:"" prefix?

After considering all that we'd have to then decide: is it worth the trouble?

Previous discussion: http://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=48726;;;","19/Nov/20 5:15 PM;DavidIQ;That being said, it might be worth it to look into using the board's +default language+ when setting the prefix instead of having it hard coded as ""Re:"" for everyone.;;;",,,,,,,,,,,,,,,,,,
Admin notification in case of new phpbb-version or available extension-update,PHPBB-16626,36803,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,bug-i,bug-i,28/Oct/20 6:28 AM,28/Oct/20 8:50 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,Feature idea: Notification email to admins or defined groups in case of a new availbale phpbb-version or in case of a availbale update for extensions. Right now the admin has to check regularly in the backend. An additional email-notification couldincreas awareness of possible updates that also might have security-fixes.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03k3z:",,,,,,,,,,,,,,"28/Oct/20 8:15 AM;david63;Just subscribe to the Announcements forum for notification of new vwesions of phpBB and subscribe to the extension in the CDB for notification of new versions of extensions.

Also you are already notified in the ACP when there is a new version of phpBB and there is a one click option in the Customise tab to check for new versions of extensions.

 

Anything else would, in my opinion, only add unnecessary bloat.;;;","28/Oct/20 8:22 AM;bug-i;True for Admins in highly frequented boards that regularly check the backend. For rarely or not that much administrated boards this would be a nice reminder to update/upgrade. No essentially required feature, just an idea...

The newer phpbb-Version is highly visible on the first page after login, maybe a similar message ""extension update availble"" on the overview page could be a workaround. But to be honest I would prefer a notification email. 

Also subscribing to something requires a little proactive work. The users that actively subscribe to something will probably check the backend themselves regularly. I am more thinking of reminding the ""not so active admins"".

If this tiny little feature just reminds 5-10% of admins to upgrade (board and/or extensions), I guess this would help significantly to avoid security issues with outdated versions.;;;","28/Oct/20 8:50 AM;3Di;There is an Ideas Forum here [https://www.phpbb.com/community/viewforum.php?f=436]

 

 ;;;",,,,,,,,,,,,,,,,,,,
Every search user's posts request beyond start 19985 results in an error. ,WEBSITE-1396,36687,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,Random American,Random American,12/Sep/20 8:27 PM,23/Oct/20 10:40 PM,08/Nov/25 11:12 AM,,,,,,,,Community,,,,,,1,phpbb/website,search,,,,,,"This seems to be a minor error with the phpBB.com/Community website's search function. When searching through a user's posts, every search request beyond starting from post 19985 results in an error. This means that some of the posts by older members with lots of posts cannot be searched with the ""Search user's posts"" function.

Example:
 [https://www.phpbb.com/community/search.php?author_id=191594&start=19985]
 This link is as far back one can search a user's posts before getting an error. Advancing the page or the number, even just by one results in: ""Sorry, search could not be performed. More information about this failure has been logged in the error log.""

AmigoJack gave me information and took a screenshot: [https://www.phpbb.com/community/viewtopic.php?p=15590891#p15590891]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jwv:",,,,,,,,,,,,,,"12/Sep/20 9:42 PM;qcz;yup, getting the same error.....;;;",,,,,,,,,,,,,,,,,,,,,
Gateway Timeout,WEBSITE-1397,36694,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,25/Sep/20 8:36 AM,29/Sep/20 10:10 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"Yesterday while deleting user with post awaiting approval I got that error. Today approximately 4:30 EST same thing occurred with two successive users.

 

The notification, post and user is deleted so I believe it may be occurring on redirect.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jyf:",,,,,,,,,,,,,,"26/Sep/20 7:37 AM;Paul;This is most likely due to some LB changes. Did it start happening after wednesday afternoon?
And how long did it before take to delete a user?;;;","27/Sep/20 4:58 AM;thecoalman;That's probably when it stared occurring Paul if not shortly after, it happened one day and I didn't think much of it. I reported because it occurred again.  It's still occurring now.

It took very long time to delete user previously but no errors, at least ten to fifteen seconds. It was long enough I'd usually open two tabs if there was many posts to deal with.  Didn't notice but now that you mention it deletion appears to be faster.;;;","29/Sep/20 10:08 AM;thecoalman;Just an up[date. This issue still exists on every deletion. I'm also seeing it using the ""whois"" link for one user, it's repeatable for that user. Quick test on another random user and it works repeatedly. ;;;","29/Sep/20 10:10 AM;Paul;Yes, I know, just have been sick in bed last week :)

 

I know the cause, but need to find a proper solution. It is caused by some protection we added last week. The deletion still works, only you don't get the result in the browser.;;;",,,,,,,,,,,,,,,,,,
Too much empty space in viewonline.php for regular users,PHPBB-16596,36683,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Siava,Siava,09/Sep/20 12:40 PM,10/Sep/20 7:58 AM,08/Nov/25 11:12 AM,,3.2.10,3.3.1,,,,,Styles,,,,,,0,prosilver,template,,,,,,Please see screenshot.,,,,,,,,,,,,,,,,,"09/Sep/20 12:37 PM;Siava;viewonline.PNG;https://tracker.phpbb.com/secure/attachment/20471/viewonline.PNG",,,,,,,,,,,,,,,,,"0|i03jvz:",,,,,,,,,,,,,,"09/Sep/20 5:01 PM;Hanakin;What exactly would you want us to put there? Also we are working on replacing prosilver so will fix there;;;","10/Sep/20 6:25 AM;3Di;The related template still uses tables, with some small CSS changes it could be amended, in the meantime.;;;","10/Sep/20 6:46 AM;Hanakin;Again amended to what? One column will still be large;;;","10/Sep/20 7:58 AM;3Di;Again, this can be fine tuned in the meantime we all are waiting for the 4.0.x version.

 ;;;",,,,,,,,,,,,,,,,,,
Display check mark for notification permanently on mobile devices,PHPBB-16594,36680,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Mannix_,Mannix_,02/Sep/20 1:53 PM,02/Sep/20 1:53 PM,08/Nov/25 11:12 AM,,3.2.10,3.3.1,,,,,Notification System,Styles,,,,,0,css,front-end,prosilver,,,,,"I noticed that on mobile devices it can be hard to mark notification as read in the notification dropdown box. So I would suggest to make the check mark visible for mobile devices permanent by adding 
{code:java}.dropdown-extended li a.mark_read {
 display: block;
}{code}
to the responsive.css file.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jvb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add 'I forgot my username' ,PHPBB-15756,35365,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,v12mike,v12mike,13/Aug/18 3:53 PM,16/Aug/20 1:38 PM,08/Nov/25 11:12 AM,,3.2.4,,,,,,Login,User Control Panel (UCP),,,,,0,,,,,,,,"Add a 'I forgot my username' link to the login screen which allows a user to retrieve (via email) the user name(s) associated with that email address.  

I have written a patch that provides that feature and I will upload it to git.

The interface and internal mechanisms are similar to those for 'I forgot my password'.

I believe that this patch solves (using a different mechanism) the problem raised in https://tracker.phpbb.com/browse/PHPBB3-10432 ",,,,,,,,,PHPBB-16576,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03e5b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow users to also use their email address to login,PHPBB-14691,33019,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,jidanni,jidanni,23/Jun/16 7:40 AM,16/Aug/20 1:38 PM,08/Nov/25 11:12 AM,,3.1.5,,,,,,Login,,,,,,3,,,,,,,,"Allow users to also use their email address to login, in addition to their username.

Their email address might be much easier to remember and/or type in, especially for non-ASCII alphabets. There is little security advantage to forcing them to type only their username when many other boards accept both email and username.

This will also save a retrieval step if they forget their username.

When implementing be sure the prompt also mentions both.",,,,,,,,,PHPBB-16576,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0015b:",,,,,,,,,,,,,,"23/Jun/16 11:51 AM;david63;I cannot see why you want to make users login using both their username and email address - this just seems more complicated, or are you trying to say that you can use *either* username *or* email address?

If the latter then this would require more extensive changes due to the fact that it is possible in phpBB for multiple users to have the same email address.;;;","23/Jun/16 3:29 PM;jidanni;Yes, either.

Well I don't know how to deal with multiple users with the same email address, no matter with 'forgot my password' or much other functionality.

All I know is on Facebook I can login with jidanni or jidanni@jidanni.org.

On FetLife I can login with jidann@jidanni.org or Dan_Jacobson (or whatever I change it too.)

On CouchSurfing, well,  have a look. https://www.couchsurfing.com/users/sign_in?cs_new_fe=true;;;","24/Jun/16 11:44 PM;jidanni;Discuz! sites like http://ragii.net/ (dropdown in middle of screen) allow users to login via their choice of one of email, username, and even user_id (UID)!;;;","31/Oct/19 7:42 PM;rubencm;I don't think this is a good idea since multiple users can have the same e-mail.

Same with remember password: https://tracker.phpbb.com/browse/PHPBB3-10432;;;","21/Nov/19 2:59 PM;david63;It would probably make more sense to remove the option to reuse email addresses.

 

I suspect that this feature was added in the early days of phpBB where you only had one computer and email address per household so by reusing email addresses several members of a family could access a board.

 

Today I suspect that there are very few who share an email address, and certainly very few who would be using the same board.;;;",,,,,,,,,,,,,,,,,
At login - Username request via email or login with email address capability,PHPBB-16576,36662,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,genshijin,genshijin,15/Aug/20 10:41 AM,16/Aug/20 1:38 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,,,,,,,0,front-end,,,,,,,"I keep seeing a lot of members trying to log in using their email and failing (connection log ext). It's every day and I have to keep sending out emails reminding people and the whole memberlist.... but it keeps happening. I have to tell them to trawl through the memberlist to find one they think is their username, or use the password reset link as it sends username as well.

Easy answer would be letting people login with username or email address. Or link like 'I forgot my username'. Or the password reset link text updated to explicitly say it sends username in email. It does not say that on the phpbb login / reset password page at the moment.

Getting username reminders has to be clear rather than use the password reset link( not stated for username). Or let people log in with email as well (probably best idea).

 

 

 ",,,,,,,,,,PHPBB-15756,PHPBB-14691,,,,,,,,,,,,,,,,,,,,,,,"0|i03jrb:",,,,,,,,,,,,,,"15/Aug/20 8:28 PM;3Di;Looks like a new feature request to me.;;;","16/Aug/20 12:21 PM;genshijin;Thanks. Should've been a feature long ago. It is a drain on time informing people regularly and I guess users are frustrated and not logging in to see topics (events) for board members only.

I consider it a bug as there is no clear described way to obtain your username if you cannot log in.;;;",,,,,,,,,,,,,,,,,,,,
"SameSite=None; Secure Cookie Settings",PHPBB-16475,36525,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,WelshPaul,WelshPaul,11/May/20 12:45 PM,14/Aug/20 12:39 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,,,,,,,1,Cookies,,,,,,,"Any plans to make phpbb ready for SameSite=None; Secure Cookie Settings?
[https://www.smarthostingplans.com/uncat ... -settings/|https://www.smarthostingplans.com/uncategorized/get-ready-for-new-samesitenone-secure-cookie-settings/]

http://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=75006",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03j6f:",,,,,,,,,,,,,,"19/Jun/20 6:54 PM;Tomba;How would we want to see this implemented?

Given that the secure setting is configurable, I guess we want this one changeable in the cookiesettings ACP page as well.

A dropdown for the possible options seems to fit, but maybe we should look at the bigger picture, and make a textfield for ""additional cookie attributes""?;;;","19/Jun/20 8:20 PM;3Di;SameSite cookies explained: https://web.dev/samesite-cookies-explained/;;;","14/Aug/20 12:27 PM;DavidIQ;Can just be a drop-down with 3 values: _None_, _Lax_, _Strict_ with _None_ being the default and matching what is current behavior. Not in favor of having a free-text field for cookie attributes because that will just cause more support issues related to cookies. Cookies are a hard-enough concept for many to grasp (and get right) without the addition of a free for all field.;;;","14/Aug/20 12:39 PM;3Di;The way I see it, it should be automatic and transparent. I remember studying the subject months ago.;;;",,,,,,,,,,,,,,,,,,
User Notification Options Problem,PHPBB-16560,36645,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,david63,david63,03/Aug/20 11:50 AM,06/Aug/20 7:59 AM,08/Nov/25 11:12 AM,,3.3.0,3.3.1-RC1,,,,,Notification System,,,,,,0,,,,,,,,"There is a problem with the Notification Options that are in the UCP if you try and use them in the ACP - or any other situation where you want to edit them for another user.

The basic problem is that in the *get_subscription_types()* function there is this line *if ($type instanceof \phpbb\notification\type\type_interface && $type->is_available())* and it is the last part (*$type->is_available()*)that is creating the issue. This calls the *is_available()* function in each of the notification types files and is using *$this->user->data['user_id']* (or similar) - effectively using the current user which, if being accessed from the ACP, will be an Admin.

This area needs to utilise the sending of any user id",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jnz:",,,,,,,,,,,,,,"04/Aug/20 7:47 PM;3Di;It was designed for the UCP only and *is_available()* just checks the auths in fact, of *$this->user->data['user_id']*.

 

Using other methods of the notification manager allows you to define the User ID, though.

 ;;;","05/Aug/20 10:05 AM;david63;Just because something was ""designed"" for one purpose does not mean that it is correct and cannot be re-visited and improved.

The *is_available()* function has in some files explicitly the code *$this->user->data['user_id']* so it is not just for checking the auths.


Having spent two days wading through the Notification Manager there was nothing obvious that would allow for the definition of a user ID in this aspect.;;;","06/Aug/20 7:54 AM;3Di;As I said, ""user notification options"" speaks books to everyone --> UCP

As been coded on purpose ""UCP"", you are attempting to use it for a purpose has been not made for, not to mention that forcing User's choices it is against any privacy policy rules (GDPR or whatever).

 

You can use different methods already present in the notification manager to fit your needs along with some simple query, as we did in some cases. I don't think this will be ever be changed. That's my opinion.

 

But you know, feel free to push a PR with your changes. ;);;;",,,,,,,,,,,,,,,,,,,
Improvements to viewonline.php,PHPBB-16558,36642,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,v12mike,v12mike,28/Jul/20 6:34 AM,28/Jul/20 11:26 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Other,,,,,,0,Sorted,,,,,,,"The viewonline page gives the ""Forum Location""  for each reported session, but the data in this field defaults to ""Index"" for any page that is not specifically coded in viewonline.php.

This makes it look as if a lot of users are hitting the index page when in fact they are somewhere on another page.

I have created a patch which changes the default value to ""Unrecognised Page""
The patch additionally displays (to admins only) the actual page URI from the sessions table, which is much more interesting.",All,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jnb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Search and BBCodes,PHPBB-16464,36511,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,david63,david63,03/May/20 9:36 AM,16/Jul/20 6:23 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,BBCode Engine,Posting,Search,,,,0,,,,,,,,"If you create a post that contains BBCode as this
{code:java}
[color=#BF0000][b]SomeText[/b][/color]
{code}
and then search for ""SomeText"" it will not be found.

If you add ""SomeText"" into the same post as normal text and then search it will find, and highlight, both text entries.

If you enter {code:java}
[b]SomeText[/b]
{code}Then there is no problem with the search - it will be found.

Not sure if this may be something to do with the combination of text highlighting and the use of the color BBCode",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03j3j:",,,,,,,,,,,,,,"15/Jul/20 10:48 PM;JoshyPHP;I tracked down the issue to [this line|https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/search/fulltext_native.php#L1349], which removes some BBCodes if their name is at least 5 chars long and maybe they have an attribute.
{code}(\:?[0-9a-z]{5,}){code}
Removing the end part above might fix it somewhat. Alternatively, I think it may be possible to replace the two regexps with calls to {{clean_formatting()}} and {{remove_bbcode()}} from the {{text_formatter.utils}} service. That's assuming the indexer operates on parsed content. An alternative would be to operate on the original text, even if it requires unparsing it.;;;",,,,,,,,,,,,,,,,,,,,,
List of friends unnecessarily appears on all UCP tabs,PHPBB-16547,36630,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,10/Jul/20 1:08 PM,10/Jul/20 1:41 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,User Control Panel (UCP),,,,,,0,,,,,,,,"As discussed in [https://www.phpbb.com/community/viewtopic.php?f=661&t=2559226] if a member has added other member's as a Friend, the list of Friends appears on each and every UCP tab on the left side. 

When reviewing or acting on the various tabs, many do not make reference to the list of Friends, so why is this information displayed in all UCP tabs? It should allow appear when an UCP tab (or function) might make use of the Friends list information, such as when composing a PM, or changing the ""Manage friends""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jkn:",,,,,,,,,,,,,,"10/Jul/20 1:40 PM;thecoalman;I don't believe this to be unnecessary as it's empty space otherwise. As I noted in the referenced topic  adding a ""PM"" button when not viewing the compose message pane gives it more functionality.;;;",,,,,,,,,,,,,,,,,,,,,
Change parse option terminology/Add option in ACP to enable/disable automatic parsing URLs,PHPBB-16542,36624,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,steve1200,steve1200,30/Jun/20 9:39 PM,30/Jun/20 10:01 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Posting,,,,,,0,front-end,,,,,,,"Many users on my board are not programmers, and do not understand some functional terms, I've noticed the failure to use the ""Do not automatically parse URLs"" in posts. So I end up with broken links like [http://mydomain.com|http://mydomain.com/].

As a result I manually changed the function so the box is checked by default and text message displays ""Automatically convert URLs to links"". I believe this is easier to understand for those that do not know what parse means.

Adding an option for automatic parsing in ACP would allow admins to turn parsing on and off, as needed, in each forum, much like the Notify me when a reply is posted option.","php 7.3.16, MySQL 5.5.5 , Firefox 77.0.1",,,,,,,,,,,,,,,,"30/Jun/20 9:17 PM;steve1200;tempsnip.png;https://tracker.phpbb.com/secure/attachment/20433/tempsnip.png",,,,,,,,,,,,,,,,,"0|i03jjb:",,,,,,,,,,,,,,"30/Jun/20 9:59 PM;3Di;Thanks.

 

Let me link the discussion: [https://area51.phpbb.com/phpBB/viewtopic.php?f=99&t=75501]

Then finally here we go: https://area51.phpbb.com/phpBB/viewtopic.php?f=141&t=75511;;;",,,,,,,,,,,,,,,,,,,,,
"""bug"" in moving posts: soriting in mod backend not synchronized with frontend",PHPBB-16501,36581,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,bug-i,bug-i,30/May/20 4:38 PM,30/May/20 4:45 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"The sorting of posts in the mod backend is not similar / synchronized with the personal user settings in the frontend. This leads to the problem that when selecting posts to move to another topic I do not land at the page, where the desired post is. Solution would be to have the same sorting order in back and frontend. Aim should be to see directly the post, that I selected to move in the frontend before I click on ""Quick Moderation""

Also see: [https://www.phpbb.com/community/viewtopic.php?p=15516686#p15516686]",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jc7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Keep selection active,PHPBB-16502,36582,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,bug-i,bug-i,30/May/20 4:43 PM,30/May/20 4:44 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"If I try to move posts into another topic I have to remeber to select the target topic first, because when you not enter the target topic-id manually and use the select topic link then all selected post are unselected again. If I remember right then jumping to another page during moderation also removes the selection of post. 

Thats all not critical, just not very user-friendly.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jcf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Problem with upload images with huge Exif Data,PHPBB-16498,36551,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,sameleon1,sameleon1,26/May/20 7:51 PM,27/May/20 8:59 AM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Attachments,,,,,,0,,,,,,,,"We have problem while uploading images from motorola camera devices. There is lot of EXIF data and phpbb says UNABLE_GET_IMAGE_SIZE. We are running php 7.4 and phpbb3.3.0 . Probably problem on GetimageSize

In case of strip EXIF data from the image, upload working fine. Problematic image attached.

Our workaround is to bypass following code on {{phpbb/files/filespec.php}}{{ }}

{{$this->image_info = $this->imagesize->getImageSize($this->destination_file, $this->mimetype); }}

{{if ($this->image_info !== false) }}

{{{ }}

{{$this->width = $this->image_info['width']; }}

{{$this->height = $this->image_info['height']; // Check image type $types = upload::image_types(); if (!isset($types[$this->image_info['type']]) || !in_array($this->extension, $types[$this->image_info['type']])) \{ if (!isset($types[$this->image_info['type']])) { $this->error[] = $this->language->lang('IMAGE_FILETYPE_INVALID', $this->image_info['type'], $this->mimetype); } else \{ $this->error[] = $this->language->lang('IMAGE_FILETYPE_MISMATCH', $types[$this->image_info['type']][0], $this->extension); } } // Make sure the dimensions match a valid image if (empty($this->width) || empty($this->height)) \{ $this->error[] = $this->language->lang('ATTACHED_IMAGE_NOT_IMAGE'); } } }}

{{else }}

{{{ ;; }}

{{//$this->error[] = $this->language->lang('UNABLE_GET_IMAGE_SIZE'); }}

{{} }}

{{}}}

 

 ",php 7.4,,,,,,,,,,,,,,,,"26/May/20 7:48 PM;sameleon1;IMG_20200524_142044812.jpg;https://tracker.phpbb.com/secure/attachment/20341/IMG_20200524_142044812.jpg","27/May/20 5:49 AM;sameleon1;exif.zip;https://tracker.phpbb.com/secure/attachment/20420/exif.zip","27/May/20 7:54 AM;3Di;image-2020-05-27-09-53-56-675.png;https://tracker.phpbb.com/secure/attachment/20421/image-2020-05-27-09-53-56-675.png","27/May/20 7:58 AM;3Di;image-2020-05-27-09-58-08-940.png;https://tracker.phpbb.com/secure/attachment/20422/image-2020-05-27-09-58-08-940.png","27/May/20 7:59 AM;3Di;image-2020-05-27-09-59-35-071.png;https://tracker.phpbb.com/secure/attachment/20423/image-2020-05-27-09-59-35-071.png",,,,,,,,,,,,,"0|i03jbj:",,,,,,,,,,,,,,"26/May/20 10:09 PM;3Di;Could you please ZIP that image and attach it so to get all of the native data? Thanks.;;;","27/May/20 5:50 AM;sameleon1;Sure, here is the zip archive with two version of same image. Exif version is the problematic.

[^exif.zip];;;","27/May/20 6:01 AM;3Di;Okay, so the issue is where you try to post that image using attachments I guess.

 

Then you get a ""UNABLE_GET_IMAGE_SIZE"" instead of its human readable format as per:

'_It was not possible to determine the dimensions of the image. Please verify that the URL you entered is correct._' ?

 

I will give it a shot later on today/tomorrow.;;;","27/May/20 6:11 AM;sameleon1;No, I got  text in Human readable form, the problem is that this attached image can not be parsed by getImageSize() function and can not be uploaded to post as attachment. I have disabled widht X height checking but this IF clause  on my first post return error in any case.;;;","27/May/20 6:18 AM;3Di;Okay understood thx.;;;","27/May/20 8:00 AM;3Di;Ok, the image with Exif data you posted is valid, its signature it is

[https://www.filesignatures.net/index.php?page=search&search=FFD8FFE1&mode=SIG]

 

As per

!image-2020-05-27-09-53-56-675.png!

 

I was able to upload it as an attachment just increasing the size of the header in the FastImageSize JPEG type file

 

""ROOT\vendor\marc1706\fast-image-size\lib\Type\TypeJpeg.php""
{code:java}
namespace FastImageSize\Type; class TypeJpeg extends TypeBase
{code}
as
{code:java}
const JPEG_MAX_HEADER_SIZE = 1048576; // = 1024 kiB
{code}
instead of 
{code:java}
const JPEG_MAX_HEADER_SIZE = 786432; // = 768 kiB
{code}
  !image-2020-05-27-09-58-08-940.png!

 

Here is the attached image and its exif data

 

!image-2020-05-27-09-59-35-071.png!;;;","27/May/20 8:01 AM;3Di;Just let us know if the same applies also there within your environment.

 

 ;;;","27/May/20 8:55 AM;sameleon1;Greate Increase of JPEG MAX HEADER SIZE resolve this issue. Thank you.;;;","27/May/20 8:59 AM;3Di;Okay, thanks for feedback.;;;",,,,,,,,,,,,,
Enable disabling of bumping topics to top of forums due to new posts,PHPBB-16495,36547,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Heo32,Heo32,24/May/20 4:32 PM,24/May/20 7:35 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.1,4.0.0-a1,,,,Posting,Viewing forums,,,,,0,phpbb-website,Sorted,update-script,,,,,"In the ACP, it would be nice to have the ability to allow and disallow certain forums from having topics bumped to the top of a forum because someone posted a new reply to a topic / an older topic / a really old topic.

 

By not allowing old topics from being notably brought back to life (bumped) by potential trolls and spammers, this would cut down on unnecessary attention by forum communities of old and obsolete topics that are past expiry, and keep new and relevant topics at the top of forums where they belong.",,,,,,,,,,,,,,,,,"24/May/20 7:35 PM;3Di;image-2020-05-24-21-35-31-855.png;https://tracker.phpbb.com/secure/attachment/20335/image-2020-05-24-21-35-31-855.png",,,,,,,,,,,,,,,,,"0|i03jan:",,,,,,,,,,,,,,"24/May/20 7:35 PM;3Di;There is already a forum permission ""f_bump"" that you can use on a per forum/user or group basis.

 

!image-2020-05-24-21-35-31-855.png!;;;",,,,,,,,,,,,,,,,,,,,,
puppeteer as alternative to facebook php-webdriver,PHPBB-16186,36200,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,20/Oct/19 1:12 PM,10/May/20 10:57 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Continuous Integration (CI),Test Suite,,,,,0,testsuite,,,,,,,"Marc proposed in discord to use symfony/phanter to replace php-webdriver, the problem is that phanter is developed on top of php-webdriver.
 If is necessary an alternative for the ui tests, we can try puppeteer, but I don't know if there is something for this in php, so maybe the ui tests should be rewritten in nodejs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h6v:",,,,,,,,,,,,,,"12/Mar/20 1:59 PM;mrgoldy;Is this still relevant after the updated webdriver? {{php-webdriver}} instead of the facebook webdriver?
See: https://tracker.phpbb.com/browse/PHPBB3-16396 &&  [https://github.com/phpbb/phpbb/pull/5887];;;","10/May/20 10:57 PM;rubencm;php-webdriver was having problems with travis, I don't know if the updated version have too;;;",,,,,,,,,,,,,,,,,,,,
ACP modules to controllers,PHPBB-16200,36214,35946,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,mrgoldy,mrgoldy,04/Nov/19 8:43 PM,02/May/20 11:10 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,ACP,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h9z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
UCP modules to controllers,PHPBB-16202,36216,35946,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,mrgoldy,mrgoldy,04/Nov/19 8:46 PM,02/May/20 11:10 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,User Control Panel (UCP),,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03haf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MCP modules to controllers,PHPBB-16201,36215,35946,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,mrgoldy,mrgoldy,04/Nov/19 8:46 PM,02/May/20 11:10 AM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ha7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Need an additional Notification option for approving PM reports,PHPBB-16455,36497,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,stevemaury,stevemaury,21/Apr/20 11:24 PM,22/Apr/20 3:20 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,,,,,,,0,,,,,,,,"There are moderator permissions for ""Can close and delete reports"" under the Posts tab (m_report) and for ""Can close and delete reports of private messages"" under the Misc tab (m_pm_report).

In the UCP, under ""Edit Notifications preferences"" there is only an entry for ""Someone reports a post "", and nothing for ""Someone reports a PM"".

Since a given user can have either one or both of these permissions (or none, in which case I assume the option does not display), there should be a separate Notification option for each permission.  Otherwise it leads to confusion.

As it is now, the Notification appears to apply to both, or either, option, depending on the user's permissions.

See  https://www.phpbb.com/community/viewtopic.php?p=15486041#p15486041",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03j0f:",,,,,,,,,,,,,,"22/Apr/20 6:53 AM;CHItA;I would prefer fixing the label over adding another option. I might be wrong but I think a moderator would either wanted to be notified of all reports they can see, or none of them.;;;","22/Apr/20 3:17 PM;stevemaury;Then we really need two language entries:

1.  ""Someone reports a post"" - for those with m_report
2.  ""Someone reports a private message"" - for those with m_pm_report 

Those with both permissions would see both and those with neither, none.  Even if all those who see reports want to be notified, there is no guarantee they will want the same mode (Notification or Email or both) for each type of report.

If we were to have only one entry, what would it say? 

;;;",,,,,,,,,,,,,,,,,,,,
Change the unapproved icon from ? to something more obvious,PHPBB-15505,34801,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,KevC,KevC,09/Jan/18 2:01 PM,15/Apr/20 9:42 AM,08/Nov/25 11:12 AM,,3.2.2,,,,,,,,,,,,0,,,,,,,,"Suggestion to change the unapproved icon from a question mark to a more obvious icon. As it shows at the end of a topic title, where a question mark may already exist it can easily be missed even though the notification system can pick it up if it's turned on.

 

3.1 used to have an inverted triangle which was much more obvious. An unapproved topic or post should be immediately visible to the mod team, not something that can be missed.",,,,,,,,,,,,,,,,,"20/Jan/18 7:53 PM;canonknipser;Screenshot_20180120_205106.png;https://tracker.phpbb.com/secure/attachment/19126/Screenshot_20180120_205106.png",,,,,,,,,,,,,,,,,"0|i03ci7:",,,,,,,,,,,,,,"09/Jan/18 2:15 PM;DavidIQ;I'd say that maybe adding a color indication might be better.;;;","09/Jan/18 2:18 PM;KevC;Yep that could work as an alternative. Maybe having the whole topic title coloured differently, although on some styles that might cause problems.;;;","20/Jan/18 7:52 PM;canonknipser;Maybe make it red and change the icon from fa-question to fa-question-circle-o or fa-question-circle

See attached example (third line is default):

!Screenshot_20180120_205106.png!

@KevC on other style the style author is responsible for choosing useful correct colours ;);;;",,,,,,,,,,,,,,,,,,,
FAQ need to be revised,PHPBB-16438,36478,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,12/Apr/20 12:28 PM,12/Apr/20 11:19 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,,,,,,,0,,,,,,,,"The Frequently Asked Questions need to be edited, because some parts aren't exact or no longer valid.

 
{quote}*How do I create a new topic or post a reply?*

To post a new topic in a forum, click ""New Topic"". To post a reply to a topic, click ""Post Reply"". You may need to register before you can post a message. A list of your permissions in each forum is available at the bottom of the forum {color:#de350b}*and topic screens*{color}. Example: You can post new topics, You can post attachments, etc.
{quote}
The permissions list isn't included in viewtopic_body.html, therefore the permissions aren't displayed at the bottom of topic screens. In fact, prosilver has never displayed the list there, only subsilver2 did. *Either* prosilver should list the permissions at the bottom of topic pages *or* edit the FAQ.

 
{quote}*How do I prevent my username appearing in the online user listings?*

Within your User Control Panel, under “Board preferences”, you will find the option *{color:#de350b}_Hide your online status_{color}*. Enable this option and you will only appear to the administrators, moderators and yourself. You will be counted as a hidden user.
{quote}
The option is ""Hide {color:#de350b}*my*{color} online status"" (sure, it's a trivial error, but it's still an error)

 
{quote}*What is the difference between bookmarking and subscribing?*

In phpBB 3.0, bookmarking topics worked much like bookmarking in a web browser. You were not alerted when there was an update. {color:#de350b}*As of phpBB 3.1*{color}, bookmarking is more like subscribing to a topic. You can be notified when a bookmarked topic is updated. Subscribing, however, will notify you when there is an update to a topic or forum on the board. Notification options for bookmarks and subscriptions can be configured in the User Control Panel, under “Board preferences”.
{quote}
Perhaps the part ""{color:#de350b}*As of*{color} phpBB 3.1"" should be changed... the current version is phpBB 3.3",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03iw7:",,,,,,,,,,,,,,"12/Apr/20 12:40 PM;DavidIQ;""Since phpBB 3.1"" is not correct grammar in that sentence. That correction/change shouldn't happen.;;;","12/Apr/20 1:06 PM;DavidIQ;I think that whole FAQ entry should be rewritten and the 3.0 and 3.1 references removed.;;;","12/Apr/20 2:34 PM;P_I;The most common frequently asked question on my boards is why are PM's stuck in my outbox. It is explained in [https://www.phpbb.com/support/docs/en/3.2/ug/userguide/pm_folders/] ;;;","12/Apr/20 5:49 PM;Big Monstro;{quote}""Since phpBB 3.1"" is not correct grammar in that sentence. That correction/change shouldn't happen.
{quote}
Indeed, but you can alter the rest of that sentence too: ""since phpBB 3.1, bookmarking have been more like subscribing to a topic"" is grammatically correct.

The 3.0 and 3.1 references can be removed if you prefer, phpBB 3.0 has no longer been supported for several years (phpBB 3.0.14 was released on May 2015);;;","12/Apr/20 5:51 PM;VSE;Why don't we have  ""A list of your permissions in each forum is available at the bottom of the forum {color:#de350b}*and topic screens""?*{color}

 

{color:#172b4d}I know this was once a MOD. But I always thought it should have been part of phpBB. {color};;;","12/Apr/20 11:16 PM;Big Monstro;In fact, the display function *gen_forum_auth_level*() is still present in viewtopic.php.

Therefore, phpBB 3.3 could display the permissions list at the bottom of topic pages, without editing viewtopic.php

Apart from modifying viewtopic_body.html, the only task would be adding the language string FORUM_PERMISSIONS (which only exists for viewforum).;;;",,,,,,,,,,,,,,,,
Add index to improve acl_get_list database performance,PHPBB-16431,36471,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,mj44,mj44,09/Apr/20 5:26 PM,10/Apr/20 1:21 PM,08/Nov/25 11:12 AM,,3.2.7,,,,,,Database Abstraction Layer (DBAL),,,,,,0,,,,,,,,"I found the acl_get_list query to take ~7 seconds on a beefy AWS RDS Aurora box. 
This was being called often as we use stop forum spam. A github issue showed some others had similar issues: [https://github.com/rmcgirr83/stopforumspam/issues/19]

acl_get_list:

[https://area51.phpbb.com/docs/code/3.1.x/phpbb/auth/auth.html#method_acl_get_list]

Tried about 20 index variations, but found that mysql only liked putting an index on all 4 columns in the user_group table. I am aware this is odd, but after not getting meaningful performance improvements without it, this is my recommendation for an enhancement to the DDL in phpbb. 

 

{{ALTER TABLE {{phpbb_user_group}}}}
{{ ADD INDEX {{ acl_get_list_tuning}} ({{group_id}} ASC, {{user_pending}} ASC, {{user_id}} ASC, {{group_leader}} ASC);}}
{{ ;}}","Apache/2.4.41 (Amazon) PHP/7.2.24 , 5.7.mysql_aurora.2.04.5",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03iun:",,,,,,,,,,,,,,"10/Apr/20 1:21 PM;JoshyPHP;You should post an EXPLAIN for the query before and after adding the index.;;;",,,,,,,,,,,,,,,,,,,,,
Receiving notifications from ignored members,PHPBB-16064,35951,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,WelshPaul,WelshPaul,20/May/19 6:22 AM,08/Apr/20 8:44 AM,08/Nov/25 11:12 AM,,3.2.7,,,,,,Notification System,,,,,,4,foe,notifications,phpbb,,,,,"Members are receiving notifications when a post of theirs is quoted by a member on their ignore list.

https://www.phpbb.com/community/viewtopic.php?f=556&p=15259981&sid=054e6fe9683ef8000486328a5bf92120#p15259981",php 7.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gd3:",,,,,,,,,,,,,,"21/May/19 7:06 AM;EA117;It does seem logical to me as well that the default behavior of putting someone on your ignore list should be ""I don't want to see notifications related to that user or their activity.""

We put a user into the ignore list in order to stop seeing the posts this user makes, so the default expectation is ""I shouldn't see notifications about the posts this user makes.""  Whether that notification could have been due to a topic subscription, or due to a forum subscription, or due to a quoting notification, or anything else such as an @username ping (not that this is part of base phpBB functionality).

Which isn't to say there wouldn't be varying +preferences+ as to what an individual user might still want to see ""even for a user I put on my blocked list.""  But without engaging the additional complexity of providing a granular UCP UI in which individual notification types for an ignored user can be configured, the default in absence of such granular control is logically ""all types should be blocked."";;;","08/Apr/20 8:44 AM;Nachvollciba;I agree that it does not make sense to notify a user about posts he explicitly does not want to see anyways. And when you ignore a user you probably also do not want them to show up in your notifications.

Some time ago I wrote an extension that does fix this (among other things). I will see if I can refactor this code into a patch for this issue.;;;",,,,,,,,,,,,,,,,,,,,
Strange behaviour on groups page,PHPBB-16324,36350,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Mick,Mick,15/Jan/20 7:51 PM,02/Apr/20 3:19 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,,,,,,,0,,,,,,,,"Basically the member count has gone over to page two as there are now 25 members on page one but on the second page it says “This group has no members”. See image attached. 

FWIW - It’s the same on .com.",PHP 7.2.26 MySQL(i) 10.3.21-MariaDB-1:10.3.21+maria~bionic.,,,,,,,,,,,,,,,,"15/Jan/20 7:46 PM;Mick;997235C6-C9C3-4B4C-97C0-5D0EC0776707.jpeg;https://tracker.phpbb.com/secure/attachment/20270/997235C6-C9C3-4B4C-97C0-5D0EC0776707.jpeg","16/Jan/20 12:56 AM;3Di;image-2020-01-16-01-55-57-181.png;https://tracker.phpbb.com/secure/attachment/20271/image-2020-01-16-01-55-57-181.png",,,,,,,,,,,,,,,,"0|i03i3r:",,,,,,,,,,,,,,"16/Jan/20 12:56 AM;3Di;Let's say that the above grab is from the ACP, then I am unable to reproduce it.

In my test board the registered user groups has 19 members, also if I set the ""topics per page"" to 19 I can't.

 

!image-2020-01-16-01-55-57-181.png!;;;","02/Apr/20 3:14 PM;Mick;When you try, what message do you see in the second page? “This group has no members”? I’ll try and get some better grabs next time I see it.;;;","02/Apr/20 3:18 PM;3Di;I do not have a second page. No pagination.;;;",,,,,,,,,,,,,,,,,,,
Add custom contact profile field icon,PHPBB-16413,36449,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,24/Mar/20 3:57 PM,27/Mar/20 4:16 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,ACP,Viewing posts,,,,,0,,,,,,,,"Currently custom profile fields system is missing handling of CPF icons for post miniprofiles. For the built-in ""custom"" fields, icons are just hardcoded; for all user defined CPFs, simply the same default icon is used from {{/styles/[stylename]/theme/images/icons_contact.png}}.
So it would make better UI to add an option to define FontAwesome icon for contact CPFs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ipr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Re-implement ""Drafts"" as normal posts and PMs visible only to the poster",PHPBB-16193,36207,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,v12mike,v12mike,30/Oct/19 6:36 AM,18/Mar/20 7:40 PM,08/Nov/25 11:12 AM,,3.3,,,,,,Posting,Private Messages (PM),,,,,0,Sorted,,,,,,,"See https://www.phpbb.com/community/viewtopic.php?f=436&t=2522421

This improvement will allow draft posts and PMs to be saved with attachments and formatting.

It will remove the drafts table and about 95% of the existing code related to drafts.  The code added to replace (and enhance) the behaviour should be somewhat more compact.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h8f:",,,,,,,,,,,,,,"18/Mar/20 7:40 PM;Hanakin;please doo not spam every component on tickets thank you.;;;",,,,,,,,,,,,,,,,,,,,,
There should be an option to set the default poll length in ACP,PHPBB-16408,36443,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,16/Mar/20 10:33 PM,17/Mar/20 5:40 AM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,ACP,,,,,,0,,,,,,,,"When polls are created, the default option for poll length is 0 a never ending poll. 

Based on my experience, most users either don't see that value of disregard it. The end result is most polls are endless, while typically the poll question is inspired by recent events. 

I would propose there should be an ACP setting to allow the default poll length to be specified by the board administrator. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03iof:",,,,,,,,,,,,,,"16/Mar/20 10:37 PM;DavidIQ;I think it might be better to not prepopulate at all and always require a value so it is purposefully entered.;;;","16/Mar/20 11:04 PM;P_I;That might work. In that case maybe the board admin should be able to set a maximum poll length just like there is already a setting to set the maximum number of poll questions. 



The bottom line is the board admin needs more control of the parameters associated with polls. ;;;","17/Mar/20 5:40 AM;3Di;Creating polls is a permission not granted to everyone, the administrator must only give it to serious and responsible people.

 ;;;",,,,,,,,,,,,,,,,,,,
There is no maximum number of line breaks for signature,PHPBB-16170,36183,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,28/Sep/19 12:00 PM,05/Mar/20 8:23 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,ACP,Memberlist/viewing profiles,User Control Panel (UCP),Viewing posts,,,0,,,,,,,,"In the ACP, an administrator can change some signature settings, such as the maximum number of characters.

 

However, there is no option to limit the number of line breaks (<br/> in HTML). Some users can have a ""short"" signature in terms of number of characters but a long signature in terms of lines (eg: someone types a poem as signature, with short sentences but numerous lines). Consequently, the signature can alter the readability of topics because its *height* is too high, not because of the number of characters",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h33:",,,,,,,,,,,,,,"30/Sep/19 12:27 PM;JoshyPHP;That's something that can be implemented as an extension via the {{core.ucp_profile_modify_signature}} or {{core.modify_text_for_storage_before}} events.

Realistically, I think it's simpler to just politely communicate to the users what's acceptable in a signature.;;;","01/Oct/19 12:47 PM;EA117;I also wonder whether proposing ""count line breaks"" is simply more of the same ""not definitive enough"" approach for what we're saying this phpBB setting intended to provide control for, too.  i.e. Anything else the user is allowed to put into the signature which isn't a line break but which still takes up vertical real estate will become ""the next issue"", even if line breaks are counted.

Potentially making ""character limit"" into a ""line limit"" – but then having the actual _enforcement_ of that ""line limit"" be via CSS rather than any actual ""count"" – is the more definitive control to have?  i.e. More closely aligned to the intention of ""limit the visual size of the signature.""  By giving the site administrator definitive control of ""how much real estate are signatures allowed to consume"", instead of only ""guessing"" or being ""somewhat able to control that"" through character or line break counts.

e.g. Whatever is configured as the ""line limit"" would be incorporated into the CSS styling of the signature block, such that it's applied as an _""em""_-based _max-height_ or similar.  (So that it remains relative to the font size otherwise being used by the selected style and/or web browser.)  And with overflow set to be clipped, so that anything in the user's signature that ends up bigger than this ""line limit"" simply isn't shown.;;;",,,,,,,,,,,,,,,,,,,,
Add two indexes to posts table,PHPBB-16371,36401,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,UNRULY,UNRULY,21/Feb/20 10:39 PM,26/Feb/20 5:20 AM,08/Nov/25 11:12 AM,,3.3.0,,,,,,,,,,,,0,database,,,,,,,"Deleting a user on a medium size forum with zero messages takes multiples of seconds. Backend is mysql 5.7.29 / MyISAM. Looking into slow queries log, the following queries take seconds:

UPDATE bbs_posts
 SET post_edit_user = 1
 WHERE post_edit_user = 103246;

UPDATE bbs_posts
 SET post_delete_user = 1
 WHERE post_delete_user = 103246;

 

Adding two indexes makes user delete operation sub-second as expected. Suggesting adding the following indexes to the posts table:

 

create index post_edit_user on ...posts (post_edit_user);

create index post_delete_user on ...posts (post_delete_user);

 

From trade-off perspective, since we optimize ""for read"" small additional tax on insert should be justifiable.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03if3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Search times out on a medium size forum,PHPBB-16372,36402,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,UNRULY,UNRULY,21/Feb/20 10:52 PM,21/Feb/20 10:52 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,Search,,,,,,0,database,search,,,,,,"Search times out on a medium size forum when searching by multiple words. Search ""index"" is kept in the mysql tables. The following search mysql query runs multiple seconds eventually timing out the web request:

 

SELECT SQL_CALC_FOUND_ROWS p.post_id FROM (bbs_search_wordmatch m1 CROSS JOIN bbs_search_wordmatch m2 CROSS JOIN bbs_search_wordmatch m0) LEFT JOIN bbs_posts p ON (m0.post_id = p.post_id) WHERE m0.word_id = 8113 AND m1.word_id = 8114 AND m1.post_id = m0.post_id AND m2.word_id = 4366 AND m2.post_id = m0.post_id AND ((p.forum_id <> ...
 AND p.post_visibility = 1) OR p.forum_id IN (...)) AND p.forum_id <> ... GROUP BY p.post_id, p.post_time ORDER BY p.post_time DESC
 LIMIT 250;

 

As we see there is a (multiple) Cartesian products here which is not super efficient when it comes to larger tables. I suggest to consider replacing this query with the one along the lines of:

select p.post_id from (select post_id, count(distinct word_id) from bbs_search_wordmatch where word_id in (8113, 8114, 4366) group by 1 having count(distinct word_id) = 3) t join bbs_posts p on p.post_id = t.post_id where ((p.forum_id <> ... AND p.post_visibility = 1) OR p.forum_id IN (...)) AND p.forum_id <> ... GROUP BY p.post_id, p.post_time ORDER BY p.post_time DESC LIMIT 250;

 

The query produced the same result, but takes 20-30 milliseconds instead of 12-15 seconds. Idea behind it is to search for the posts that have all three words (having keyword). I assume it could be just a specific scenario in search function, but probably could provide an option to eliminate cross join usage.

 

Thank You.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ifb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Knowledge Base article print layout needs improvement,WEBSITE-1377,36387,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Minor,,,P_I,P_I,07/Feb/20 5:36 PM,07/Feb/20 5:36 PM,08/Nov/25 11:12 AM,,,,,,,,Knowledge base,,,,,,0,,,,,,,,"Per [https://www.phpbb.com/community/viewtopic.php?p=15426746#p15426746] the print layout of knowledge base pages contains extraneous information, two pages worth. It would be much improved if only the knowledge base article itself was included in the print layout. ",,,,,,,,,,,,,,,,,"07/Feb/20 5:36 PM;P_I;phpBB • Knowledge Base _ phpBB3 Permissions.pdf;https://tracker.phpbb.com/secure/attachment/20281/phpBB+%E2%80%A2+Knowledge+Base+_+phpBB3+Permissions.pdf",,,,,,,,,,,,,,,,,"0|i03ibz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New function to handle combobox config items added to ACP,PHPBB-15429,34580,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,hubaishan,hubaishan,31/Oct/17 9:07 AM,03/Feb/20 10:26 AM,08/Nov/25 11:12 AM,,3.2.1,,,,,,ACP,Extensions,,,,,0,core,function,,,,,,"Putting extension configuration beside similar phpbb core  configuration is the best behavior in many cases when  the extension do a little change to phpBB work,  'core.acp_board_config_edit_add' event do this good, but  extension writer can't add a combobox config ('type' => 'select') because it requires a core function or method, so I suggest simple function handle this.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bzb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Reactivation link isn't working if user hasn't been activated,PHPBB-16256,36276,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,kasimi,kasimi,13/Dec/19 11:06 PM,31/Jan/20 3:01 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,,,,,,,0,,,,,,,,"With admin activation enabled, an admin can force a user to reactive his account which sends an email to the user with an activation link. However, if the account hasn't been activated by an admin yet, the link isn't working and displays ""You do not have the necessary permissions to complete this operation."" to the user.

Ideally, ""Force reactivation"" for a user shouldn't be possible if admin activation is enabled and the account hasn't been activated by an admin yet.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hnr:",,,,,,,,,,,,,,"31/Jan/20 3:01 PM;rxu;The issue seems to be deeper.
1) As per ucp_activate.php https://github.com/phpbb/phpbb/blob/master/phpBB/includes/ucp/ucp_activate.php#L61-L64 user can't activate by link if user inactive reason differs from INACTIVE_REMIND.

2) As per acp_inactive.php https://github.com/phpbb/phpbb/blob/master/phpBB/includes/acp/acp_inactive.php#L299-L302 administrator has an option to send a reminder with an activation link if the board email feature is enabled, regardless of the user inactive reasons. Clicking on such a link will lead to NO_AUTH_OPERATION error as per #1.

3) As per acp_inactive.php https://github.com/phpbb/phpbb/blob/master/phpBB/includes/acp/acp_inactive.php#L203 activation reminder will be sent to users having INACTIVE_REMIND (if admin activation method is set) or INACTIVE_MANUAL (if other activation method is set) inactive reason, while as per #1 only INACTIVE_REMIND inactive reason is valid for activation link.

4) As per acp_users.php https://github.com/phpbb/phpbb/blob/master/phpBB/includes/acp/acp_users.php#L1043 administrator has an option to force reactivation  for any inactive user if board emails feature is enabled, while as per #1 only INACTIVE_REMIND inactive reason is valid for activation link.

5) Thus, for any activation method other than ""By user"" (""By admin"", ""No activation"", ""Disable registration"") it is possible to send a reminder with an activation link, which has no point.

So the whole feature seems to be inconsistent, unless I'm missing something obvious.;;;",,,,,,,,,,,,,,,,,,,,,
Sphinx: Use SphinxQL instead of SphinxAPI,PHPBB-14398,32389,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Fisch.666,Fisch.666,08/Jan/16 5:40 PM,02/Jan/20 10:45 PM,08/Nov/25 11:12 AM,,3.1.6,,,,,,Search,,,,,,0,search,Search,sphinx,,,,,"Hi,

in current versions of phpBB 3.1 the SphinxAPI is used to talk to a Sphinx Search Daemon. This API is deprecated as stated in the sphinxapi.php of current Sphinx versions:

{quote}
// WARNING!!!
//
// As of 2015, we strongly recommend to use either SphinxQL or REST APIs
// rather than the native SphinxAPI.
//
// While both the native SphinxAPI protocol and the existing APIs will
// continue to exist, and perhaps should not even break (too much), exposing
// all the new features via multiple different native API implementations
// is too much of a support complication for us.
//
// That said, you're welcome to overtake the maintenance of any given
// official API, and remove this warning ;)
{quote}

As a bonus the usage of SphinxQL could give a high performance gain as shown it this (even some years old) benchmark:

http://sphinxsearch.com/blog/2010/04/25/sphinxapi-vs-sphinxql-benchmark/","Sphinx 2.2.10, phpBB 3.1.6",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i0034n:",,,,,,,,,,,,,,"01/Jan/20 11:38 PM;KYPREO;Moving from SphinxAPI to SphinxQL would require a complete rewrite of the Sphinx backend. I'm also not convinced it will have superior performance in a phpBB environment given that on my board with 2 million posts, search queries are already well under 100ms each.

SphinxAPI has been deprecated in the v.3 branch of Sphinx. However, it has continued to prove stable in the 2.2 branch. Any PHP compatibility issues can be addressed by phpBB maintaining sphinxapi.php itself.  Alternatively, we can migrate the Sphinx backend to Manticore, which is an open source fork from Sphinx which is actively maintaining support for the PHP SphinxAPI.

More detail in my post here: https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=59836&p=334056#p334056;;;","02/Jan/20 9:38 AM;Fisch.666;Thanks for providing this details.

> Any PHP compatibility issues can be addressed by phpBB maintaining sphinxapi.php itself.

Sounds like an alternative as well. A good step forward could be to update the highly outdated sphinxapi.php from 2012 shipped by phpBB. For this i had created https://tracker.phpbb.com/browse/PHPBB3-14399 a few years ago.;;;","02/Jan/20 10:45 PM;KYPREO;Thanks @Fisch.666. I have commented on sphinxapi.php in your other ticket. The sphinxapi.php included with phpBB is actually a version modified by phpBB and has been updated to reflect some of the important changes, but I will look at anything else needs to be updated...;;;",,,,,,,,,,,,,,,,,,,
Posts waiting for approval should be visible to the authors,PHPBB-16275,36296,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,david63,david63,28/Dec/19 1:19 PM,28/Dec/19 1:19 PM,08/Nov/25 11:12 AM,,3.3.0-RC1,,,,,,Posting,,,,,,0,,,,,,,,"To maintain backwards compatibility the default option for ""Display unapproved posts to the author:"" should be set to ""No"" and not, as currently, set to ""Yes""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Refactor ACP Resynchronise or reset statistics layout,PHPBB-16268,36289,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,3Di,3Di,25/Dec/19 1:59 AM,25/Dec/19 9:26 PM,08/Nov/25 11:12 AM,,3.3.0-RC1,,,,,,ACP,,,,,,0,easy,,,,,,,"That's really ugly.

 

!image-2019-12-25-02-58-33-806.png!",,,,,,,,,,,,,,,,,"25/Dec/19 1:58 AM;3Di;image-2019-12-25-02-58-33-806.png;https://tracker.phpbb.com/secure/attachment/20260/image-2019-12-25-02-58-33-806.png",,,,,,,,,,,,,,,,,"0|i03hqn:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Negative numbers for Unread PMs,PHPBB-16259,36279,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,stevemaury,stevemaury,17/Dec/19 5:28 PM,17/Dec/19 5:30 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"This should not be able to happen:

 

https://www.phpbb.com/community/viewtopic.php?f=556&t=2532146#p15379021",,,,,,,,,,,,,,,,,"17/Dec/19 5:30 PM;stevemaury;Capture.png;https://tracker.phpbb.com/secure/attachment/20255/Capture.png",,,,,,,,,,,,,,,,,"0|i03hof:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
forum rss feeds ignore If-Modified-Since,PHPBB-16253,36273,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,dmex,dmex,10/Dec/19 4:53 AM,10/Dec/19 4:53 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,"The forum atom/rss feeds ignore the If-Modified-Since header and always send a new response. Feed readers and javascript clients requires the If-Modified-Since header to return http status 304 Not Modified when the data hasn't changed.

 

Adding this code to \phpbb\feed\controller\feed.php at lines 399-402 fixed the issue:

if ($response->isNotModified($this->request)) 
{
 $response->setNotModified();
}

 

I also had another issues using the atom feed from the browser since phpbb doesn't include the ""Access-Control-Allow-Origin"" header with the atom response.

Adding this code to \phpbb\feed\controller\feed.php at line 389 fixed the issue:

$response->headers->set('Access-Control-Allow-Origin', '*');

 

There should probably be ACP some options to control the list of domains for the ACAO headers.

 

 

Thanks

dmex

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hn3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Control panels to controllers,PHPBB-16059,35946,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,mrgoldy,mrgoldy,14/May/19 11:31 AM,27/Nov/19 8:51 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,ACP,Moderator Control Panel (MCP),User Control Panel (UCP),,,,0,,,,,,,,Move contol panels to controllers,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gbz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Cron returns HTML when install folder exists,PHPBB-16220,36239,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Marc,Marc,23/Nov/19 12:00 PM,23/Nov/19 12:00 PM,08/Nov/25 11:12 AM,,3.2.8,3.3.0-b1,,,,,Cron,,,,,,0,,,,,,,,"When the install folder exists, the board is automatically disabled. However, some cron might still be displayed, e.g. when trying to log in. The cron will not return ""image-like"" output but rather the info that the board is currently not available which causes a ""broken"" image to show in the footer.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hfj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Add rel=ugc link attribute for forum posts (as per Google) Mar 1/2020,PHPBB-16214,36233,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Swanny,Swanny,21/Nov/19 3:18 PM,21/Nov/19 3:18 PM,08/Nov/25 11:12 AM,,,,,,,,Posting,,,,,,0,,,,,,,,"Google has released a new link attribute specifically for use in forums to identify links posted by forum members, it's called rel=""ugc"". Here's what they say:

*rel=""ugc"":* UGC stands for User Generated Content, and the ugc attribute value is recommended for links within user generated content, such as comments and forum posts.

More details @ Google's blog: [https://webmasters.googleblog.com/2019/09/evolving-nofollow-new-ways-to-identify.html]

This issue is for phpBB devs to consider adding the rel=ugc to the core phpBB code to help Google properly index forum posts following standards.

It might be a good idea to have rel=ugc NOT show up for forum posts linking to the actual site domain since that content is already verified as good. rel=ugc should probably just be used for external domain links since that content is outside the control of the forum owner.

Google also says: ""All the link attributes, sponsored, ugc and nofollow, now work today as hints for us to incorporate for ranking purposes. For crawling and indexing purposes, nofollow will become a hint as of March 1, 2020.""",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03he7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Include instructions to disable/reenable the database when doing updates,PHPBB-16212,36231,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,MarkDHamill,MarkDHamill,20/Nov/19 1:18 AM,20/Nov/19 1:18 AM,08/Nov/25 11:12 AM,,3.2.8,,,,,,ACP,Documentation,,,,,0,,,,,,,,"ACP > System > Check for updates

I believe this page, as well as docs/Install.html and any appropriate pages on phpbb.com should be updated to instruct users to disable the board before doing updates or upgrades, and to reenable it afterward.

It is possible that while following the current procedures, users will experience errors as the /cache and /vendor folders are deleted or new software is being uploaded. When the /install folder is uploaded, the board effectively becomes disabled but that can take some time.

But also, this allows a consistent database backup to occur. On large boards the phpbb_forums table may be backed up long before the phpbb_posts table is, leading to a potentially inconsistent database if the database has to be recovered.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03hdr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"utf8_clean_string does ""circular replacement"" of some characters",PHPBB-15427,34578,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,dbj,dbj,30/Oct/17 12:31 PM,08/Nov/19 3:11 PM,08/Nov/25 11:12 AM,,3.2.1,3.2.2,3.2.8,,,,Other,,,,,,0,,,,,,,,"While working with phpBB I noticed the function utf8_clean_string and what it is supposed to do, i.e. avoid usernames that look similar or even identical but are different (by using ""look alike characters"")

Anyway, first, there is this replacement: 'ǃ'=>'!' 

Later, there is this replacement: '!'=>'ǃ'

One of them is an exclamation mark, the other is LATIN LETTER RETROFLEX CLICK. Depending on the font, you may see a difference between the two or not.

It means the replacement is A => B and B => A which does not make much sense, because a username containing A will be cleaned to B and vice versa.


Other characters don't have this problem, for example all kind of question marks are replaced by the character ʔ (LATIN LETTER GLOTTAL STOP).

But what's the point of the replacement rules for the exclamation mark?
By using these rules, the usernames ""testǃ"" and ""test!"" are different usernames for phpBB.
But the usernames ""test?"" and ""testʔ"" are the same for phpBB and thus prohibited.",Does not depend on environment.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03byv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Better Management of Notifications,PHPBB-14604,32913,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,16/Apr/16 3:45 PM,31/Oct/19 6:23 PM,08/Nov/25 11:12 AM,,3.1.8,,,,,,Notification System,,,,,,1,,,,,,,,"I've the mark read option, but I don't have the mark unread option as on PMs.
With mark unread option I would be able to select read notifications, right now I can't select read notifications unless I click on Mark All.

And I should be able too of delete notifications.

This would bring a better notification system. Users could manage their notifications as they want.

Best Regards",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i001r3:",,,,,,,,,,,,,,"28/Dec/17 12:17 PM;Tarantino;There is an extension for this already. I guess we can close this one too.;;;","31/Oct/19 6:23 PM;rubencm;There is already something to autodelete notifications, the setting ""Read Notification Expiration:"" in Load Settings in ACP.

But as a user, I miss something to delete notifications too;;;",,,,,,,,,,,,,,,,,,,,
Smilie PAK Installation → Installed Smilies Order Doesn't Match PAK File,PHPBB-16194,36208,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Mulsiphix,Mulsiphix,30/Oct/19 1:01 PM,30/Oct/19 1:09 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,ACP,,,,,,0,,,,,,,,"*+What Is Occurring?
 +*I have 119 new Emoji to upload. They are ordered in the Smilie.PAK file according to how I would like them to be ordered on the forum. But after uploading the file, the order is broken in several areas. After [seeking support|https://www.phpbb.com/community/viewtopic.php?f=556&t=2527826], it was determined that the file order broke as soon as it encountered a differing value in the ""Display On Posting Page"" field.

If all values are set to '1' or '0', then the images will install (during PAK installation) in the proper order. The value of the first image establishes whether 1's or 0's will be expected in all images that come after it. As soon as phpBB encounters an image with an opposite setting in this field, then the order is disrupted; with one exception. I did an install where the first 54 files were set to '1' and the last 65 were set to '0'. The files displayed correctly.

 

*+What Is The Expected Behavior?+*

The files should upload in the same order they are listed in the PAK file, regardless of their Display setting.

 

*+Procedure+*
 1. Deleted all files in [c]/images/smilies/[/c]
 2. Uploaded images and PAK file to same location.
 3. Installed through the ACP (Posting → Smilies), choosing the ""Delete All"" option during installation.

 

+*Helpful Files*
 +_Note: Added files to Issue, but also linking to remote resources for convenience._
 # The [contents|https://pastebin.com/zN97pZhk] of my PAK file.
 # Smilies Listing in the ACP: [Part One|https://i.postimg.cc/7LRxPCpG/1-php-BB-ACP-Smilies-Page-1-Full.png], [Part Two|https://i.postimg.cc/DzRTk9X1/2-php-BB-ACP-Smilies-Page-2-Full.png], [Part Three|https://i.postimg.cc/sgNF7kKb/3-php-BB-ACP-Smilies-Page-3-Full.png]
 # Side-by-Side [Comparison|https://i.postimg.cc/Dztj5F94/side-by-side-comparison-final.png] (all 119 images)","phpBB Version: 3.2.8
PHP Version: 5.6.30
MySQL Version: 5.6.41-84.1
Database Software: phpMyAdmin 2.4.39
Server OS: Linux running Apache 2.4.39
User OS: Windows 10 Pro
Browser: Chrome v78.0.3904.70 (Official Build) (64-bit)",,,,,,,,,,,,,,,,"30/Oct/19 1:00 PM;Mulsiphix;1a. phpBB ACP, Smilies Page 1 (Full).png;https://tracker.phpbb.com/secure/attachment/20235/1a.+phpBB+ACP%2C+Smilies+Page+1+%28Full%29.png","30/Oct/19 1:00 PM;Mulsiphix;1b, phpBB ACP, Smilies Page 2 (Full).png;https://tracker.phpbb.com/secure/attachment/20234/1b%2C+phpBB+ACP%2C+Smilies+Page+2+%28Full%29.png","30/Oct/19 1:00 PM;Mulsiphix;1c. phpBB ACP, Smilies Page 3 (Full).png;https://tracker.phpbb.com/secure/attachment/20233/1c.+phpBB+ACP%2C+Smilies+Page+3+%28Full%29.png","30/Oct/19 1:00 PM;Mulsiphix;1d. phpBB ACP, Smilies Pages 1 thru 3 (Joined).png;https://tracker.phpbb.com/secure/attachment/20232/1d.+phpBB+ACP%2C+Smilies+Pages+1+thru+3+%28Joined%29.png","30/Oct/19 1:00 PM;Mulsiphix;2. Side-by-Side-Comparison (Complete).png;https://tracker.phpbb.com/secure/attachment/20231/2.+Side-by-Side-Comparison+%28Complete%29.png","30/Oct/19 12:55 PM;Mulsiphix;Discourse_Emoji.pak;https://tracker.phpbb.com/secure/attachment/20236/Discourse_Emoji.pak",,,,,,,,,,,,"0|i03h8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Redirection not followed when using OAuth,PHPBB-15964,35814,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Ectoman,Ectoman,09/Feb/19 1:59 AM,27/Oct/19 1:16 AM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Authentication,Login,User Control Panel (UCP),,,,1,oauth,,,,,,,"When a user logs in, or authenticates using the built in Oauth system of phpBB, the redirection URL is not followed nor included following the login process. A user could be in the middle of something and they will always be redirected to the forum main page.

Fixing this could be as easy as including the redirection to the Oauth provider when returning back to phpBB. This may add the vulnerability if the Oauth provider is not trusted and for some reason rewrites the redirection, but that seems unlikely.",PHP 7.2,,,,,,,,PHPBB-16104,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03flr:",,,,,,,,,,,,,,"09/Feb/19 3:33 AM;Ectoman;Oauth2 prohibits wildcard redirections: https://tools.ietf.org/html/rfc6749#section-3.1.2

I believe now the only way to accomplish this is to store the redirection url temporarily server side, because you cannot include it with the Oauth redirection_uri without whitelisting every single page of your site.

Could this be stored in a session or cookie?;;;",,,,,,,,,,,,,,,,,,,,,
Update PHP mail() failure logging with additional information.,PHPBB-16179,36192,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,EA117,EA117,07/Oct/19 3:44 PM,07/Oct/19 3:44 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,Other,,,,,,0,Email,,,,,,,"The current /includes/functions_messenger.php logging for PHP mail() failure currently looks similar to:
{code:java}
Email error
» EMAIL/PHP/mail()
/forum/adm/index.php{code}
Which is ""accurate"" for what as failed in a technical sense, but not for the phpBB operator who needs to understand what has been affected.  With the phpBB SMTP code we have an elaborate and helpful trace of the entire conversation, and if we made it that far, even the subject line and recipient of the email attempting to be sent.

Suggest that we improve the PHP mail() logging, or maybe even all of the email failure logging, to ensure that ""what was the subject line of the message"" (i.e. has a topic notification failed, has an administrator notification failed, has a personal email request failed, etc., which also confirms which template content would have been used) and ""to whom was the message being sent"" (which might relate to the failure, but at least imparts knowledge of whom hasn't received their email as intended) is always included in the error log.

Even though we're unable to log ""what went on inside the PHP mail() function itself"", we could still be more helpful to the phpBB administrator who is looking at their error log after the fact and needing to determine what is failing.

Bonus points for define DEBUG causing us to log the actual headers and data generated for the email, even in the PHP mail() case.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h53:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
The addition of signature in the post details can be improved...,PHPBB-16173,36186,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,28/Sep/19 9:53 PM,28/Sep/19 9:53 PM,08/Nov/25 11:12 AM,,3.2.4,3.2.8,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"Thank you for adding \{SIGNATURE} variable in php files related to MCP (since phpBB 3.2.4)...

However, I think you can improve that feature:
 * if a signature is not attached to a post, the poster's signature is not displayed in viewtopic.php, and should be not displayed in the post details too.
 * The same logic should be applied in MCP queue or reports, if the reported post didn't contain a signature at the time someone reported the post (just like the reported text is the text at the time someone reported the post, regardless the future edits)
 * You can imagine someone reports a post because of an inappropriate signature. If the post author or anyone else changes the signature after the reporting, the former signature no longer exists, even in the report *[this can be definitely considered as a bug!]*. Whereas the reported text will be still in the report, regardless the future edits.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h3r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Ban events should be included in the latest 5 logged actions,PHPBB-15196,33868,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,26/Apr/17 1:25 PM,28/Sep/19 9:14 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0,3.2.8,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"In 'Main >>> Front page' of Moderator Control Panel, you can see the latest 5 posts awaiting approval, the latest 5 reports, the latest 5 PM reports and the latest 5 logged actions.

Oddly, the ban events are never included in these latest 5 logged actions, whereas the moderators can see them in the complete Moderator logs.

Is it possible to make the ban events visible in the short moderator log? If a ban event is among the latest 5 moderation actions, it should be displayed in the Main >>> Front page of MCP.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03adj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Adding the possibility to search directly within a category (and its subforum),PHPBB-15615,34973,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,09/Apr/18 12:35 PM,28/Sep/19 9:13 PM,08/Nov/25 11:12 AM,,3.2.2,3.2.8,,,,,Viewing forums,,,,,,0,,,,,,,,"Consider a board where the search feature is enabled (the default setting).

 

When browsing within a forum, there is a search box to directly search keywords inside that forum. But that search box is missing when you are browsing within a category (even if it has subforums, not an empty category).

 

However, you CAN search within a given category (and its subforum) in the Advanced Search.

 

So, why not adding the searchbox in viewforum.php when you're browsing inside a category?",,,,,,,,,,,,,,,,,"09/Apr/18 12:33 PM;Big Monstro;advanced search.png;https://tracker.phpbb.com/secure/attachment/19254/advanced+search.png","09/Apr/18 12:33 PM;Big Monstro;browsing a category.png;https://tracker.phpbb.com/secure/attachment/19255/browsing+a+category.png","09/Apr/18 12:33 PM;Big Monstro;browsing a forum.png;https://tracker.phpbb.com/secure/attachment/19256/browsing+a+forum.png",,,,,,,,,,,,,,,"0|i03d8n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Categories can be visible on the index page, without any icon",PHPBB-16116,36100,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,29/Jul/19 7:45 PM,28/Sep/19 8:58 PM,08/Nov/25 11:12 AM,,3.2.7,3.2.8,,,,,Viewing forums,,,,,,0,,,,,,,,"If these conditions are met:
 * there are a category and its subforum, both are +inside another category located on the index+ (the first category is thus a ""subcategory"").
 * the guest or a given user cannot see that subforum, although that latter exists (due to permissions).

He or she can see the category on the index page (the category should be invisible, just like a category without any forum) and no forum image is display. I didn't detect that bug with viewforum.php (e.g. if you look inside a category with a such subcategory), only with index.php.

 

The bug seems to be not style-related, I encountered that not only on prosilver or other board styles using the forumlist_body.html template file.

 

I attached two screenshots below.

 

EDIT: the bugs also appears on index.php if there are three empty categories (a category located at the index, the second category located inside the first one and, finally, the third category located inside the second one).

 

 ",,,,,,,,,,,,,,,,,"29/Jul/19 7:38 PM;Big Monstro;second_category_without_icon.png;https://tracker.phpbb.com/secure/attachment/20123/second_category_without_icon.png","29/Jul/19 7:38 PM;Big Monstro;third_category_without_icon.png;https://tracker.phpbb.com/secure/attachment/20122/third_category_without_icon.png",,,,,,,,,,,,,,,,"0|i03gqf:",,,,,,,,,,,,,,"12/Aug/19 6:50 PM;Big Monstro;I've updated my bug report since I found an alternative condition to experiment that same issue.;;;",,,,,,,,,,,,,,,,,,,,,
Refactor viewforum script logic to services,PHPBB-16165,36151,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,CHItA,CHItA,CHItA,22/Sep/19 8:25 AM,22/Sep/19 4:25 PM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,This ticket is a sub-task of moving viewforum to controllers.,,,,,,,PHPBB-15934,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03h1r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Get the error message ""The post you requested does not exist."" after you deleted it",PHPBB-16164,36150,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,21/Sep/19 6:51 PM,21/Sep/19 6:51 PM,08/Nov/25 11:12 AM,,3.2.8,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"If you go to the post via *viewtopic.php*, you can click on the info button to get post details.

 

Then (mcp.php), you can edit the content, change the poster, lock the post to prevent any further editing (except by a moderator) or delete it. If you choose to erase the post, you can decide to actually remove the post from the database or just hide it from the normal users.

 

Finally, if you *permanently* delete the post, you'll eventually get an error message ""The post you requested does not exist"" instead of going back to a valid page (MCP for example). It's definitely a bug. That doesn't occur if you delete the post directly in the topic (viewtopic.php).",,,,,,,,,,,,,,,,,"21/Sep/19 6:45 PM;Big Monstro;delete_from_post_details.png;https://tracker.phpbb.com/secure/attachment/20145/delete_from_post_details.png","21/Sep/19 6:47 PM;Big Monstro;if_you_have_permanently_delete_post.png;https://tracker.phpbb.com/secure/attachment/20143/if_you_have_permanently_delete_post.png","21/Sep/19 6:46 PM;Big Monstro;immediately_after_delete.png;https://tracker.phpbb.com/secure/attachment/20144/immediately_after_delete.png",,,,,,,,,,,,,,,"0|i03h1j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Length of ban should be mentioned in user feedback,PHPBB-15985,35840,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tomba,Tomba,06/Mar/19 8:55 PM,17/Sep/19 6:19 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,,,,,,,0,,,,,,,,"When handing a ban to a user, a note is added to the user's feedback feed, along with the internal reason that was given for the ban.

It would be extremely useful to also add then length of a ban, so mods can check afterwards how long previous bans were.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/5691,,,,"0|i03frj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
ACP mass email feature suboptimal workflow,PHPBB-16145,36131,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,01/Sep/19 3:05 PM,01/Sep/19 11:30 PM,08/Nov/25 11:12 AM,,3.2.8,3.3,4.0.0-a1,,,,ACP,,,,,,1,,,,,,,,"Mass email feature workflow in ACP can take significant amount of resources when using email queue. What happens:

If ""Send immediately"" checkbox is unchecked, everything is dumped to the /cache/queue.php cache file.

For every email package (depending on ""Email package size"" setting value) it dumps a chunk (in serialized form): addresses list, email headers, email subject, full email text (note that the text is the same for every user/chunk). So, you get as many chunks as: Number of users to send / Email package size.

Then the board cron reads the full queue.php file (never minding the size it could be), unserializes it, takes the chunk, sends it, serializes the rest of queue and dumps it back to the queue.php file.

This happens in a loop until the queue is empty.

This workflow is very suboptimal for more or less many registered users (imagine some board having f.e. 10 000 users and Email package size of 10-20, you get 500-1000 chunks; if a chunk is big, you can get problems with the board/server operation).

 

Suggestion is to redo the workflow in a way it wouldn't duplicate at least the same email text for every user/chunk in the queue.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gxb:",,,,,,,,,,,,,,"01/Sep/19 11:30 PM;EA117;Certainly sounds good for the efficiency of the internal processing.  And if just the internal workflow needed to remain the focus, then perhaps everything I'm about to mention would be pushed to its own separate issue/enhancement.

For the actual user experience occurring during this mass email process, could there be benefit to ""combining"" the ""send immediately"" and ""use the queue"" approaches?

For example, maybe generate the mass email to the queue 100% of the time.  But then if ""send immediately"" was selected, we invoke acp_email.php in a new mode which repeats a cycle similar to:

_""Drain one (1) mass email job from the cron list.  Send just the one (1) email package that cron job wants to send.  Update a status page to show progress on draining the mass email jobs from the cron list.  Redirect to the same URL to do it again until the cron list has been completely drained of mass email jobs.""_

i.e. Giving administrators a way to say ""I'm happy to sit here and use my session to force the sending all of these emails right now"", but with a natural ""chunking"" that takes advantage of the same cron & email package mechanism that would have been used even if they didn't want to wait for it.  In addition to the visual indication of progress, I'm thinking this also helps ensure we don't run afoul of PHP operation time limits when there are a huge number of emails to send during ""send immediately.""

Even in cases where the admin does de-select ""Send immediately"" and wants a background send, the acp_email.php page could show a current status of the background email send in the cron list.  To let the admin who re-visits this page later know what progress has been made, and so they know the mass email(s) they previously sent have not yet completed sending all the messages.  That status could even offer a ""send the rest immediately""-type link, which simply invokes the same _""drain the mass email jobs from the cron list, right now using my session""_ mode as we would use when you select ""Send immediately"".

That sounds like a lot, and so probably does need to be a separate enhancement.  But when re-working the internal processing, maybe thinking of such potential future enhancements might influence some of the internal design choices that are made, to ensure we're not heading in a direction that makes it harder to implement.  For what it's worth.;;;",,,,,,,,,,,,,,,,,,,,,
Client side image attachment resize is not always working,PHPBB-16130,36115,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,jim5055,jim5055,12/Aug/19 10:39 AM,16/Aug/19 2:11 PM,08/Nov/25 11:12 AM,,3.2.7,,,,,,,,,,,,0,attachments,Images,plupload,re-size,,,,"I (as recently arrived admin) enabled image upload re-size by setting ACP to 1280 x 900 pixels. (was formerly 0x0 or no resize).

Upload limit is set to 200KB if no resize occurs.

What I and forum members are finding is that re-size does not always occur and if the native size of the image is greater that 200KB then we get an attach error (yellow triangle)

The issue is browser dependent and device dependent.

At one stage using Safari browser Version 12.1.2  on Mac OSX 10.14.46 no issue with photos of 6MB down. Now (a few days later) and all image attachments get the yellow triangle that when clicked states that images must be 200KB or lower. Chrome browser Version 76.0.3809.100 on the same operating system has no issue uploading a 6MB image - the image being dropped in size to approx 223KB.

Windows 10 pro offers the same inconsistency.

Mobile devices also provide very random results. My iPhone 7 plus seems limited at 2.2MB- nay higher and unable to load. Android 6.1 running on old Nexus 7 tablet has no issue with 6MB files.

I suspect a server side issue - resource issue - but the issue seems to be independent of server load.

 ","Hosted service - shared resources 
50GB disk (3GB used), 1GB RAM
PHPBB 3.2.7
Number of users on line at any one time in 10's not 100's",,,,,,,,,,,,,,,,"14/Aug/19 9:21 AM;jim5055;SAfari_not_working.pcapng;https://tracker.phpbb.com/secure/attachment/20129/SAfari_not_working.pcapng","14/Aug/19 9:21 AM;jim5055;chrome working vs safari not.xlsx;https://tracker.phpbb.com/secure/attachment/20131/chrome+working+vs+safari+not.xlsx","14/Aug/19 9:21 AM;jim5055;chrome-working-compression.pcapng;https://tracker.phpbb.com/secure/attachment/20130/chrome-working-compression.pcapng","16/Aug/19 6:22 AM;EA117;compare-left-chrome-right-safari.png;https://tracker.phpbb.com/secure/attachment/20134/compare-left-chrome-right-safari.png","16/Aug/19 12:33 AM;jim5055;test_6000wide_5700KBNative_after_Chrome_reduction.JPG;https://tracker.phpbb.com/secure/attachment/20133/test_6000wide_5700KBNative_after_Chrome_reduction.JPG","16/Aug/19 12:33 AM;jim5055;test_6000wide_5700KBNative_after_Safari_reduction.JPG;https://tracker.phpbb.com/secure/attachment/20132/test_6000wide_5700KBNative_after_Safari_reduction.JPG","16/Aug/19 6:53 AM;jim5055;tsp_test_6000wide5700kb_original.JPG;https://tracker.phpbb.com/secure/attachment/20135/tsp_test_6000wide5700kb_original.JPG",,,,,,,,,,,"0|i03gtr:",,,,,,,,,,,,,,"13/Aug/19 10:13 AM;jim5055;Using wireshark to see what is happening.

When I drop a 6MB file into the post window with Safari and Chrome the complete file is initially uploaded. I can see no difference in this behaviour between the two browsers.

But after the upload.

Chrome receives a json message containing an attach_id 12896 then ""do unload_url"":"".\/ download\/file.php?mode=view&amp:id=12896"".  Then more transfers . . .presumable the smaller file.

Safari receives a json message ""The file is too big etc"" - no attach_id

 ;;;","13/Aug/19 10:15 AM;jim5055;So this is a server side issue - the Safari session is not getting an attach_id;;;","14/Aug/19 9:20 AM;jim5055;It is a server side issue but rather indirect.

The same photo dropped in chrome and safari.

Chrome will reduce it to 151Kbyte

Safari will reduce it to 272kByte

The site has a 200Kbyte upload limit.

So that fact the degree of compression depends on the browser is surprising.;;;","14/Aug/19 9:41 PM;EA117;I think what we're actually talking about here is the resize code in moxie/plupload.  (/phpBB3/assets/plupload/)  For which phpBB currently uses plupload 2.3.6 ([https://github.com/moxiecode/plupload/releases]).

I primarily intend to clarify that it wouldn't be ""a server-side issue.""  And would instead be a difference in the client-side handling in plupload, prior to HTTP posting the image bytes up to the server.  Which is also confirmed in the attached XLS document, and in the LAN traces supplied which show that the image data being uploaded to the server was already 151737 bytes in the success case, but was 272453 in the failure case.  i.e. _Before_ it's uploaded to the server.

So the file size to be uploaded was indeed in excess of the server policy for attachment file size.  Presumably _this_ would be the reason for ""not getting an attach ID"", and not because ""there is a server-side problem here.""  The user simply tried up upload an attachment that was larger than the permitted size.

The parameters provided to plupload are simply ""height, width and quality.""  Height and width come from the image-specific settings in the ACP Attachment Settings page (1280 x 900 in your described case), and quality is hard-coded in /phpbb/plupload/plupload.php as 85%.  (_""resize: \{width: %d, height: %d, quality: 85}""_)

Which doesn't directly control or require anything with regard to what the resulting _file size_ might still be after _successfully_ resizing to this ""target height"" and ""target width"" at a specific ""target quality"".  Based on your observations, on the Safari platform tested, specifying 85% quality got a significantly different final result with regard to file size than the same 85% when requested on the Chrome platform.

So is the Safari case failing because 85% quality wasn't actually achieved?  Or because the Safari platform defaults to ""leave it included"" for additional metadata that was present, rather than ""strip it out""?  Or has the Chrome case ""inappropriately succeeded"" in creating a sub-200KB image, because it has removed something that shouldn't have been removed?  And Safari actually has ""the correct result""?

To try and make further conclusions, you would probably want to look at the post-resize image from both cases, in addition to the original image.  e.g. Increase the size limit during the Safari test, and collect the successfully-uploaded version of the image which ""had been expected to be the same as the Chrome result.""

If here in the tracker if you can then attach the successfully-uploaded Chrome image, and the successfully-uploaded Safari image, and the original 6M unmodified image, then some image expert here might be able to analyze and say more about what happened differently in one platform's resize versus the other.

Perhaps use a a .zip file to attach all three (3) images, to ensure the tracker's own image or attachment handling doesn't take any further liberties with the file content prior to analysis.

I suppose we _could_ be talking about ""one platform is stripping EXIF metadata and the other platform is not"", but it's not that I recall seeing that there had been a conclusion ""it depends on the browser and OS platform you're uploading from"" in discussion of phpBB users who were examining EXIF removal.  Maybe someone closer to those EXIF discussions might recognize that this was actually discussed already.;;;","14/Aug/19 10:36 PM;jim5055;Thank you for the detailed response. I do not completely agree this not being a server side issue - the javascript used to reduce image size comes from the server. 

Can I clarify something?

I had thought that the processing sequence was:
 # attachment file received in browser
 # file is reduced using javascript to the required dimensions and 85% JPEG compression in the browser environment
 # Reduced File is transferred to the server (and must be under the server upload limits)
 # If uploaded file is inserted inline and preview clicked there is a transfer from the server of the thumbnail image aka the preview

I did not think that at any stage the full 5Mbyte file was transferred to the server - if it was this action would kind of negate the advantage of client side processing (aka javascript in the browser).

 

 

 

 ;;;","14/Aug/19 11:51 PM;EA117;My expectation is the same as what you listed, and is what's confirmed explicitly in the LAN trace.  You dragged / dropped / attached a 6MB file within the browser, but the HTTP upload in response to that attachment was for under 300KB in both cases.  The ""image resize"" function had been executed locally within the web browser, prior to upload of the image attachment.;;;","15/Aug/19 3:31 AM;EA117;I suppose we need to be clear: The image wasn't resized before upload ""because it was 6MB"".  It was resized before upload ""because it was larger than 1280 x 900.""  plupload isn't trying to solve a ""file size limit""; it's trying to solve a ""image resolution limit.""  It's phpBB itself which then imposes a ""file size limit"", against whatever file gets uploaded.  Whether it's an image or not, and whether it needed to be resized to be within the ""image resolution limit"" or not.

Does changing your plupload filter string to what's seen here cause the Safari result to become more similar in size to the Chrome result:  [https://www.phpbb.com/community/viewtopic.php?f=556&t=2489941|https://www.phpbb.com/community/viewtopic.php?f=556&t=2489941#p15115576]

Meaning in your board's /phpbb/plupload/plupload.php module, around line 269 change the existing hard-coded _'resize: \{width: %d, height: %d, quality: 85},'_ string to instead have _'resize: \{width: %d, height: %d, quality: 85, preserve_headers: false},'_   Meaning add _"", preserve_headers: false""_ to the existing filter string.

If that helps make the Safari file size close to what Chrome generated, then we're saying that the Chrome platform seems to be stripping the headers ""always"", even though the default is ""preserve_headers: true"".  By setting ""preserve_headers: false"", now we're asking Safari platform to always strip the headers during resize, too.;;;","16/Aug/19 12:34 AM;jim5055;I should have added, I will make the recommended changes and see what effect it has.;;;","16/Aug/19 12:42 AM;jim5055;I also uploaded the resulting images from each size reduction (Safari and Chrome);;;","16/Aug/19 6:32 AM;EA117;Regarding the reported failure:

Maybe show me a screen shot of the ACP Attachment Settings, in case I'm misunderstanding something.  It finally dawned on me ""How is a 6MB file being specified for the attachment (and then subsequently resized) if the size limit is set to 200KB?""

If I try and do that (or at least, if I do what I think you're doing), the file is rejected by size alone.  Without ever being given a chance to resize, and without ever being given a chance to upload to the server.  So I'm still doing something different than you are, that you were able to attempt a 6MB file attachment and have it fail _after_ the resize due to a 200KB file size limit.

(Note the ""how"" the file becomes rejected before resize or upload is again via plupload.  phpBB has specified a ""max_file_size:"" parameter to plupload in the /styles/prosilver/template/plupload.html, which uses the phpBB ""max_filesize"" configuration from the database.  i.e. The ""Maximum file size:"" configuration from the ACP Attachment Settings page.  So the plupload code running in the local browser returns this failure, without even sending the file to the server.)

Perhaps you also still need to supply the original source file being attached, in case there is something there which is key to duplicating the outcome too.  e.g. If for some reason the image resolution cannot be determined; although I don't see how that's going to bypass the file size check, either.

 

Let's figure this part out though, because I think if there is a bug here for phpBB, it's probably going to be ""Why wasn't the file rejected by size in the browser in this case?"" (Even if it was the file size post-resize.)  Instead of what's happening in your case, which is the file was allowed to upload pre-resize and post-resize, but was rejected by the server because it was larger than the max_filesize policy.

 

Regarding comparison of the Chrome versus Safari images provided:

Not that I've spent a lot of time comparing JPG images, but the comparison I use says that the Safari image is larger because the quality of the JPG image itself is higher.  e.g. As though Chrome has hit a quality that is lower than 85%, or Safari has hit a quality higher than 85%.  (See the attached left-chrome-right-safari.png.)  No way for me to tell which it might be without the original image.

But ultimately, after seeing the two generated image files, I don't expect the ""preserve_headers: false"" change will end up making any significant difference, because it's the image data itself that is larger.  It appears we're simply seeing a difference in the resize quality of the moxie image handling code on Safari versus Chrome.

 ;;;","16/Aug/19 7:04 AM;jim5055; 

I have uploaded the original image as well.

Yes the wireshark captures show the reduced file sizes being uploaded (not the pre size). In the case of Safari - you are correct in that the upload should never have occurred as the script knew the server limit was 200KB and yet the too large a file was uploaded anyway to be rejected by the server. (the second transfer is the thumbnail from the server I assume) when I selected preview for the post.

 

 

 ;;;","16/Aug/19 2:11 PM;EA117;Thanks; having the original image does allow making some further conclusions.

If you don't mind, I think we've reached the point where this discussion needs to move out to the support forum.  We're in the tracker as though there is already a bug in phpBB is known, but the evidence is not supporting that yet -- or at least has not yet revealed where the bug exists.

Rather than continue spamming the tracker feed with the twenty questions needed for investigation, let's move out to [https://www.phpbb.com/community/viewtopic.php?f=556&t=2519711] and come back here once we have a more definitive diagnosis.;;;",,,,,,,,,,
CLI: Missing langkeys for extension commands,PHPBB-15802,35492,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Skouat,Skouat,22/Sep/18 9:22 PM,13/Aug/19 7:20 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,CLI,,,,,,0,,,,,,,,"Hi,

In CLI when we tried to install/remove/manage extensions and if it fails, the following langkeys are expected:
 * EXTENSIONS_NOT_INSTALLED
 * EXTENSIONS_ALREADY_MANAGED
 * EXTENSIONS_ALREADY_INSTALLED_MANUALLY

But they don't exist (see screenshot).

!file:///C:/Users/Mario/AppData/Local/Temp/snap_screen_20180922231253.png!",,,,,,,,,,,,,,,,,"22/Sep/18 9:13 PM;Skouat;cli_extension_manage.png;https://tracker.phpbb.com/secure/attachment/19623/cli_extension_manage.png",,,,,,,,,,,,,,,,,"0|i03ehz:",,,,,,,,,,,,,,"13/Aug/19 7:20 PM;Crizzo;At the moment language variables for the CLI have always this prefix: ""CLI_"", so maybe we should add the prefix here aswell and then add those three variables? ;;;",,,,,,,,,,,,,,,,,,,,,
Use group\helper to generate group name with proper colour and URL,PHPBB-15807,35498,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Senky,Senky,26/Sep/18 7:36 AM,12/Aug/19 9:00 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,,,,,,,,Currently we display group names and links in an inconsistent way. There should be a method that outputs group name with it's colour and presumably also URL just like we do with usernames (get_username_string),,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ejb:",,,,,,,,,,,,,,"01/Oct/18 12:35 PM;rubencm;I'm not sure if i understand right, but is not better to create a twig function for this?, instead of make a method that returns html;;;","01/Oct/18 2:07 PM;Elsensee;We could also use that as a twig function. Or have it return an array which will then be used.;;;","01/Oct/18 3:44 PM;Senky;It doesn't matter to me how it's done. Point is there should be only one way to display group name for every use.;;;","12/Aug/19 9:00 AM;mrgoldy;Was this something you were refering to? 
[https://github.com/phpbb/phpbb/pull/5459]

Not implemented throughout to code yet though.;;;",,,,,,,,,,,,,,,,,,
Add core event display_user_activity_modify_sql to functions_display.php,PHPBB-15880,35606,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Toxyy,Toxyy,22/Nov/18 8:47 PM,27/Jul/19 8:25 AM,08/Nov/25 11:12 AM,,3.2.4,,,,,,Events,,,,,,0,Event,,,,,,,"Allows the sql queries that fetch most active topic and forum to be modified.
These queries are only run when viewing a user's profile page.
You can exclude posts with certain parameters this way."," PHP 7.1.7, MySQL 5.6.34, Firefox 63.0.2",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03f1j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Update the notification email and subscription systems to be RFC2369 and RFC8058 compliant,PHPBB-16099,36081,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,v12mike,v12mike,12/Jul/19 5:37 PM,12/Jul/19 5:54 PM,08/Nov/25 11:12 AM,,3.3,,,,,,Notification System,User Control Panel (UCP),,,,,1,Email,notifications,UCP,,,,,"I have recently had a significant problem with Microsoft mail services (hotmail.com, outlook.com, live.com, btinternet.com and others) not accepting emails from our phpBB server. Microsoft have told me it was due to too many users marking our emails as junk.  It happens that the particular host that was blocked sends ONLY phpBB notifications, and no other email.

As part of the process of getting the block removed, I had to put hand on heart and say that our server complies with all of the Microsoft email sender policies, which as of phpBB 3.2.7, it does not.

I am thinking of making some improvements to the phpBB notification email system, broadly to achieve the goals:
1.  Implement improvements to the notification email system to meet the requirements imposed by major email providers such as Google and Microsoft
2.  Full compliance with RFC2369 and RFC8058
3. Implement (optional) handling of bounced emails, with automatic suspension of email notifications to affected users.

There are some other improvements that would be nice to have, but not essential in this context:
4. Allow easier customisation of notification emails by storing the templates (corresponding to installed language packs) in the database and providing a UI for editing them.
5. Allow board admins to view a user's subscriptions and unsubscribe them where necessary.
6. Improve the ability to configure sender and reply-to email addresses for a phpBB board.

RFC2369 is the standard for URLs used for the control of mailing lists.  phpBB is currently partially compliant.
RFC8058 is the standard for 1-click unsubscription from mailing lists, phpBB is currently not compliant at all.

In order to meet the applicable parts of RFC2369 and RFC88058, the main new requirements are:
* A new RFC8058 email header.
* Email headers protected by a DKIM signature (done in the smtp host not phpBB , but relevant).
* The phpBB board to provide an unsubscribe URL that for http:// GET requests takes the user to a page where they can easily confirm the they wish to unsubscribe, but an http:// PUSH to the same url results in a 1-click unsubscription without user confirmation.
* The phpBB board needs to honour unsubscribe requests without requiring a user to log-in (or be logged-in) to the forum, this precludes using the existing UCP pages which require the user to be logged-in.
* The unsubscribe links must be sufficiently protected to prevent malicious use of the unsubscribe system.
Microsoft have a requirement that a server should stop sending emails to an email address after multiple delivery failures.  This requires phpBB to receive email bounce notifications, but it is not difficult to configure an external service to convert unsubscribe emails to http:// requests for this purpose.
In addition, some Microsoft email services do not support 1-click unsubscribe via http://, they only support it via mailto://,  but as above that is not too difficult to have an external service convert the transport mechanism

I have prototyped a phpBB extension to implement some of the above (mainly RFC2369 and RFC 8058 compliance), but I am not happy with it as an extension, as I don't think that RFC compliance should be an optional feature, and the current notification email template system does not really have any mechanism that allow extensions to interact with email templates, which makes the extension really ugly.  So I am proposing that some or all of the above are implemented as enhancements to core phpBB.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gm7:",,,,,,,,,,,,,,"12/Jul/19 5:41 PM;DavidIQ;If you're looking for opinions (based on the way you worded this ticket) then you'll want to put this in the Ideas center. Otherwise a pull-request would be best.;;;","12/Jul/19 5:54 PM;v12mike;Thanks, have raised it in the ideas forum.;;;",,,,,,,,,,,,,,,,,,,,
Allow template events to work outside of extensions,PHPBB-16088,35978,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,MarkDHamill,MarkDHamill,23/Jun/19 3:24 PM,24/Jun/19 3:21 AM,08/Nov/25 11:12 AM,,3.2.7,,,,,,Template Engine,,,,,,1,TemplateEvents,,,,,,,"It is currently possible to create a custom style where most of the style is inherited and minor changes are made to it by board owners. This makes it easy to insulate future changes to the inherited style from minor overrides in the custom style.

The same is not true with template events. One cannot create a /template/event folder under the custom style and use any template events. You have to write an extension to do this, something likely beyond the technical capabilities of board owners. The alternative is to copy templates from the inherited style to the custom style and make changes there. However, templates in the inherited style will change over time. A board owner will have to periodically look at the differences in their template against the inherited template and make changes accordingly.

However, if phpBB allowed use of these template events in custom styles outside of an extension, it would address this particular issue since many changes will be tied to template events. It's a common pattern to add code like additional <link> and <script> tags to events to do things like add tracking code not supported by an extension or to add additional links to the navigation bar. I suggest this functionality should be built into phpBB.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03gj3:",,,,,,,,,,,,,,"23/Jun/19 5:10 PM;EA117;Agree that this appears to be a level of support that phpBB is in an easy position to deliver, and would benefit both phpBB style authors and phpBB style users & self-modifiers by opening up more possibilities through which modifications to a style could be ""future proofed"" against being unnecessarily broken or lower-functioning by changes to the inherited parent style.

""phpBB is in an easy position to deliver"" meaning that it only requires treating the style event template folder the same as phpBB already treats the extension style event template folder.

An approach for inheritance would have to be decided on.  What seems logical to me is that existence of an event template in the child template would override/replace the same event template which might also exist at one or more parent style levels.

And it would be up to the child template to then decide ""do I want to chain to / include the event template at the parent level"", by the child template's content choosing to include the actual parent template file into their current template.  Same as when a style currently overrides stylesheet.css, and you have to then choose ""do I want to include everything that is in the parent's stylesheet.css, or not.""

So the event template search would start with the current displayed style, look in the template event folder for a matching template, and then move up to searching the parent style if a template is not found.  But as soon as a template is found, no further search is performed; and whether any parent template will be also included will be up to the decisions made by the one (1) event template that was found and executed.

The alternative being to ""search and execute every matching event template"" in the entire style inheritance hierarchy chain.  That too would work, and is certainly ""extension-like"" in the way the style event templates were treated.  ""Stop at the first successfully found event template, and then let that event template decide what else needs to happen"" just seems more ""style-like"" in how inheritance is handled for other style aspects.;;;","23/Jun/19 7:29 PM;Hanakin;Seeing as how templates are going to change how they work in 4.0 it’s probably something we should leave until after the new theme and system are in place. ;;;","24/Jun/19 3:21 AM;3Di;Since the origin of this request has not been indicated

https://www.phpbb.com/community/viewtopic.php?f=461&t=251490

It has been widely explained how to solve the situation easily, and I do not see how the request can match with extensions that use the same events, in what order and in what way the present template engine can offer the possibility, albeit remote, of being able to meet a request of this kind.

As if between saying and doing there was no sea in the way.

 ;;;",,,,,,,,,,,,,,,,,,,
Allow regular users to add a reason for editing their posts,PHPBB-14926,33558,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Milan0,Milan0,19/Dec/16 9:42 AM,28/May/19 3:35 AM,08/Nov/25 11:12 AM,,3.1.10,3.2.0-RC1,3.2.0-RC2,,,,Posting,,,,,,0,,,,,,,,"Currently a regular user is not allowed to enter a reason for editting.
This is enforced by posting.php as only m_edit permissions are being checked.

This makes the feature not available to non-moderator users in any case.
{code:php}
'S_EDIT_REASON'				=> ($mode == 'edit' && $auth->acl_get('m_edit', $forum_id)) ? true : false,
{/code}
https://github.com/phpbb/phpbb/blob/master/phpBB/posting.php#L1796

Instead why not add the permission level u_edit_reason to allow users to enter a reason for changing their post?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038hj:",,,,,,,,,,,,,,"21/Dec/16 3:05 AM;3Di;
{code:java}
* @event core.posting_modify_template_vars
{code}
Allows an extension writer to modify it (ie.: can be done via an extension)

{code:java}
* @var	array	page_data	Posting page data that should be passed to the
*				posting page via $template->assign_vars()
{code}
;;;","21/Dec/16 9:30 AM;Milan0;I was referring to the wrong line, my bad. this is correct, you can make sure the field shows up,  but here it will clear out the posted value for non moderators:


{code:php}
if ($submit || $preview || $refresh)
{
[....]
$post_data['post_edit_reason']	= ($request->variable('edit_reason', false, false, \phpbb\request\request_interface::POST) && $mode == 'edit' && $auth->acl_get('m_edit', $forum_id)) ? $request->variable('edit_reason', '', true) : '';
{code}
;;;","21/Dec/16 4:33 PM;3Di;
{code:java}
	* @event core.posting_modify_message_text
	* @var	array	post_data	    Array with post data
{code}
Create permissions with a migration if not already exist and use these to modify the behaviour with events..
;;;","21/Dec/16 5:10 PM;Milan0;Regular users are not in the m_  permission scope. 
This means that yes regular users can be shown the edit reason box.  But unless m_edit is set in acl the reason will be discarded.  
;;;","21/Dec/16 5:23 PM;3Di;??Create permissions with a migration if not already exist and use these to modify the behaviour with events..??

If you are unsure on how to create this extension but you need it, consider to ask there at phpBB DOT com/extension requests forum.
;;;","21/Dec/16 5:39 PM;DavidIQ;The most likely reason I can think of as to why regular users aren't allowed to add an edit reason is because that would allow them to overwrite the edit reason entered by a moderator. There is no history kept so it removes the ability to track certain bad behavior.

There is an RFC to maintain post history so I think along with that a change could be made to allow for adding of an edit reason by whoever the editor is egardless of the m_ permission.;;;","21/Dec/16 6:36 PM;Milan0;I've actually wrote an 3.2 ext based off the quite poorly written pure comment revisions for my client. Quite sure I can make it open source.  I'll check tomorrow.  As for your comment this Is a fair point and probably easily solved with a checkbox and m_edit_lock and boolean flag on the post ;;;","22/Dec/16 8:20 PM;3Di;A moderator/admin can alwasy ""lock"" a single post if allowed with native perms.
Should be considered if you are making an extension.
;;;","28/May/19 3:35 AM;3Di;Regular users can overwrite the edit reason entered by a moderator simply editing the post, that overrides the last edit.

Don't know yet if this applies also to the last post.;;;",,,,,,,,,,,,,
config.php not converted to fit major releases,PHPBB-15054,33706,,Bug,Awaiting Information,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,3Di,3Di,27/Jan/17 9:18 AM,14/May/19 6:54 AM,08/Nov/25 11:12 AM,,3.1.10,3.2.0,,,,,Installation system,,,,,,0,front-end,,,,,,,"While using the ""new"" suggested method for upgrade from release to release the config.php file isn't converted to the new standards by the DB updaters causing issues.

The config.php file must be kept in place in order this method to be used. Right or wrong.

See for example: https://www.phpbb.com/community/viewtopic.php?f=556&t=2405681

",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i039dz:",,,,,,,,,,,,,,"27/Jan/17 9:55 AM;Marc;I don't seem to follow what you're trying to say here. To me it seems like the user in question actually had a syntax error in his config file that should always result in issues. The board should have no issues with previous config file formats.;;;","27/Jan/17 5:43 PM;nicofuma;As said Marc, the config.php file does not have to be  converted as both formats are supported (the old and the new one).

Note: Waiting for more information before closing this issue as invalid.;;;","30/Jan/17 5:42 AM;3Di;Sorry to be late, I encountered different situations where I could confirm it's important to give this a look. At least.
Unfortunately I am having not so much of spare timenow, I will give you the links and the use cases I am speaking about just in time when  I will see them again, using the search it's too much of time consuming.

Seems the most of cases, though, are touching MySql( i ).




;;;","30/Jan/17 7:08 AM;Marc;So I guess you are trying to say that we should change instances of MySQL to MySQLi when upgrading? Should probably check if there are any possible side effects of this prior to changing it though.;;;","30/Jan/17 7:18 AM;3Di;Yes, but I am also considering the fact many users change their own hosters and SQL and PHP in many case and try and import old DBs there. in order to upgrade.
Also in this situations  should be good (we are already there) to update the config.php to reflect the last ""state of the art"". If I am not mistaken most of the code is already available.

As I said, I recall of different users' cases, though. 
Will be my premure to post the links once I get them back to my view, indeed.

;;;","07/Feb/17 12:41 AM;3Di;A fresh example here, in the meantime
https://www.phpbb.com/community/viewtopic.php?f=556&t=2407866
;;;","07/Feb/17 12:45 AM;DavidIQ;If permissions are set correctly for config.php I don't think we would be able to update it from code.;;;","07/Feb/17 12:55 AM;3Di;We could offer a TMP file created on purpose as a download (this code has been already used AFAIK), giving the user the indications on how to use it. If this would be the case, if CHMOD will not work.. I mean.;;;","19/Feb/17 10:40 AM;Scanialady;I got some errors, too. I had used file replacement since 3.0 to 3.1 because automatic update does not work and does not work and does not work (yes, I have changed core files...). 
Yes, I copied the old config.php every time - and after converting the board from 3.0 I never had the idea to check that file against a fresh installed phpBB.

Catchable fatal error and others I found in my server logs. I found the solution by searching phpbb.com - but it would be better not to run into such errorrs.;;;","14/May/19 6:54 AM;3Di;The installer should be able to check again the necessary data for to make a new config.php and offer it as a downloadable file. That's it just in case of upgrades not updates obviously, somehow. Shouldn't be that hard.

 ;;;",,,,,,,,,,,,
"LDAP / ""Edit account settings"" page",PHPBB-16028,35908,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,FeministWiki,FeministWiki,22/Apr/19 4:14 PM,22/Apr/19 4:14 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Authentication,User Control Panel (UCP),,,,,0,ldap,,,,,,,"Steps:
 # Set up LDAP authentication
 # Log in with an LDAP user for the first time
 # Change the user's password in LDAP
 # Go the UCP / Profile / Edit account settings
 # Enter the new LDAP password and click Submit

Expected result:
 * Settings are saved.

Gotten result:
 * ""You have entered an incorrect password...""

Further information:
 * Logging in with the new password works fine, it's just the ""Edit account settings"" page
 * Logging out and back in doesn't help resolve the issue
 * The old password still works on the ""Edit account settings"" page
 * The password can be updated to the new one manually by using the old password

 

Thank you for your help and for the great software!","Ubuntu 16.04.6
PHP 7.0.33-0ubuntu0.16.04.3
mysql  Ver 14.14 Distrib 5.7.25",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03g3j:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
phpBB Requirements,PHPBB-16014,35892,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,david63,david63,10/Apr/19 8:23 AM,10/Apr/19 8:23 AM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Documentation,,,,,,0,,,,,,,,"Currently the requirements for phpBB in regard to PHP, MySql etc state the minimum version ""and above"".

 

To avoid confusion where versions of these software packages are released regularly and quite often after a release of phpBB it would be better if an upper version that phpBB has been tested with was quoted",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fzz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MySQL Fulltext search index slows update to unworkable levels on large-ish forums,PHPBB-15968,35818,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Marshalrusty,Marshalrusty,11/Feb/19 9:03 PM,12/Feb/19 8:17 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Update system,,,,,,0,,,,,,,,"I filed this as a bug and not an improvement only because of how severe the slowdown is.

The starting point is a 3.0.x install with >5,000,000 posts using MySQL Fulltext as the search backed. Will switch to Sphinx after the update, but the search is surprisingly speedy on MySQL Fulltext.

For schema changes, if there is a Fulltext index on the table, InnoDB will create a new empty table with the new schema and then copy all the data to it, rebuilding the index.

During the update, the following queries were run:
{code:java}
ALTER TABLE `phpbb_posts` ADD COLUMN `post_visibility` tinyint(3) DEFAULT '0' NOT NULL
ALTER TABLE `phpbb_posts` ADD COLUMN `post_delete_time` int(11) UNSIGNED DEFAULT '0' NOT NULL
ALTER TABLE `phpbb_posts` ADD COLUMN `post_delete_reason` varchar(255) DEFAULT '' NOT NULL{code}

With the index in place, each query takes between 12 and 24 hours to complete. Without the index, it takes ~4 minutes
{code:java}
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 192.13 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 202.60 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 201.58 seconds{code}

So the perfect solution is that for forums over a certain size that use Fulltext, if the update changes the posts table, we drop the index and then either rebuild it or probably just instruct the admin to rebuild it after. Another option is to warn the admin it will take forever otherwise and instruct them to drop the index manually and then recreate it after.

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fmn:",,,,,,,,,,,,,,"11/Feb/19 9:49 PM;3Di;10 days ago, for a customer: from *3.0.rc3* to *3.2.5*, I did truncate the 3 search_* tables prior to go ahead.

Here's what I reported back

[https://discordapp.com/channels/220192692573962241/508793337315328016/540694393741377564]

the softdelete (p1 and p2) migrations are heavy in fact, also with truncated tables.

To add: also the ""{{\phpbb\db\migration\data\v320\default_data_type_ids}}"" took its time.

 

On a side note: Fulltext as the search backend takes more space (about 30/40% more), if I correctly recall.

 ;;;","12/Feb/19 5:02 AM;Marshalrusty;Interesting, did clearing the native search tables speed up certain migrations? I didn't realize that anything hits those.

Here are all the expensive parts from an update from 3.0.11:

 
{code:java}
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 167.55 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 195.35 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 197.14 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 196.84 seconds
Installed Schema: \phpbb\db\migration\data\v310\softdelete_p1; Time: 818.85 seconds
Installing Data: \phpbb\db\migration\data\v310\softdelete_p1.
Installing Data: \phpbb\db\migration\data\v310\softdelete_p1; Time: 467.86 seconds
Installed Data: \phpbb\db\migration\data\v310\softdelete_p1; Time: 479.03 seconds
Installing Schema: \phpbb\db\migration\data\v310\softdelete_p2; Time: 215.61 seconds
Installed Schema: \phpbb\db\migration\data\v310\softdelete_p2; Time: 230.94 seconds
Installing Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 317.98 seconds
Installing Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 325.47 seconds
Installing Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 331.08 seconds
Installing Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 328.30 seconds
Installing Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 338.97 seconds
Installed Schema: \phpbb\db\migration\data\v320\default_data_type_ids; Time: 1882.31 seconds
{code}
 ;;;","12/Feb/19 8:08 PM;3Di;Well, I can't say that.

Since the search backend index has to be re-built right or wrong and those 3 tables' data take about the 40% of the size of the DB I went ahead and truncated them.

 

The only 3 migrations which made me worried a bit were sofdelete_p1 and p2, and default_data_type_ids as I said and demonstrated.

 

The DB has been raised to 3.0.14 from 3.0-rc3 doing it in steps, cleaning it with the STK at the 3.0.14's stage and then upgraded directly to 3.2.5 ..

 

BBcodes have been  parsed using the CLI right after that

 

Forgot to say I am talking about 100.000 posts only.

 

!https://media.discordapp.net/attachments/508793734842941480/540673023108317194/unknown.png?width=400&height=289!

 

The other migrations took about NULL time..

 

!https://media.discordapp.net/attachments/508793337315328016/540698439990640651/unknown.png?width=1072&height=573!

 ;;;",,,,,,,,,,,,,,,,,,,
Two small issues regarding the attachment list in UCP,PHPBB-15952,35799,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Kovi,Kovi,24/Jan/19 2:54 PM,24/Jan/19 2:57 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,,,,,,,0,,,,,,,,"This is something that is not that obvious in English but it is obvious in Czech, for example, and I assume it applies to other languages as well.
 - In UCP/Overview/Manage attachments, there is a list of user’s attachments.
 - Above this list, there is a string that says “X attachments” – even though there is only one attachment in the list.

This string is taken from [language folder]\common.php\NUM_ATTACHMENTS which seems all right, but it does not take into account the real number of attachments and uses only plural (in Czech it uses only the second plural form out of two plural forms). The string should take into account the real number of attachments and use the appropriate plural form if there are more of them in that language.
 - Below this list, there is a string that says „X Attachments“ – even though there is only one attachment in the list, and there is also an „A“ used unlike the first issue.

This string is taken from [language folder]\ucp.php\UCP_ATTACHMENTS and that seems wrong. The same string is also used in the title of the page displayed on the browser’s tab and in the heading of this page which is correct. But below the list, probably an appropriate string from [language folder]\common.php\NUM_ATTACHMENTS should be used as well. But it would also has to be seen to it that there won’t be displayed two numbers here then because “ucp.php\UCP_ATTACHMENTS” does not contain any number while “common.php\NUM_ATTACHMENTS” already contains “%d”.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fif:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Notification DropDown -- notifications by moderators should be clickable and open the See ALL page.,PHPBB-15930,35733,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,M.O.B.,M.O.B.,10/Jan/19 2:25 AM,10/Jan/19 2:25 AM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Notification System,,,,,,0,,,,,,,,"There seems to be an issue the way the Notification DropDown feature (see picture below) behaves when the member receives a moderation notification (like when their post gets denied when they are in the Newly Registered User group).

If the message for their post denial is long, all they see is a cropped single line...  But when they try to click on the notification to read the entire message, it doesn't do anything.

I think we ought to change this function.  They should be clickable and it should open the ""See All"" page in their UCP.  Because even though that link is found on the footer of the Notification dropdown, they don't know that offers them the ability to see the full messages.","PHP 5.6.39, MySQL 5.6.41",,,,,,,,,,,,,,,,"10/Jan/19 2:25 AM;M.O.B.;notification_dropdown.png;https://tracker.phpbb.com/secure/attachment/19835/notification_dropdown.png",,,,,,,,,,,,,,,,,"0|i03fd3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
COPPA buttons don't make sense,PHPBB-15882,35681,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Bruce Banner,Bruce Banner,24/Nov/18 5:10 PM,24/Nov/18 5:11 PM,08/Nov/25 11:12 AM,,3.2.4,,,,,,,,,,,,0,,,,,,,,"Would just like to point out how the text of the COPPA buttons don't actually make any logical sense. Would like to point you to this topic,

[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411]

and specifically to these two posts,

[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411#p14476191]

and

[https://www.phpbb.com/community/viewtopic.php?f=466&t=2379411#p14476251]

Thanks.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03f1z:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Local avatar driver may return invalid URLs for <img src>,PHPBB-15866,35591,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Snover,Snover,05/Nov/18 4:32 PM,06/Nov/18 3:58 AM,08/Nov/25 11:12 AM,,3.2.3,,,,,,,,,,,,0,,,,,,,,"phpbb\avatar\driver\local::get_data returns $row['avatar'] as-is, but this value is not URL encoded, so is not technically valid in an <img src> attribute if the avatar file path contains characters not allowed in a URL without encoding (e.g. a space).

Fixing PHPBB3-15865 by URL encoding the avatar key returned by local::process_form, and adding a migration to encode any existing non-URL-encoded values in the database, would also fix this bug.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ey7:",,,,,,,,,,,,,,"06/Nov/18 2:39 AM;rubencm;Avatar can't contain that kind of characters, unless you modify them manually.

But you can fix it if you want, it should be done in the phpbb_get_avatar in functions.php i think, where it is going to be added to the html tag;;;","06/Nov/18 3:35 AM;Snover;@rubencm I don’t understand your response. Avatars from the local avatar driver most certainly can and do contain non-URL-safe characters, as this driver simply iterates over filesystem directories.

The reason why the URLs from this driver are invalid is because this driver confuses filesystem paths and URL paths. Either the driver can store URL paths in the database, which is what changing local::process_form would do, or it can convert the filesystem paths into URL paths when it returns them in local::get_data, which would also solve the problem. Changing phpbb_get_avatar will not fix the problem since phpbb_get_avatar is not broken. Changing phpbb_get_avatar would break other drivers by double-encoding their well-formed URLs.;;;","06/Nov/18 3:58 AM;Snover;To be more clear, the category-part of the avatar path is not treated consistently as a URL. The lack of consistency within the driver—where it sometimes handles values as URLs and other times as filesystem paths or plain strings, but with no naming convention to clearly differentiate the two—makes it brittle and error-prone. It would seem like a good idea to fix the driver so that it handles all data as unrestricted strings internally, clearly label all URL-containing variables/keys by putting the word “URL” in them, and change local::get_data to encode the stored filesystem path as a URL.;;;",,,,,,,,,,,,,,,,,,,
Local avatar driver CHECKED value is wrong due to mismatched URL encoding,PHPBB-15865,35590,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Snover,Snover,05/Nov/18 3:56 PM,05/Nov/18 3:56 PM,08/Nov/25 11:12 AM,,3.2.3,,,,,,,,,,,,0,,,,,,,,"In phpbb\avatar\driver\local, $img['file'] and $row['avatar'] are compared to determine whether or not a given local avatar is the current user’s avatar. $img['file'] is partially URL encoded and $row['avatar'] is not, so these comparisons fail whenever the avatar’s filename or path contains characters that are not in the range [0-9a-fA-F_.~-].",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03exz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Bad check on poll_title causes <t></t> to render in poll question field when editing a post without a poll question,PHPBB-15856,35581,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Snover,Snover,28/Oct/18 4:11 PM,28/Oct/18 4:11 PM,08/Nov/25 11:12 AM,,3.2.3,,,,,,Posting,,,,,,0,,,,,,,,"posting.php:1673 includes this check when deciding whether or not to run the message decoder on the poll title: {{!$bbcode_utils->is_empty($post_data['poll_title'])}}. Checking whether the _formatted_ poll title is empty and doing nothing if so means that “empty” poll titles get sent to templates as the encoded text <t></t>. Either there should be an else-condition that sets $post_data['poll_title'] to the empty string, or there is some earlier condition which is failing which is supposed to do that already (there are a lot of earlier isset-checks on the poll_title field).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03evz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Revamp PM to chat based (GSoC 2018),PHPBB-15682,35289,35288,Sub-task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,akbarhashmi,akbarhashmi,04/Jun/18 7:00 PM,28/Oct/18 11:54 AM,08/Nov/25 11:12 AM,,3.3,,,,,,Private Messages (PM),,,,,,0,,,,,,,,"* New classes for all elements
 * Twig instead of standard templates
 * Change font colour for unread messages
 * Width of message-title panel is 35%",,,,,,,,,,,,PHPBB-15575,PHPBB-13196,,,,"04/Jun/18 7:48 PM;akbarhashmi;Screen Shot 2018-06-04 at 10.47.39 PM.png;https://tracker.phpbb.com/secure/attachment/19525/Screen+Shot+2018-06-04+at+10.47.39+PM.png",,,,,,,,,,,,,,,,,"0|i03dof:",,,,,,,,,,,,,,"22/Jun/18 1:30 AM;akbarhashmi;Since I've begun working on the right panel and the left panel is almost done, I would like to discuss the next part - refactoring the pm module to display both titles and messages together. 

So sending data to the same page: Since we are not using JS for now, I guess the only another way is through form. Is there another option?;;;","23/Jun/18 2:22 PM;Hanakin;@akbarhasmi

can I first ask you to refactor this Ticket when you get time? You should only be using 1 ticket and 1 PR for the project. I would ask that you please merge them. A ticket should be very detailed and outline everything that you plan to do. This serves as our documentation of changes...Along with that, your title should reflect this as well both here and on your PR. Sorry for any confusion or inconvenience.;;;","23/Jun/18 3:58 PM;akbarhashmi;Not at all, it's about time we had a formal documentation of what is going on. I'll get to it shortly.;;;",,,,,,,,,,,,,,,,,,,
Unique group and user names only partially enforced & ambiguously reported.,PHPBB-15843,35541,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,EA117,EA117,16/Oct/18 12:02 PM,16/Oct/18 12:02 PM,08/Nov/25 11:12 AM,,3.2.2,3.2.3,,,,,Group Management,,,,,,1,,,,,,,,"functions_user.php reports USERNAME_TAKEN_USERNAME if the new user being created matches an existing user name OR and existing group name.

When matching the group name, a group-specific error message should be reported, since this collision is likely the first introduction the administrator has to the idea that the names must be unique across both tables.

e.g. Define and return USERNAME_TAKEN_GROUPNAME as ""The username you entered is already in use as a group name, please select an alternative.""  Otherwise the administrator is left to search their user list for this phantom ""duplicate user name"".

In acp_groups.php, under the premise that group names and user names ARE supposed to be unique across both tables, there is no check being performed to ensure uniqueness across both tables when creating a new group.

Meaning functions_user.php stops me from creating a user named ""Banned"" if a group named ""Banned"" already exists.  But acp_groups.php DOES NOT stop me from creating that same condition, by creating a group named ""Banned"" if a user named ""Banned"" already exists.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03esv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Migrator drops table before reverting child migrations,PHPBB-15397,34548,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Blitze,Blitze,12/Oct/17 3:13 AM,14/Oct/18 10:09 PM,08/Nov/25 11:12 AM,,3.2.1,,,,,,Extensions,,,,,,0,extensions,,,,,,,"I added a [migration C|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/v30x/m16_add_block_view_field.php] that depends on [migration A|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/v20x/m1_initial_schema.php]. [Migration B|https://github.com/blitze/phpBB-ext-sitemaker/blob/develop/migrations/converter/c4_convert_primetime_data.php] also depends on migration A. Migration A is the initial schema that adds all the necessary tables, (including the sm_blocks table), and also has the instructions to drop the tables when purging the extension. Migration C modifies the sm_blocks table by adding a column and removing another, and also has revert_schema to undo the changes as it is recommended to do.

Everything works fine except when you decide to purge the extension. For whatever reason, migration A is reverted before migration C. So sm_blocks table is dropped before the changes introduced by migration C are reverted, resulting in a database error, which prevents the extension from being purged. At this point, the extension cannot be purged, and it cannot be re-enabled since the sm_blocks table no longer exists.

Doing further research on this shows that the migrations are loaded correctly (i.e.migration B runs, then C, and then A) when purging but the purge step for migration A drops the first table, sm_blocks, then it goes back and starts with migration B, then C again, and this time, because the sm_blocks table was previously deleted, we get an error.

I found that I can fix the issue by making migration C depend on migration B instead of A (which doesn't make sense) or by removing the revert_schema method from migration C but migration validation policy recommends providing instructions to revert any schema changes. Granted, you could also say let the extension author figure this out and use if conditions in the revert_schema method to avoid this issue, so we only revert if the table exists, but I think phpBB needs to handle these better.

I tried looking at the migrator and changing the order in which it reverts migrations but that seemed to complicated. The easiest option, I think, is to have db_tools verify that the table actually exists before trying to modify its columns, etc. I will provide a pull request for this shortly...

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bs7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Memberlist showing first letter key in Latin only,PHPBB-15667,35101,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,hubaishan,hubaishan,16/May/18 11:22 AM,27/Sep/18 1:00 PM,08/Nov/25 11:12 AM,,3.2.2,,,,,,Language pack,Memberlist/viewing profiles,,,,,0,language,,,,,,,"Memberlist showing first letter key in Latin only, even in board has a default language using non Latin letters, It also showing letter do not have any members start with .

So first letter key must come only form users table",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03dl3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow dynamic services files loading for extensions,PHPBB-15790,35408,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,15/Sep/18 4:04 PM,15/Sep/18 4:36 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,Extensions,,,,,,0,,,,,,,,"Suggesting to allow loading all services_*.yml files located in extensions' config directory.

This could make extending extensions (f.e. just like AutoGroups allows) as easy as dropping some files (.php and .yml to define additional services) into extension directory without having to edit the 'main' services.yml file.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03eev:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Style management should be available through cli,PHPBB-15167,33836,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,07/Apr/17 4:39 PM,30/Jul/18 9:07 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,CLI,,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03a6n:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow exceptions in ACP,PHPBB-15734,35343,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,kinerity,kinerity,29/Jul/18 7:05 PM,29/Jul/18 7:05 PM,08/Nov/25 11:12 AM,,3.2.2,,,,,,ACP,Extensions,,,,,1,,,,,,,,"From #phpbb-coding, we should allow exceptions in the ACP for extensions. Nicofuma requested a ticket.
{code:java}
[2018-07-29 12:33:55] <Nicofuma> rubencm, kinerity|phone: do you remember if we have a ticket about that? we should handle any exception thrown there[2018-07-29 12:35:14] <Nicofuma> the goal is to get ride of trigger_error so...[2018-07-29 12:42:34] <kinerity|phone> I believe there was talk of moving the ACP to Symfony[2018-07-29 12:42:44] <kinerity|phone> That would allow exceptions[2018-07-29 12:50:51] <Nicofuma> yep but it's gonna take a lot of time[2018-07-29 12:51:05] <Nicofuma> and I don't think we need that to allow exceptions[2018-07-29 12:51:20] <Nicofuma> there is already many places using them in the ext manager[2018-07-29 12:53:06] <kinerity|phone> Ah, well if it can be done, I think it would be beneficial. I'm not home right now, but do you want me to create a ticket later?[2018-07-29 12:56:48] <Nicofuma> yes please
{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03e0f:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to show catcha on login always,PHPBB-15685,35292,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,07/Jun/18 2:42 PM,07/Jun/18 2:42 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,captcha,,,,,,,"The ACP option: Maximum number of login attempts per username

Don't allow to chose 0, because is reserved to disable it.
I think -1 should be reserved to disable the antispam, and 0 to enable it for everyone.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03dp3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Revamp PM to chat based,PHPBB-15681,35288,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,akbarhashmi,akbarhashmi,04/Jun/18 6:54 PM,04/Jun/18 6:55 PM,08/Nov/25 11:12 AM,,3.3,,,,,,Private Messages (PM),,,,,,0,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03do7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BBCode parsing in user notes,PHPBB-15652,35083,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,kinerity,kinerity,23/Apr/18 12:33 PM,23/Apr/18 12:33 PM,08/Nov/25 11:12 AM,,3.2.2,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"It would be nice if the user notes could be parsed using BBCode. I've run into several instances where this would be beneficial (especially if copying posts/pms for reference). I thought about doing this as an extension, but failed each time.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03dh3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"In my language ""%1$.1f"" should become number with comma (12,3 not 12.3)",PHPBB-14647,32967,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,DavidIQ,scootergrisen,25/May/16 12:15 PM,18/Apr/18 5:07 PM,08/Nov/25 11:12 AM,,3.1.9,,,,,,,,,,,,0,setlocale,,,,,,,"In the translation files for my language (da) we have strings that contain ""%1$.1f"".

In english this might become ""12.3"" with a ""."".
But in my language is should become ""12,3"" with a "","".

This can be changed with PHP's setlocale() funtion like if you put this line at the top of /phpBB3/language/da/common.php:
setlocale(LC_ALL, 'da_DK.UTF-8');

I dont see the ability to set PHP's setlocale function in phpBB3 is this correct?
What is the correct way to fix this?

Sadly the string to use ""da_DK.UTF-8"" is different from system to system so there is not just one string that works for all, but you can use multiple string and check the return value to see if it was accecpted.

So you could have:
$returnvalue = setlocale(LC_ALL, 'da_DK.UTF-8', 'Danish_Denmark.1252', 'danish_denmark', 'danish', 'dk_DK@euro');",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i001f3:",,,,,,,,,,,,,,"25/May/16 4:53 PM;Crizzo;Hi,

can you give an example, where do you get the numbers with . and not with , ? 

;;;","26/May/16 12:03 PM;scootergrisen;You can see it for example in user controlpanel under avatar where it says the avatar can be a certain size.
And if you delete the search index in ACP and then recreate the search index.

If you search for ""$."" in all the files in phpBB3/language/ you can find them:
{noformat}

	'MIGRATION_DATA_DONE'				=> 'Installed Data: %1$s; Time: %2$.2f seconds',
	'MIGRATION_DATA_IN_PROGRESS'		=> 'Installing Data: %1$s; Time: %2$.2f seconds',
        ...
	'MIGRATION_SCHEMA_DONE'				=> 'Installed Schema: %1$s; Time: %2$.2f seconds',
        ...
	'AVATAR_EXPLAIN'				=> 'Maximum dimensions; width: %1$s, height: %2$s, file size: %3$.2f KiB.',
        ...
		2	=> 'The current rate of indexing is approximately %1$.1f posts per second.<br />Indexing in progress…',

{noformat}
;;;",,,,,,,,,,,,,,,,,,,,
JS Attachment size wrong in PM,PHPBB-15599,34956,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,artur99,artur99,23/Mar/18 12:00 PM,23/Mar/18 12:00 PM,08/Nov/25 11:12 AM,,,,,,,,Private Messages (PM),,,,,,0,easy,javascript,PM,,,,,"The plupload uploader uses only one max_file_size variable in it's config. It's the one defined in ACP > Borad Configuration  > Attachment settings > Maximum file size.

In the same Attachment settings page, there's another field called `Maximum file size messaging`, that's expected to limit the size of the files attached to PMs.

When trying to upload a file in a PM, if the file gets over the `Maximum file size` setting, but it is below the `Maximum file size messaging` setting, an error alert will be shown.
 Same, if the `Maximum file size` is above, and `Maximum file size messaging` is below the file size, JS won't show the alert to notify the user that the file is too big.

Steps to reproduce:
 # Make sure JS is on in your browser.
 # Go to settings, and make sure that General > Private message settings > `Allow attachments in private messages` is set to ""Yes"".
 # Go to settings, and set: General > Attachment settings > `Maximum file size` to 5 Bytes.
 # Go to settings, and set: General > Attachment settings > `Maximum file size messaging` to 512 MegaBytes.
 # Go to PM, try writing a new message, go to attachments, and attach a file.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03d4v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Translate AM/PM in time format,PHPBB-15556,34906,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,hubaishan,hubaishan,12/Feb/18 7:49 AM,12/Feb/18 8:13 AM,08/Nov/25 11:12 AM,,3.2.2,,,,,,Language pack,,,,,,0,,,,,,,,Previous Discussion in https://www.phpbb.com/community/viewtopic.php?f=79&t=2445296,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03cu7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Drafts for postings get corrupted in user control panel,PHPBB-15555,34905,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,JanPeterDev,JanPeterDev,10/Feb/18 8:27 PM,11/Feb/18 1:33 AM,08/Nov/25 11:12 AM,,3.2.2,,,,,,User Control Panel (UCP),,,,,,0,drafts,,,,,,,"When saving a draft from the normal post editor and then opening it in the user control panel it gets corrupted with weird tags.

Steps to reproduce:

1) Login as administrator/administrator at [http://www.try-phpbb.com/32x]

2) go to the only forum, click ""new topic"" and write a post containing at least two words (do not submit), my sample posting:

 
{noformat}
Save my draft.
:mrgreen:
{noformat}
3) click ""safe draft"" and confirm

4) go to user control panel, click ""manage drafts""

5) open the draft and see this in the editor:
{noformat}
<r>Save my draft.<br/>
 <E>:mrgreen:</E></r>{noformat}
 

The editor should not contain these tags.

I noticed: If you edit and save the draft within the user control panel the tags are gone.

Upon further investigation the problem seems to be, that the drafts are saved this way:

$message_parser->message

in posting.php line 722

but ucp_main.php does not use the message_parser to load or save the drafts.","phpbb 3.2.2. (http://www.try-phpbb.com/32x), all browsers",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ctz:",,,,,,,,,,,,,,"10/Feb/18 8:55 PM;JanPeterDev;I fixed this problem temporarily in my board this way:

In ucp_main.php I included the message parser:
{noformat}
include($phpbb_root_path . 'includes/message_parser.' . $phpEx);{noformat}
I added a decode function within the main function:
{noformat}
function bugfix_decode($message) {
 $message_parser = new parse_message();
 $message_parser->message = $message;
 $message_parser->decode_message();
 return $message_parser->message;
 }{noformat}
I use this decode function in where the draft text is accessed:
{noformat}
'DRAFT_MESSAGE' => ($submit) ? $draft_message : bugfix_decode($draft['draft_message']),{noformat};;;","11/Feb/18 1:33 AM;3Di;See https://tracker.phpbb.com/browse/PHPBB3-15329;;;",,,,,,,,,,,,,,,,,,,,
A wrong direction for text boxs contain code in RTL forums,PHPBB-15393,34544,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,hubaishan,hubaishan,09/Oct/17 8:13 AM,28/Jan/18 2:45 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,ACP,Template Engine,User Control Panel (UCP),,,,0,RTL,,,,,,,"In RTL forums text boxes inherits rtl direction from the <body> tag, but some of them contain: code, email, directory or URL data, which must be written in Latin Script and ltr direction.",,,,,,,,,,,,,,,,,"09/Oct/17 8:13 AM;hubaishan;Screenshot-2017-10-9 BBCodes(1).png;https://tracker.phpbb.com/secure/attachment/19061/Screenshot-2017-10-9+BBCodes%281%29.png","09/Oct/17 8:13 AM;hubaishan;Screenshot-2017-10-9 BBCodes.png;https://tracker.phpbb.com/secure/attachment/19060/Screenshot-2017-10-9+BBCodes.png","09/Oct/17 8:13 AM;hubaishan;Screenshot-2017-10-9 إعدادات الخادم.png;https://tracker.phpbb.com/secure/attachment/19062/Screenshot-2017-10-9+%D8%A5%D8%B9%D8%AF%D8%A7%D8%AF%D8%A7%D8%AA+%D8%A7%D9%84%D8%AE%D8%A7%D8%AF%D9%85.png",,,,,,,,,,,,,,,"0|i03brb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
`Terms of Use` must be configured by ACP ,PHPBB-15519,34815,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,hubaishan,hubaishan,17/Jan/18 1:58 PM,27/Jan/18 3:23 PM,08/Nov/25 11:12 AM,,3.2.2,,,,,,ACP,Language pack,,,,,2,,,,,,,,"`Terms of Use` now is given by the Language Pack, Admin can edit it by editing Language file `ucp_register.php` and upload the edited file to his right place, When Updating the board Admin edits of `Trems of Use` will lost if he replaces the old files by the new version files, If the default language is either than English, This is usually happened.

So `Terms of Use` must be a ACP config not a language file key, So any admin can edit it (even he has not a programing skills), It will be saved when updating the board or the language pack.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03clb:",,,,,,,,,,,,,,"27/Jan/18 3:23 PM;Louis7777;The same goes for the ""Privacy policy"" page...;;;",,,,,,,,,,,,,,,,,,,,,
Install all styles from styles folder during install,PHPBB-15182,33853,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,18/Apr/17 2:52 PM,28/Dec/17 12:49 PM,08/Nov/25 11:12 AM,,3.3,,,,,,,,,,,,0,,,,,,,,"Instead of hardcoding the prosilver style data in schema_data, i think it should be installed automaticaly when installing, like extensions does.
This will allow users to create their forums with a different style to prosilver, even with multiple styles without having to install them manually.",,,,,,,,,,,,,,,PHPBB-14728,,,,,,,,,,,,,,,,,,,"0|i03aa7:",,,,,,,,,,,,,,"10/Sep/17 2:08 PM;rubencm;Related:

https://tracker.phpbb.com/browse/PHPBB3-14728;;;",,,,,,,,,,,,,,,,,,,,,
Failure to clear topic notifications when topic is visited after unread posts are deleted,PHPBB-15421,34572,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,wfarrell,wfarrell,24/Oct/17 7:37 PM,08/Dec/17 9:54 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Notification System,,,,,,0,,,,,,,,"A user may choose to receive both notifications and email for new posts to subscribed topics. In that case, when a new post is made, and the user does not have an unread notification for that topic, an email is sent.

The email contains a link that will, when clicked, take the user to the first unread post and mark the notification read. In fact, if the user simply visits the topic the notification is marked read; the user does not specifically ask for unread posts.

However, suppose a post is made, and the notification (or notification and email) is created, and then the post is deleted. In that case, visiting the topic will not mark the notification ""read"". The notification remains unread until the user clicks on the notification itself in the notification list. And while the notification  remains unread no further emails will be sent for posts to that topic. This can cause users to lose track of subsequent new posts.

This is the one situation, as far as I can see, where visiting a topic will not clear a notification for that topic. If visiting a topic suffices to clear the notification  when unread posts still exist, it should also suffice when unread posts no longer exist.","PHP 5.5.9-1ubuntu4.22, MySQL 5.5.57",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bxj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MCP handles delete permissions inconsistently,PHPBB-15458,34611,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,BioLogIn,BioLogIn,19/Nov/17 11:16 AM,19/Nov/17 11:16 AM,08/Nov/25 11:12 AM,,3.2.1,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"In 3.2.1, for a moderator to have an option to mass soft delete posts from MCP this moderator has to have a hard delete permission. Meanwhile, soft delete of each post separately (from the topic itself, not from the MCP) works fine even if the same moderator has no hard delete permissions. 
 
 In other words, a moderator can (soft) delete posts from a topic by clicking a delete button on each posts, but they cannot bunch (soft) delete many posts at once from MCP of this topic.
 
Suggested fix: in includes/mcp/mcp_topics.php find:
{code:java}
        'S_CAN_DELETE'        => ($auth->acl_get('m_delete', $topic_info['forum_id'])) ? true : false,{code}
replace with
{code:java}
        'S_CAN_DELETE'        => ($auth->acl_get('m_softdelete', $topic_info['forum_id'])) ? true : false,{code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03c67:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Support bbcode on user feedback,PHPBB-15399,34550,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tomba,Tomba,14/Oct/17 6:22 AM,14/Oct/17 11:39 AM,08/Nov/25 11:12 AM,,3.2.1,,,,,,,,,,,,0,,,,,,,,"It would be extremely handy if bbcode is supported in user feedback.

We tend to put quoted posts in there, but the bbcodes are not parsed in the feedback list.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bsn:",,,,,,,,,,,,,,"14/Oct/17 6:24 AM;Tomba;Sorry guys. This should've been registered on the PHPBB3 project!;;;",,,,,,,,,,,,,,,,,,,,,
Feature detection to identify browsers instead of user-agents detection,PHPBB-15363,34508,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Big Monstro,Big Monstro,14/Sep/17 7:44 PM,14/Sep/17 7:59 PM,08/Nov/25 11:12 AM,,3.1.11,3.2.1,,,,,JavaScript / AJAX,,,,,,0,editor.js,,,,,,,"The browser identification in editor.js relies on user-agents string. That detection method is highly unreliable, since many browsers can offer the ability to falsify that string.

 

Here are two outdated pieces of code from editor.js :

 
{code:java}
var clientPC = navigator.userAgent.toLowerCase(); // Get client info
var clientVer = parseInt(navigator.appVersion, 10); // Get browser version

var is_ie = ((clientPC.indexOf('msie') !== -1) && (clientPC.indexOf('opera') === -1));
var is_win = ((clientPC.indexOf('win') !== -1) || (clientPC.indexOf('16bit') !== -1));
{code}
{code:java}
if ((clientVer >= 4) && is_ie && is_win) {
// Get text selection
theSelection = document.selection.createRange().text;
{code}
 

I suggest to replace them by...

 
{code:java}
var is_ie = ((typeof document.all !== 'undefined') && (typeof window.opera === 'undefined'));
{code}
{code:java}
 if (document.all && document.uniqueID) {
// Get text selection
theSelection = document.selection.createRange().text;
{code}
The variables clientPC, clientVer and is_win are no longer needed.

The new definition of is_ie and the condition target the same browsers than previously (IE10 or older + IE11 in compatibility mode) by checking the presence of the nonstandard document.all object (not available in IE11 in standard mode, just like the string 'msie') and the other nonstandard object, document.uniqueID, is specific for IE in Windows.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bjb:",,,,,,,,,,,,,,"14/Sep/17 7:55 PM;DavidIQ;This just needs refactoring. Even jQuery removed the old $.browser.msie from their library:
http://jquery.com/upgrade-guide/1.9/#jquery-browser-removed

This would just be revamped/replaced in the new style. Not sure we should spend any time on legacy code that is very likely getting tossed out in the next version. If someone wants to play around with their browser's user-agent string and get unexpected results then by all means have at it.;;;",,,,,,,,,,,,,,,,,,,,,
Some extensions are not enabled automatically during install,PHPBB-15128,33789,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rubencm,rubencm,15/Mar/17 2:06 PM,10/Sep/17 12:37 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,,,,,,,0,extensions,,,,,,,Extensions like board3/portal or phpbb/boardannouncements fails when the installer try to enable them,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i039w7:",,,,,,,,,,,,,,"15/Mar/17 8:10 PM;rubencm;I think is a dependency problem in container factory.
After a while, I couldn't figure out how to inject the db and config services.;;;","24/Apr/17 4:28 AM;rubencm;I still dont know how to fix this, here is the code i wrote few weeks ago in case someone find it useful
https://github.com/phpbb/phpbb/compare/master...rubencm:ticket/15128;;;",,,,,,,,,,,,,,,,,,,,
"editor.js: remove all html elements in ""theSelection""",PHPBB-15335,34414,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,bvetter,bvetter,22/Aug/17 4:45 PM,23/Aug/17 5:19 PM,08/Nov/25 11:12 AM,,3.2.1,,,,,,JavaScript / AJAX,,,,,,0,beginner,,,,,,,"Please add the following line to remove all html elements in ""theSelection"":
theSelection = theSelection.replace(/<[^>]*>/ig, '');
(please add it on line 207)

The reason is that you have a big problem if you use a javascript library which will replace your links.
In my case does a meta network rewrite my links.
The function doesn't work correctly anymore (you have html in the quoted message) because html are automatically inserted (all links will be rewritten -> also in the hidden message_element).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03bc7:",,,,,,,,,,,,,,"23/Aug/17 3:27 PM;DavidIQ;How exactly are you able to post HTML content into a post in phpBB and have it save and display properly?;;;","23/Aug/17 4:03 PM;bvetter;No, the posts doesn't contain html.
The javascript from the meta network replace all links on the site (also in hidden elements) with own html code (around the link).
For example:
{quote}This is my message with a [url=https://www.ebay.com/anyproduct/]product link[/url]{quote}
Normally would be the same (without html) in the ""message_"" element. But the javascript of the meta network replace it:
{quote}This is my message with a [url=<a onclick=""doSomething()"" onmousedown=""doSomething()"" >https://www.ebay.com/anyproduct/</a>]product link[/url].{quote};;;","23/Aug/17 4:07 PM;DavidIQ;I'm not really seeing how that would save as a post message. See [this|https://area51.phpbb.com/phpBB/viewtopic.php?f=7&t=52071] for example using your exact text.;;;","23/Aug/17 4:31 PM;bvetter;A short description what I mean with ""meta network"":
A meta network is an affiliate network which automatically convert links into affiliate links on the website of the user (like VigLink). 
(I use adgoal.de.)

No, the user write the following message in the post:
{quote}This is my message with a [url=https://www.ebay.com/anyproduct/]product link[/url]{quote}
If any user reply this post will the hidden div with id ""message_"" in the last post area (you know which element I mean?) replaced with:
{quote}This is my message with a [url=<a onclick=""doSomething()"" onmousedown=""doSomething()"" >https://www.ebay.com/anyproduct/</a>]product link[/url].{quote}
(because ALL links will be replaced/modified, so that the network can change it into an affiliate link);;;","23/Aug/17 4:47 PM;DavidIQ;So you're saying this is a problem when clicking on the quote post link in the post review panel and not actually something on the viewtopic page or with saving posts?;;;","23/Aug/17 4:55 PM;bvetter;Correct!

Sorry, but I guessed that the editor.js is only for the post panel.;;;","23/Aug/17 5:12 PM;DavidIQ;You don't even mention what function or action it is you're performing in this ticket so we're left to guess exactly what you're on about. Quoting other posts is not the only thing one can do from the posting screen. ;) ;;;","23/Aug/17 5:19 PM;bvetter;Excuse the misunderstanding. I've forgotten to write that I mean the ""addquote"" functionality.;;;",,,,,,,,,,,,,,
Orientation of Images,PHPBB-15321,34400,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,thecoalman,thecoalman,14/Aug/17 12:27 PM,14/Aug/17 8:00 PM,08/Nov/25 11:12 AM,,3.2.1,,,,,,Posting,,,,,,1,,,,,,,,"Phones, cameras and other devices often use the orientation flag in the EXIF meta data, For portraits the raw file data is flipped sideways but most browsers support this flag  and flip the image to the correct orientation.

plupload handles this correctly when resizing client side and preserves the EXIF data. Thumbnails processed by phpBB have the EXIF data stripped and the browser orients the image based on the raw file, sideways if it's s portrait.

https://www.phpbb.com/community/viewtopic.php?f=556&t=2434416#p14802971

Both Imagemagick and GD can handle this, for example if Imagemcick is selected for image manipulation on line 564 of includes/functions_posting.php if you add the -auto-orient flag you get the desired orientation for the thumbnail.

{code}
@passthru(escapeshellcmd($config['img_imagick']) . 'convert' . ((defined('PHP_OS') && preg_match('#^win#i', PHP_OS)) ? '.exe' : '') . ' -auto-orient -quality 85 -geometry ' . $new_width . 'x' . $new_height . ' ""' . str_replace('\\', '/', $source) . '"" ""' . str_replace('\\', '/', $destination) . '""');
{code}


AFAIK Imagemagick should not be stripping the EXIF data to begin with, not sure why it is being stripped. Might be something to explore.

For GD to handle it correctly I believe the EXIF extension would need to be installed. I would propose a suitable solution may be having plupload handle thumbnail creation, that would avoid issues with server side compatibility. 




","CentOS 7, PHP 7.0.22 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03b93:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
MAX_THUMB_WIDTH_EXPLAIN needs to mention the height,PHPBB-15263,34103,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,GunChleoc,GunChleoc,04/Jul/17 11:31 AM,04/Jul/17 11:31 AM,08/Nov/25 11:12 AM,,3.1.11-RC1,,,,,,ACP,,,,,,0,,,,,,,,"The following i18n change was made:

 

 
{code:java}
-    'MAX_THUMB_WIDTH'                => 'Maximum thumbnail width in pixel',
+    'MAX_THUMB_WIDTH'                => 'Maximum thumbnail width/height in pixel',{code}
 However, in this string:

 
{code:java}
'MAX_THUMB_WIDTH_EXPLAIN' => 'A generated thumbnail will not exceed the width set here.',{code}
 

The height is not mentioned.

 

Around:

--- a/phpBB/language/en/acp/attachments.php
+++ b/phpBB/language/en/acp/attachments.php
@@ -125,7 +125,7 @@ $lang = array_merge($lang, array(",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03atb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
BBCode parser doesn't properly check for closing ']',PHPBB-15231,33907,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,15/May/17 3:42 PM,28/May/17 3:31 AM,08/Nov/25 11:12 AM,,3.2.0,,,,,,BBCode Engine,,,,,,0,,,,,,,,"It appears the BBCode parsing engine only pattern matches to the start of a BBCode and doesn't check for the closing square bracket, resulting in false matches and incorrect output.

For example, posting the follow {noformat}So, [I tell people to drill down into that index]. What are you buying? Look behind the curtain. Your largest investment is Britain. Your second-largest investment is Japan. Your third-largest investment is France.{noformat}
In the resultant output, the quoted text inside the square brackets, 
[I tell people to drill down into that index]
goes missing and all remain text is italicized. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03al3:",,,,,,,,,,,,,,"28/May/17 3:31 AM;3Di;I am not saying it is not a bug, did you try to put a space between?
Like,,

{code:java}
[ I tell people to drill down into that index ]
{code}

not tested, just a tought.

Again, I am not saying isn't a bug.;;;",,,,,,,,,,,,,,,,,,,,,
Inline attachments do not appear properly if placed within text that is formatted with BBCode,PHPBB-15235,33912,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,stevemaury,stevemaury,20/May/17 8:41 PM,22/May/17 2:15 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,,,,,,,0,,,,,,,,"This topic pretty much illustrates the issue - https://www.phpbb.com/community/viewtopic.php?f=556&t=2424226

If an inline attachment is placed within formatted text (any formatting, apparently), like this:

[b]Some formatted text
[attachment=0]some attachment[/attachment]
some more formatted text[/b]

It displays like this:

*strong text*Some formatted text
[attachment=0]some attachment[/attachment] (the actual attachment does not appear, just the code)
some more formatted text*strong text*

Actual attachment appears at the end of the post, as though it were not inline

It only occurs when the attachment is within a beginning code (e.g. [b]) and an ending code (e.g. [/b].","It happens on phpBB.com/community, and apparently in all environments.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03am7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Consolidate validation methods in metadata manager,PHPBB-15190,33862,,Improvement,Patch Awaiting Review,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,javiexin,javiexin,23/Apr/17 5:08 PM,23/Apr/17 6:36 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Extensions,,,,,,0,extensions,metadata,,,,,,"Use a single method to access all validation options in metadata manager.  Now, some options have their own function, while others share a single validate method.
Also, with the current implementation, you should not call validate without calling get_metadata first, as get_metadata is the only way to do the file loading (any call to validate without calling get_metadata first will result in an exception being raised even if the metadata is correct).",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ac7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Font Color bbCode Breaks on Lists & Attachments,PHPBB-15130,33791,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,BondGamer,BondGamer,16/Mar/17 10:37 PM,19/Mar/17 10:47 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,BBCode Engine,,,,,,1,,,,,,,,"Using font color BBcode around lists is problematic. For example:


{code:java}
[color=#FF0000]Here is some text
[list][*]list item 1
[*]item 2
[*]item 3[/list]
More text.[/color]
{code}

Nothing in the list or past the list will be colored. Tested on phpBB website and this problem can be replicated there. This is also causing problems with attachments showing when inside the font color bbcode.

{code:java}
[attachment=0]temp icon.jpg[/attachment]
[color=#FF0000][attachment=0]temp icon.jpg[/attachment][/color]
[attachment=0]temp icon.jpg[/attachment]
{code}

The middle attachment in the example above just shows [attachment=0]temp icon.jpg[/attachment] in red text.

It will also break custom bbCodes. For example a Horizontal Ruler code:

{code:java}
[hr][/hr]
[color=#FF0000][hr][/hr][/color]
[hr][/hr]
{code}
",,,,,,,,,,PHPBB-14790,,,,,,,"16/Mar/17 10:56 PM;BondGamer;attachment bug example.jpg;https://tracker.phpbb.com/secure/attachment/18408/attachment+bug+example.jpg","16/Mar/17 10:38 PM;BondGamer;color bbcode issue.jpg;https://tracker.phpbb.com/secure/attachment/18407/color+bbcode+issue.jpg","16/Mar/17 11:00 PM;BondGamer;custom bbcode broken.jpg;https://tracker.phpbb.com/secure/attachment/18409/custom+bbcode+broken.jpg",,,,,,,,,,,,,,,"0|i039wn:",,,,,,,,,,,,,,"19/Mar/17 10:47 PM;Eikooc;There are also problems with [size]-tags instead of [color];;;",,,,,,,,,,,,,,,,,,,,,
Topic Tools,PHPBB-14991,33635,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,david63,david63,12/Jan/17 1:45 PM,12/Jan/17 1:45 PM,08/Nov/25 11:12 AM,,3.2.0,,,,,,Notification System,,,,,,0,,,,,,,,"When you select ""Subscribe to topic"" from the topic tools dropdown list you get the message that you are ""Unsubscribed and when you select ""Unsubscribe to topic"" from the topic tools dropdown list you get the message that you are ""Subscribed.

I don't know if this is just the messages that have got swapped around or if it is the actual process that is wrong - but I don't seem to get notifications for topics that I am subscribed to.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038yf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
More permissions issues,PHPBB-14937,33573,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,kinerity,kinerity,26/Dec/16 4:06 PM,11/Jan/17 6:43 AM,08/Nov/25 11:12 AM,,3.2.0-RC2,,,,,,Authentication,,,,,,0,,,,,,,,"I'm locally testing phpBB 3.2.0-RC2 and there is still some unresolved permission issues. To reproduce:

* Install a fresh copy of phpBB 3.2.0-RC2.
* Go to the PERMISSIONS tab, click ""User permissions"" under the ""Global permissions"" in the left hand pane.
* Click ""Find a member"" and select your username (or just enter it).
* All permissions should be set to to YES. Click ""Advanced permissions"" and click the ""All No"" link
* Submit and then go back. The permissions do not update.

I believe this also happens in Group permissions (clicking ""All No"" or ""All Yes""). I'm unable to test at the moment.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038kv:",,,,,,,,,,,,,,"11/Jan/17 2:32 AM;kinerity;Any chance this can get looked at? It's actually preventing me from updating phpBB installs for my clients.;;;","11/Jan/17 4:52 AM;DavidIQ;I tried the outlined steps on a board I upgraded to 3.2 and couldn't get it to happen. Then I installed a test board for 3.2 and couldn't get it to happen there either, which all makes sense since the fix applied in PHPBB3-14736 applies to the entirety of the ACP permissions system, not just ""Group Permissions"".

To be sure I wasn't missing anything I tried this in Google Chrome AND Microsoft's Edge browsers and also tried using both the ""Apply permissions"" as well as the ""Apply all permissions"" buttons. Also tried changing various individual options from yes to no or vice-versa. None of these factors produced the issue reported here.;;;","11/Jan/17 6:20 AM;kinerity;Setting *individual* permissions works. It's when you click ""All No"" or ""All Yes"" that roles don't update. See video.

https://youtu.be/_Ln0AEw4qA8;;;","11/Jan/17 6:34 AM;DavidIQ;Update your description then as it currently says, and is exactly what I did:
{QUOTE}
All permissions should be set to to YES. Click ""Advanced permissions"" and *change one of them to NO*.
{QUOTE}

From reading both your ticket description and title and seeing the urgency you're putting on it I was led to believe permissions weren't updating at all but, in reality, it's not really as serious as that. Saving works perfectly fine when neither of those links are used, even when selecting the permissions mask.;;;",,,,,,,,,,,,,,,,,,
CLI extension:enable to check for existence on filesystem / opt to enable all / multiple,PHPBB-14980,33621,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Milan0,Milan0,09/Jan/17 10:30 AM,09/Jan/17 10:30 AM,08/Nov/25 11:12 AM,,3.2.0,,,,,,CLI,Extensions,,,,,0,,,,,,,,"CLI allows to enable non-existing exensions, which are persisted in the list because disable does not remove them.
Extension manager has functionality to list all extensions and check if the name exists in the array of the filesystem listing before allowing to enable the extension.

I think it's also nice to have an option through CLI to enable all or a list of extensions this functionality.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038vb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Non-founder admin is unable to select a ""category"" as a parent on manage forums",PHPBB-14964,33603,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rxu,rxu,07/Jan/17 1:54 PM,07/Jan/17 1:54 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0-RC2,,,,,ACP,,,,,,0,,,,,,,,"Non-founder administrator is unable to select a ""category"" as a parent on creating/editing a forum in ACP.
The problem is here https://github.com/phpbb/phpbb/blob/master/phpBB/includes/functions_admin.php#L119

To get ""cat"" selectable in the parent forums list, admin has to have m_approve, f_noapprove (or f_post if $only_acl_post flag is set) permissions for it, which is not the case for ""categories"" as they aren't postable.
This is not the issue for founder as all permissions are forced to true for that user type.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038rb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Scrollbar doesn't appear on long posts in the MCP,PHPBB-14931,33565,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,JimA,JimA,23/Dec/16 7:49 PM,23/Dec/16 7:49 PM,08/Nov/25 11:12 AM,,3.2.0-RC2,,,,,,Moderator Control Panel (MCP),,,,,,0,,,,,,,,"When going to the approval screen in phpBB 3.2.0-RC2 (for as far as I can see, 3.1.x is not affected) long posts don't seem to contain a scrollbar, so moderators can't see the entire message without going out of the MCP to the message itself. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i038j3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Feeds output should be consistent with View active topic fields and ordering,PHPBB-14899,33523,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,08/Dec/16 3:34 AM,08/Dec/16 3:34 AM,08/Nov/25 11:12 AM,,3.1.10,,,,,,Other,,,,,,0,3.1,,,,,,,"As discussed in https://www.phpbb.com/community/viewtopic.php?f=466&t=2323986 it would be an improvement if there was consistency in the output (fields and order) of View active topics and the equivalent Atom feed (feed.php?mode=topics_active). 

View active topics lists: <Subject> <username> <date> <forum name> 

while the Atom feed lists: <forum name> <Subject> <username> <date>",,,,,,,,,,,,,,,,,"08/Dec/16 3:33 AM;P_I;phpBB - active topics.PNG;https://tracker.phpbb.com/secure/attachment/18326/phpBB+-+active+topics.PNG",,,,,,,,,,,,,,,,,"0|i0389r:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Allow to delete parent module which contains child modules. ,PHPBB-14856,33400,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Crizzo,Crizzo,06/Nov/16 5:52 PM,03/Dec/16 2:33 AM,08/Nov/25 11:12 AM,,3.1.10,3.2.0-RC1,,,,,ACP,,,,,,2,,,,,,,,"When you try to delete a module in:
ACP > system > Module management

and this module has a child module, a warning is displayed, that says: you are not able to delete this module, because it has a child module. 

Now you have to delete this child-module(s) first and then you delete the parent module. 

It would be more functional to add the possibility to delete the parent modules within its child modules all at once. Of course with a warning and checkbox or Y/N question. ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i037zj:",,,,,,,,,,,,,,"03/Dec/16 2:32 AM;VSE;The nestedset class allows this. Course it would mean refactoring the module management to use the nestedset class (which would be an improvement). Currently only forums and extensions use the nestedset class for managing trees.;;;",,,,,,,,,,,,,,,,,,,,,
Possibility to delete notifications,PHPBB-14513,32814,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,05/Mar/16 3:37 PM,13/Nov/16 2:29 AM,08/Nov/25 11:12 AM,,3.1.8,,,,,,,,,,,,0,,,,,,,,"On the /ucp.php?i=ucp_notifications, I can mark notifications as read, but can't I delete them! It would be very neat if I could indeed delete them. The same as the Private Messages.

This extension should be on the core: https://github.com/AlexSheer/phpbb3.1-Delete_Notifications",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002cv:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
New Permission to Ignore Maximum links per post,PHPBB-14832,33210,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,BrokenCrust,BrokenCrust,19/Oct/16 5:31 PM,19/Oct/16 5:31 PM,08/Nov/25 11:12 AM,,3.2.0-RC1,,,,,,Posting,,,,,,1,links,permissions,,,,,,"Add a new post permission to allow users or groups to ignore the ""Maximum links per post"" limit and make this the default for the Administrators group.

Discussion can be found here:

[https://area51.phpbb.com/phpBB/viewtopic.php?f=81&t=50456]
",N/A,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00013:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Custom profile field URL is not parsed if there is no %s in the URL,PHPBB-14726,33090,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,BioLogIn,BioLogIn,30/Jul/16 10:59 AM,30/Jul/16 10:59 AM,08/Nov/25 11:12 AM,,3.1.9,,,,,,,,,,,,0,,,,,,,,"If a cpf is set to be a ""contact"" field, then the URL part of it will be ignored if it does not contain %s.

This is caused by the following lines in phpbb/profilefields/manager.php: 

{code:java}
if (strpos($ident_ary['data']['field_contact_url'], '%s') !== false)
				{
					$contact_url = sprintf($ident_ary['data']['field_contact_url'], $value);
				}
{code}

I suggest fixing it like this:
{code:java}
if (strpos($ident_ary['data']['field_contact_url'], '%s') !== false)
				{
					$contact_url = sprintf($ident_ary['data']['field_contact_url'], $value);
				}
else
					$contact_url = $ident_ary['data']['field_contact_url'];
{code}

Workaround while the fix is not accepted - just add any junk parameter to the URL and set it to %s. For example, if you want your URL to be example.com/foo, use example.com/foo?bar=%s (just make sure that target site ignores the ""bar"" parameter).

Use case:
A custom profile field that links to user's profile and Sony Playstation Network can no longer point directly to the profile due to changes at Sony's site. Therefore an admin could like to display the PSN account name and link to the search at Sony's site: https://www.playstation.com/en-us/my/public-trophies/. Currently, in this situation one has to use https://www.playstation.com/en-us/my/public-trophies/?u=%s instead.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000rz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Quote author can't be found if body not edited,PHPBB-14574,32881,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,rfdy,rfdy,30/Mar/16 6:47 PM,23/May/16 6:18 PM,08/Nov/25 11:12 AM,,3.2.0-RC1,,,,,,,,,,,,0,beginner,easy,,,,,,"In posting.php:1009, the message body is only parsed if the message is updated. However, in the textformatter/s9e/utils.php, the function get_outermost_quote_authors relies on the text being parsed. So, whenever is a post is edited and submitted with no changes or only the subject edited, the quote authors can never be found. One side-effect of this is the deletion of any notifications for the quote in the post that was edited.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i001y7:",,,,,,,,,,,,,,"14/May/16 7:03 PM;derekheld;Do you have a step by step on how to replicate the problem? I'm having a hard time replicating the problem on my test install.;;;","23/May/16 6:18 PM;markshawtoronto;Steps to replicate the notification deletion:

# Make any post as User A.
# Quote the post as User B, and hit submit. 
# User A will now have a notification.
# Edit the post User B just made (as User B).
# Make no changes, just hit ""submit"". OR change only the subject line.
# The notification User A received will be deleted.;;;",,,,,,,,,,,,,,,,,,,,
Change the behaviour of verification on email change,PHPBB-14160,31482,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Zoddo,Zoddo,12/Sep/15 6:34 PM,01/May/16 12:09 PM,08/Nov/25 11:12 AM,,3.1.6-RC1,3.2.0-dev,,,,,Authentication,User Control Panel (UCP),,,,,0,activation,,,,,,,"Currently, if a user change his email, with a wrong email, and the activation is set to email activation, he can't recover access to his account without admin intervention.

I think that we should change this behaviour and don't disable account on email change. We can create a field in the user table that contain the new email, and set this email as user email when the user click on the link in the activation mail.",,,,,,,PHPBB-9894,,,,,,,,PHPBB-9894,,,,,,,,,,,,,,,,,,,"0|i004qf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Friends and Foes, and PMs",PHPBB-14606,32915,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Tarantino,Tarantino,16/Apr/16 5:10 PM,16/Apr/16 6:13 PM,08/Nov/25 11:12 AM,,3.1.8,,,,,,Notification System,Private Messages (PM),,,,,0,,,,,,,,"The Friends and Foes system is very poor, and we all know!

It would be great to add some new features to it.

It would be great if we could receive notifications of our friends activities, if we enable that notification.
And there are certainly others great things that phpbb could have with a friend activity system.

Other thing that would be awesome if we could create groups for PMs, this would improve the PM system. Because we would have custom groups made by us, so we can send a PM to a specific group of users made by us. And not a official group with permissions.
It would be like a list of users that we send a lot of PMs.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i001qn:",,,,,,,,,,,,,,"16/Apr/16 5:23 PM;DavidIQ;This screams of extension.  Also while we appreciate the feedback it is extremely unlikely that any of your suggestions will be taken into consideration if you do not start a discussion about each one FIRST on Area 51.;;;","16/Apr/16 6:05 PM;Tarantino;The phpbb core should have this. The actual friends and foes doesnt make any sense at all for anyone, at least for more then 20.000 users.

I will search for that ""area 51"". I thought this should be the place for improvements to be heard. Since it has that option and I can see a vote system.;;;","16/Apr/16 6:11 PM;DavidIQ;This ""feature"" will need to be discussed and nobody has even brought it up before today so yes it still screams of extension and I don't think it needs to be something in the core.  That is my opinion though so you're welcome to open a discussion about these things you've suggested on Area 51 as extensions either already cover these things or are things that should be covered by extensions.  If everything needs to be in the core then what is the point of extensions?

The discussion link in the header above leads to Area 51 where you're welcome to continue this.;;;",,,,,,,,,,,,,,,,,,,
Remove all language fallback logic outside the language class,PHPBB-14566,32873,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,CHItA,CHItA,27/Mar/16 7:02 PM,27/Mar/16 7:02 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,,,,,,,0,,,,,,,,"As before 3.2.x there weren't any general solution in place for handling language fallbacks in case a language file is missing, there might be code at multiple places in the core, where this is performed.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i00287:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Several language strings in row ,PHPBB-14512,32813,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,leschek,leschek,04/Mar/16 12:06 PM,12/Mar/16 10:45 AM,08/Nov/25 11:12 AM,,3.1.7-pl1,3.1.8,3.2.0-a2,3.2.0-b1,3.2.0-b2,,Language pack,Template Engine,,,,,0,,,,,,,,"phpBB uses in some template files language variable {L_POST_BY_AUTHOR} (""by"" in English).

It is not problem if it is used on its own, but in some template files it is used with other language variables. Here is few examples from phpBB 3.1.8:

in file mcp_forum.html on line 56: {L_LAST_POST} {L_POST_BY_AUTHOR}
in file mcp_front.html on line 34: {L_POSTED} {L_POST_BY_AUTHOR}
and on line 94: {L_REPORTED} {L_POST_BY_AUTHOR}
in file mcp_forum.html on line 83: <dfn>{L_LAST_POST} </dfn>{L_POST_BY_AUTHOR}

Unfortunately in my language (Czech) we can't translate English word ""by"" as one word, because translation depends on content of sentence. It means that we need to use different translation for each {L_POST_BY_AUTHOR}. 

I would like to ask if would be possible to change those multiple language strings to one string. For example {L_LAST_POST} {L_POST_BY_AUTHOR} would become {L_LAST_POST_BY} or something similar.
",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002e7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Delete permanently an already soft deleted post and it will not return to topic page,PHPBB-14502,32802,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,null2,null2,27/Feb/16 1:45 PM,27/Feb/16 5:55 PM,08/Nov/25 11:12 AM,,3.1.8,,,,,,Build System,,,,,,0,,,,,,,,"How to reproduce that:

- Create a REPLY in a topic (dont create a new topic).
- Soft delete this created reply.
- Delete pemanently this reply and wait for refresh.

It will go to another page and not for topic page.

If post were the last one in the topic, it will work fine.
","PHP Version 5.6.18, MySQL Version 5.6.23-cll-lve, Apache Version	2.2.29. User environment: Windows 7,  Chrome Version 48.0.2564.116 m ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002fr:",,,,,,,,,,,,,,"27/Feb/16 5:55 PM;Marc;It should be possible to redirect to the topic by adding the topic ID as t parameter to https://github.com/phpbb/phpbb/blob/3.1.x/phpBB/viewtopic.php#L1907;;;",,,,,,,,,,,,,,,,,,,,,
Atom feed category element incorrectly controlled by feed_item_statistics configuration setting,PHPBB-14470,32713,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,P_I,P_I,09/Feb/16 4:26 AM,09/Feb/16 4:26 AM,08/Nov/25 11:12 AM,,3.1.6,,,,,,Other,,,,,,0,,,,,,,,"In ACP->Feed settings the General feed setting *Item statistics* is indicated to _Display individual statistics underneath feed items (e.g. posted by, date and time, replies, views)_.

The [Atom:category Elements|https://tools.ietf.org/html/rfc4287#section-4.2.2] portion of the feed are not part of the ""individual statistics underneath feed items"", but if *Item statistics* is disabled then they are omitted from the feed. They should therefore always be part of the feed, regardless of the setting of *Item statistics*.

feed.php should be changed as follows to allow the Category element to be part of the feed, without regard to whether *Item statistics* is enabled or disabled.
{noformat}
116,117c116,117
<               'category'              => ($config['feed_item_statistics'] && !empty($row['forum_id'])) ? $board_url . '/viewforum.' . $phpEx . '?f=' . $row['forum_id'] : '',
<               'category_name' => ($config['feed_item_statistics'] && isset($row['forum_name'])) ? $row['forum_name'] : '',
---
>               'category'              => (!empty($row['forum_id'])) ? $board_url . '/viewforum.' . $phpEx . '?f=' . $row['forum_id'] : '',
>               'category_name' => (isset($row['forum_name'])) ? $row['forum_name'] : '',
{noformat}","CentOS Linux release 7.2.1511 (Core), PHP 5.4.16,  5.5.44-MariaDB.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i002nb:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
phpbb_chmod creating files that cannot be accessed.,PHPBB-14327,32092,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Minor,,,Ectoman,Ectoman,01/Dec/15 4:44 AM,14/Dec/15 2:31 AM,08/Nov/25 11:12 AM,,3.1.6,,,,,,Caching (ACM),,,,,,0,,,,,,,,"I am having an issue with the cache that I believe is caused by a bug with the phpbb_chmod function.

Occasionally, I will have a file in the cache folder that has owner / group information different from all the other cache files. These cache files will also have a permission setting of 0600. Once the file has the different owner and group, and a setting of 0600... I believe it is unable to be accessed again by the cache, which is creating problems.

Looking at the phpbb_chmod function, I believe it is capable of changing ownership on a cache file (or any file) prior to setting a permission chmod, which can then make it impossible to set the chmod permission. It uses whatever owner / group controls the 'common.php' file. This could be more problematic if the common.php file had been uploaded with a different account (such as root).

I believe further development to the phpbb_chmod function needs to occur to at least prevent it from changing ownership prior to updating permissions, if the permissions are such that it won't be accessible again (0600, etc).

Also. It is not readily understood why only some files in the cache have these weird permissions. Most have the default (nobody:nobody) owner / group, and have 666 as the permission. When this happens and a cache file cannot be accessed, it can crash the style data, which causes the board to become unresponsive with the error 'Could not obtain style data.'. ","PHP Version 5.3.29, MySQL 10.0.22-MariaDB",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i003lj:",,,,,,,,,,,,,,"01/Dec/15 5:44 AM;Ectoman;I have done further testing on the phpbb_chmod function. 99.999% of the time it does not have access to chown or chgrp at all. (Isn't that to be expected?) I have setup datalogging to see if I can determine the 0.001% of the time that it is somehow able to execute the command and to determine exactly what happens. I'll be clearing my cache every few minutes to see if I can cause it to happen more readily.;;;","01/Dec/15 5:37 PM;Ectoman;I had my first hit on the datalogger. One file was able to have the owner and group changed as well as the permissions. The file was ""sql_1a37f99398609f5c33923b0b2b7626f5.php"" which is the SQL for the banlist. 

{code:java}
<?php exit; ?>
1448993821
SELECT ban_ip, ban_userid, ban_email, ban_exclude, ban_give_reason, ban_end FROM phpbb3_banlist WHERE ban_email = '' AND (ban_userid = 1 OR ban_ip <> '')
7441...
{code}

According to the datalogger, the call was requested by 'USER'. Normally such a request would be done by 'NOBODY' and it would fail. Since 'USER' has the proper permission it is capable of changing the owner and the permissions. Now that the file has an owner of 'USER' it has permission 600 and can ONLY be accessed by 'USER'. So the cache file is currently locked out from being accessible by the cache system as that runs as 'NOBODY' and would require at minimum 604/644 permission.

The next step is to understand why phpbb_chmod was called by 'USER' instead of 'NOBODY'. It could be an errant setup on my system, maybe one of my apache instances runs as the 'USER' rather than 'NOBODY' (but I don't think so). Maybe there was a cron task that was run? I'll have to update and expand the data I log and wait for the next time the system does this and report back.

I should mention that the only SQL cache files I have seen affected by this have been:

-Banlist SQL
-Style Data SQL.

I'm sure the banlist just keeps on going in the event of this error, but the style data causes the whole site to error out and stop loading.;;;","01/Dec/15 9:36 PM;DavidIQ;I can confirm this problem as I've had it happen with a client on which I installed my ForumBanners extension (https://github.com/DavidIQ/ForumBanners), but I'm not entirely convinced that this is not a server setup problem as that client's host is not the best in terms of server setup.;;;","02/Dec/15 3:30 AM;Ectoman;Well. I can offer some resolution to my problem now. I run cron tasks on my server that authenticate with phpBB. These cronjobs run as 'USER'. If they are the one making the call, it will successfully use the phpbb_chmod function to rewrite the cache file its accessing to 600 permission. In all other instances the phpbb_chmod function fails due to insufficient privileges. Which makes me wonder, does the phpbb_chmod function just never work? It seems odd that it would have been written in a way that it never actually functions correctly on what I presume would be a majority of server installations. I think for now, I will be modifying the function to return false. I understand the intention was improving phpbb file security, but it doesn't seem to take into account possibility of a file being returned that cannot be accessed due to varying levels of security.;;;","03/Dec/15 9:43 AM;Marc;phpbb_chmod() determines the owner of the file by checking the owner of common.php. I can see this possibly causing an issue if the user running apache/php is not the owner of the common.php and therefore failing at properly set the owner. In that case it should always fail though and not just for one file.;;;","03/Dec/15 5:20 PM;Ectoman;I suppose a 'USER' can't give a file away to 'ROOT' as that would be a huge security problem, so that shouldn't be a concern.

One thing I believe would be a problem is if you setup the cronjob to run the phpbb cron tasks every 5 minutes like it says you can do in the ADM panel. I suppose if that was setup to run, there would be periodic files being created in the cache as a different user from what is normally run. (Like I've experienced here.);;;","07/Dec/15 5:35 PM;Marc;If you run cronjobs from outside phpBB they should be properly configured to run as the same user as phpBB is being run. I'd say anything else is just an wrong server setup.;;;","14/Dec/15 2:30 AM;Ectoman;I wouldn't call it wrong when it is just the _default_ setup.

It appears this bug may also be a duplicate of this one: https://tracker.phpbb.com/browse/PHPBB3-9470

I guess this has been a problem for _some_ for at least 6 years.;;;",,,,,,,,,,,,,,
phpbb_delete_users_pms should anonymize attachments,PHPBB-17577,40092,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Aeonic,Aeonic,28/Oct/25 9:05 PM,28/Oct/25 10:28 PM,08/Nov/25 11:12 AM,,3.0.14,3.1.12,3.2.11,3.3.15,4.0.0-a1,,Attachments,Private Messages (PM),,,,,0,easy,,,,,,,"The phpbb_delete_users_pms in functions_privmsgs.php does not anonymize attachments in PMs that are anonymized (that is, user ID set to 1), as can be seen at the end of the function. On user deletion, these attachments are left with invalid poster_id values, if the user's posts are not retained.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03qfr:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Moderation queue approved posts mark the forum as unread for poster but no unread posts,PHPBB-17485,39681,,Bug,Confirmed,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Just an Alien,Just an Alien,24/Mar/25 3:34 PM,05/Apr/25 6:38 PM,08/Nov/25 11:12 AM,,3.3.14,3.3.15-RC1,,,,,Viewing forums,Viewing posts,,,,,0,,,,,,,,"Hi,

When a post in phpBB ends up in the moderator queue and it gets approved the forum shows a unread message notification even when there is no unread message when you open the forum.

The right behavior should that it shows the forum as read for the poster and unread for others.",,,,,,,,,,,,,,,,,"24/Mar/25 3:54 PM;Just an Alien;Scherm­afbeelding 2025-03-24 om 16.41.46.png;https://tracker.phpbb.com/secure/attachment/23120/Scherm%C2%ADafbeelding+2025-03-24+om+16.41.46.png","24/Mar/25 3:54 PM;Just an Alien;Scherm­afbeelding 2025-03-24 om 16.42.08.png;https://tracker.phpbb.com/secure/attachment/23122/Scherm%C2%ADafbeelding+2025-03-24+om+16.42.08.png","24/Mar/25 3:54 PM;Just an Alien;Scherm­afbeelding 2025-03-24 om 16.46.03.png;https://tracker.phpbb.com/secure/attachment/23121/Scherm%C2%ADafbeelding+2025-03-24+om+16.46.03.png",,,,,,,,,,,,,,,"0|i03puv:",,,,,,,,,,,,,,"05/Apr/25 8:09 AM;Marc;Can you clarify this a bit further? As far as I can see there are three potential user types involved in this scenario and this how I currently see the behavior:
 * User posting the message that needs approval:
Before approval: Should see their own post and it should not show up as new post to them ✅
After approval: Should still see their post and it does not show up as new post to them ✅
Forum shows up as unread though ❌
 * Admin / moderator that will approve the post:
Before approval: Sees post needing approval as new post. When going into the topic it will be marked as read for them but they can also go to approval via the notification which will not mark the post / topic as read ✅
After approval: Whether post is seen as read or unread depends on whether they actually opened the topic (see before approval behavior), post does not show up as read again when it was read a viewtopic context before ✅
 * Other users without moderator permissions:
Before approval: Can't see the post and don't see that there is a new post posted in the forum ✅
After approval: Can see the post and see that there is a new post in the forum ✅;;;","05/Apr/25 8:27 AM;Just an Alien;Your first point, it gets marked as unread after it's approved even as it was marked as read. Since it's not a new post, this looks like a bug to me.;;;","05/Apr/25 6:23 PM;Marc;I've updated my post to reflect the issue you're describing. I have however reduced the priority since it will neither show up when opening the forum nor when opening the topic. Searching for unread posts or topics should also not yield the mentioned topic.;;;",,,,,,,,,,,,,,,,,,,
Clarification on Server Settings section [Run periodic tasks from system cron],PHPBB-13255,29945,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Swanny,Swanny,31/Oct/14 5:12 AM,08/Mar/25 10:22 AM,08/Nov/25 11:12 AM,,3.1.0,,,,,3.3.16-RC1,ACP,,,,,,0,beginner,Beginner,easy,,,,,"Wording should match the options. The text says ""when off"" and ""when on"". It should match the options beside which are ""Yes"" and ""No"". Inconsistent words could be slightly confusing especially for new admins.

Requesting the words describing the item be altered to match the options that the admin picks.

Quote from Server Settings in ACP:
Run periodic tasks from system cron:
When off, phpBB will arrange for periodic tasks to be run automatically. When on, phpBB will not schedule any periodic tasks by itself; a system administrator must arrange for bin/phpbbcli.php cron:run to be run by the system cron facility at regular intervals (e.g. every 5 minutes).
    Yes No 

My suggestion on how the wording should be changed:

Run periodic tasks from system cron:
When set to No, phpBB will arrange for periodic tasks to be run automatically. When set to Yes, phpBB will not schedule any periodic tasks by itself; a system administrator must arrange for bin/phpbbcli.php cron:run to be run by the system cron facility at regular intervals (e.g. every 5 minutes).
    Yes No 

OR, change the Yes/No options to On/Off, you decide. Just be consistent.","PHP 5.4.25 MySQL 5.5.37; Firefox 33.0 Mac OS X Yosemite client",,,,,,,,,,,PHPBB-17433,,,,,,,,,,,,,,,,,,,,,,"0|i00b47:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
some phpbb database tables do not have a primary key,PHPBB-16946,37924,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Foxina,Foxina,07/Jan/22 10:02 AM,05/Dec/24 9:23 PM,08/Nov/25 11:12 AM,,,,,,,,Database Abstraction Layer (DBAL),,,,,,1,database,,,,,,,"With certain replication and clustering services, database tables must have a primary key.
Some tables, e.g. phpbb_acl_groups, do not have it.

Ref: 
[https://www.phpbb.com/community/viewtopic.php?p=15795471#p15795471]",mysql multimaster cluster,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03m8v:",,,,,,,,,,,,,,"19/Jan/23 8:14 AM;colnector;Why is such a trivial, simple yet important issue left untouched for over a year?;;;","02/Sep/23 8:59 AM;Foxina;Any plans on adding this to a near future release?;;;","06/Mar/24 8:39 AM;Foxina;If you want to build e.g. MariaDB Galera cluster for a busy site ( > 5 000 000 page loads per day), they say like this:

""Currently replication works only with the [InnoDB storage engine|https://mariadb.com/kb/en/xtradb-and-innodb/]. ""
""InnoDB only, always have PK.""

https://mariadb.com/kb/en/tips-on-converting-to-galera/

 ;;;","16/Mar/24 2:41 PM;Foxina;I guess the installer does not consider the used database storage engine at all?
So the question would be only to change the tables, so that all tables have the PK?;;;","05/Dec/24 9:23 PM;Foxina;Discussion in 3.3 support forum:

 

https://www.phpbb.com/community/viewtopic.php?t=2651548&sid=fd2dc2cf3fad8167972170a137ba6ca1;;;",,,,,,,,,,,,,,,,,
Smilies,PHPBB-17428,39492,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Heo32,Heo32,07/Nov/24 10:06 PM,11/Nov/24 11:32 PM,08/Nov/25 11:12 AM,,3.3.13,,,,,,Posting,,,,,,0,easy,,,,,,,"Please add the following smilies as a default replacement to the current batch of smilies being used in phpBB:


[https://www.phpbb.com/customise/db/style/dark_style_phpbb3_smilies/]

 

These remove the white boarders by replacing it with transparency. It is suitable for both white and dark themes. Thank you.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03phb:",,,,,,,,,,,,,,"11/Nov/24 5:39 PM;P_I;Changes are coming in the next feature release, PHPBB-17304 HiDPI smilies for phpBB

More details in [HiDPI smilies for phpBB - Development Discussion Board|https://area51.phpbb.com/phpBB/viewtopic.php?f=151&t=86200];;;","11/Nov/24 11:32 PM;Heo32;Good to know, thanks P_I.;;;",,,,,,,,,,,,,,,,,,,,
Incorrect documentation for function redirect in functions.php,PHPBB-17120,38386,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,MarkDHamill,MarkDHamill,23/Mar/23 2:59 PM,12/May/24 9:07 AM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Documentation,,,,,,0,,,,,,,,"The documentation for the redirect function in /includes/functions.php starting at line 1700 is incorrect.

* @param bool $disable_cd_check  With the parameter set to `false`, the redirect function validates the redirect URL to make sure it goes to the board (and dies with a warning if it doesn't match). With the parameter set to `true`, the redirect function simply skips those steps.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ngv:",,,,,,,,,,,,,,"12/May/24 9:07 AM;battye;On the topic of the $disable_cd_check, I’ve noticed in a Docker container that SERVER_NAME (from $_SERVER) is localhost, whereas HTTP_X_FORWARDED_HOST is the correct public domain - but phpBB falls into a INSECURE_REDIRECT failure upon some form submissions because sessions.php extract_current_hostname() defaults to SERVER_NAME. It’s an unusual one, I wonder if force_server_vars is true in the config, whether extract_current_hostname() shouldn’t just return whatever the admin has defined for the server_name value (in the ACP).;;;",,,,,,,,,,,,,,,,,,,,,
Redundancy on Registration,PHPBB-17282,38567,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Heo32,Heo32,01/Jan/24 2:29 PM,12/May/24 9:04 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,,,,,,,0,registration,,,,,,,"On the Registration page (/ucp.php?mode=register), the following text is used to describe a user's ""Username"":

{quote}Length must be between # characters and # characters.{quote}Using the word ""characters"" twice in the same sentence is not needed. It is unnecessary redundancy.

Shortening it would use up one less row of text, making it look cleaner while still getting the point across.

I suggest the following instead:

{quote}Length must be between # and # characters.{quote}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03oiv:",,,,,,,,,,,,,,"12/May/24 9:04 AM;battye;I looked into the code and I saw that this had been done purposely.
The CHARACTERS_XY language var was set up in case someone had set a number with a different plural (e.g., ""... between 1 character and 10 characters""). Possibly this could be more pronounced in other languages too, so while I think you're right that it does look a bit long currently it's probably best to keep it the way it is.;;;",,,,,,,,,,,,,,,,,,,,,
Exception error when creating smileys - related to umlauts,PHPBB-17276,38561,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Scanialady,Scanialady,23/Dec/23 11:02 AM,23/Dec/23 2:14 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,ACP,,,,,,0,ACP,create,error,exception,Smileys,Smilies,umlauts,"Initial situation:

Some uninstalled smilies are in the ""Smilies"" folder on the FTP. One of them contains an umlaut ""ü"" in the file name (fahne_türkei.gif). This file has been there since 2016, and smilies have been added many times during this time. This file is currently {*}NOT in use, not installed - it´s just there{*}.

The server was recently switched to PHP 8.1

When creating new smilies in the ACP, I encountered the following error:

 

*{{Whoops, looks like something went wrong.}}*

*{{(1/1) ContentErrorException}}*

*{{Warning: Undefined array key ""flags/fahne_t??rkei.gif"" in acp_icons.php line 414}}*

*{{at acp_icons->main('icons', 'smilies') in functions_module.php line 676}}*

*{{at p_master->load_active() in index.php line 81}}*

 

{{This error occurred when sending the selected (other) new smilies.}}

{{When querying the files in the directory, the smilie engine under PHP 8.1 now seems to have a problem if special characters appear in the file names.}}

{{The problem was solved for me by renaming the problematic file.}}",PHP 8.1.22 - MariaDB 10.5.23 - phpBB 3.3.11,,,,,,,,,,,,,,,,"23/Dec/23 11:00 AM;Scanialady;exception-smilies-umlaut.jpg;https://tracker.phpbb.com/secure/attachment/22178/exception-smilies-umlaut.jpg",,,,,,,,,,,,,,,,,"0|i03ohj:",,,,,,,,,,,,,,"23/Dec/23 2:14 PM;LukeWCS;Issue reproducible with local Dev TB with PHP 3.3.11. The problem here is {{{}acp_icons.php{}}}, which is not designed to handle MultiByte. Several code locations would have to be changed.;;;",,,,,,,,,,,,,,,,,,,,,
Remove Depreciated small-icon Rules From buttons.css,PHPBB-17239,38524,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,ForumFlair,ForumFlair,12/Dec/23 3:59 PM,12/Dec/23 3:59 PM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"There is a chunk of depreciated 'small-icon' code at the bottom of the 'buttons.css' file.

 

Several bits of depreciated code have been removed over the years so this may as well be removed too as it is just wasting space.

 

*File:* buttons.css

 

*Delete:*
{code:java}
/* Deprecated as of version 3.2
-------------------------------------------------*/
.small-icon {
    background-position: 0 50%;
    background-repeat: no-repeat;
    background-image: none;
}

.dropdown .small-icon {
    background-position: 5px 50%;
    padding: 5px;
}

.small-icon > a {
    padding: 0 0 0 18px;
}

ul.linklist.bulletin > li.small-icon:before {
    display: none;
}

.dropdown .small-icon > a {
    display: block;
}

.rtl .small-icon {
    background-position: 100% 50%;
}

.rtl .small-icon > a {
    padding-left: 0;
    padding-right: 19px;
} {code}",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o9b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Possible Unused Class: ""dl_links""",PHPBB-17229,38513,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,ForumFlair,ForumFlair,19/Nov/23 4:26 AM,19/Nov/23 4:26 AM,08/Nov/25 11:12 AM,,3.3.11,,,,,,Styles,,,,,,0,prosilver,,,,,,,"The content.css stylesheet contains the following rules for a .dl_links class,

 
{code:java}.action-bar div.dl_links {
	padding: 10px 0 0 10px;
}

div.dl_links {
	display: inline-block;
	text-transform: none;
}

.dl_links strong {
	font-weight: bold;
}

.dl_links ul {
	list-style-type: none;
	margin: 0;
	display: inline-block;
}

.dl_links li {
	display: inline-block;
}
{code}
 

I have tried searching phpBB packages ranging from 3.3.11 right back to 3.0.12 and I can't find any dl_links in the templates, the only reference to it is the content.css stylesheet.

 

Can this be removed? or is it used and I'm missing it? I did think it could be the export option in the PM folder but I have checked there and that's not it.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03o6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improve display of OAuth setup fields,PHPBB-17196,38468,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,DavidIQ,DavidIQ,22/Sep/23 3:34 PM,23/Sep/23 1:46 AM,08/Nov/25 11:12 AM,,3.3.10,,,,,,Login,OAuth,,,,,0,,,,,,,,"When adding new OAuth providers extension authors can only define the name of the provider which gets displayed on the configuration page along with two fields:
 * Key
 * Secret

The problem with this approach is that different providers will call these differently making it hard to configure (how to match with what they call a key or secret) plus finding where to configure these providers can be a challenge since there is no way to provide guidance. To improve this situation the provider definitions should be expanded to (optionally) include:
 * Provider explanation
 * Key label
 * Key explanation
 * Secret label
 * Secret explanation",,,,,,,,,,,,,,,PHPBB-13173,,,,,,,,,,,,,,,,,,,"0|i03nz3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Moderator options don't work in the ""Approve details""",PHPBB-17106,38371,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Big Monstro,Big Monstro,26/Feb/23 10:19 PM,18/May/23 2:56 AM,08/Nov/25 11:12 AM,,3.3.10,3.3.9,,,,,Moderator Control Panel (MCP),Styles,,,,,0,front-end,,,,,,,"When there is a topic or a post awaiting approval, you can get the details about it (subject, author, post time, message content).

 

There are two buttons above the message content : _Disapprove_ and {_}Approve{_}. The ones work fine. Below the message content, there is the moderator options selector. The only available option is « Delete post » and it doesn't work: nothing happens after having clicked on {_}Submit{_}.

 

I suggest to remove the moderator options block in that context. It's useless anyways: if you want to delete the topic or post, just disapprove it.",,,,,,,,,,,,,,,,,"18/May/23 2:46 AM;ForumFlair;Screenshot 2023-3.png;https://tracker.phpbb.com/secure/attachment/21970/Screenshot+2023-3.png","26/Feb/23 10:13 PM;Big Monstro;delete_post_approve_details.png;https://tracker.phpbb.com/secure/attachment/21941/delete_post_approve_details.png",,,,,,,,,,,,,,,,"0|i03ndj:",,,,,,,,,,,,,,"18/May/23 2:56 AM;ForumFlair;This also happens when viewing a deleted topic or deleted post.;;;",,,,,,,,,,,,,,,,,,,,,
Irrelevant message displayed with visible private forum,PHPBB-17079,38341,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Big Monstro,Big Monstro,04/Jan/23 9:09 PM,04/Jan/23 9:09 PM,08/Nov/25 11:12 AM,,3.3.9,,,,,,Viewing forums,,,,,,0,,,,,,,,"When an user tries to view forum visible but not accessible (permission ""can see forum"" is enabled), he or she can read two messages (cf. see screenshot) :

 

« *You do not have the required permissions to view or read topics within this forum. »*

*«* *This category has no forums.* *»*

 

The message about category is irrelevant.",,,,,,,,,,,,,,,,,"04/Jan/23 9:08 PM;Big Monstro;visible private area.png;https://tracker.phpbb.com/secure/attachment/21938/visible+private+area.png",,,,,,,,,,,,,,,,,"0|i03n6v:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Correct the information after the soft delete of Topics,PHPBB-17027,38284,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,kizuzi,kizuzi,13/Aug/22 1:48 PM,13/Aug/22 1:48 PM,08/Nov/25 11:12 AM,,3.3.8,,,,,,,,,,,,0,,,,,,,,"The Language variable TOPIC_DELETED_SUCCESS have the content ""The selected topic has been successfully removed from the database."" but this variable will also used in the case of soft delete of a topic. But in this case the Topic is not deleted from the database but only hidden.

Please correct this in the language file or split the variable in the core to different cases (soft delete or database delete)

Also in TOPICS_DELETED_SUCCESS.

If that will be splitted, the following language variables are also affected:
POST_DELETED_SUCCESS, POSTS_DELETED_SUCCESS, TOPICS_DELETED_SUCCESS and TOPIC_DELETED_SUCCESS",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03muf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Unused permission u_pm_emailpm,PHPBB-16980,38003,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,LukeWCS,LukeWCS,05/Apr/22 9:43 AM,26/Apr/22 1:09 PM,08/Nov/25 11:12 AM,,3.3.7,,,,,,Permissions,,,,,,0,,,,,,,,"I wrote the following on the phpBB.com Discord server (#development):

 

Hello

 

We're just wondering about a specific permission, the meaning of which is unclear. So I traced the permission:

 

Language variable: 
{{ACL_U_PM_EMAILPM}}

Permission:
{{u_pm_emailpm}}

 

However, this permission is not used anywhere in the phpBB source. I've tracked all phpBB -major- minor versions back to 3.0, it's not used anywhere. Either I'm missing something, or this really is an unused permission.

 

From 3Di:

^^ It is unused. Seems to be dead code.

 

Reference:

[Re: [3.3] Wie ""Per E-Mail versenden"" unterbinden|https://www.phpbb.de/community/viewtopic.php?p=1416970#p1416970]

 

Additionally:

This permission was already created in 3.0.0, but not used up to and including 3.3.7.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03min:",,,,,,,,,,,,,,"05/Apr/22 10:17 AM;3Di;There are different schools of thought but mine is that this code should finally be implemented rather than removed, so I wouldn't know exactly how to proceed. I'm expecting some response from the developers on this, then.;;;",,,,,,,,,,,,,,,,,,,,,
Remove obsolete bots,PHPBB-16862,37789,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,MichaIng,MichaIng,30/Aug/21 6:22 PM,31/Aug/21 6:18 AM,08/Nov/25 11:12 AM,,,,,,,,,,,,,,0,bot,,,,,,,"After adding some new bots, I'm going through the ones which never crawled our forum and I think some of them are not active anymore at all since a long time and could be removed from the hardcoded phpBB bots list.

The ""Alta Vista [Bot]"" btw shouldn't be active anymore, as Alta Vista was bought by Yahoo in 2003 and uses Yahoo search results in the meantime. When accessing the search engine website, one is redirected to Yahoo as well: https://en.wikipedia.org/wiki/AltaVista

""FAST Enterprise Crawler"" seems to be from SharePoint prior to 2010 and was deprecated in 2010, replaced by the ""SharePoint 2010 Web Crawler"" that time: https://social.technet.microsoft.com/wiki/contents/articles/18576.best-practices-using-the-fast-enterprise-crawler.aspx

Is there a strategy about how to detect and remove obsolete bots by times? Data from multiple larger phpBB forums would be great, to be sure a certain user agent is not active anymore, else it is a nasty research. At least I couldn't find a good database with last active times of ""all"" web crawlers/bots.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03lon:",,,,,,,,,,,,,,"31/Aug/21 6:18 AM;Meis2M;+1;;;",,,,,,,,,,,,,,,,,,,,,
phpbb don't detect some bot via user agent,PHPBB-15075,33729,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,voxpopuli,voxpopuli,06/Feb/17 1:58 PM,30/Aug/21 6:42 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0,,,,,Sessions,,,,,,0,bot,,,,,,,"[USA]
Some bot aren't detected via UserAgent (when i have add them it's working, don't know why now it's stop working).
Example : ahref (user agent : AhrefsBot), netestate (user agent : netEstate).

Their is no problem with ip detection but some but use full different IP (example ahref).

[FR]
Certains bot ne sont pas détecté via l'user agent (pourtant quand je les ai ajouté il y a quelques mois ils étaient bien détecté, je ne sais pas pourquoi maintenant ça ne fonctionne plus).
Par contre la détection via IP fonctionne mais celle-ci est peu utile car certains bot (comme ahref par ex) utilisent beaucoup d'IP différentes pour passer à travers les mailles.",PHP 5.6.29,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i039j3:",,,,,,,,,,,,,,"01/Oct/17 5:37 PM;rubencm;The check is not case sensitive [https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/session.php#L550];;;","30/Aug/21 6:42 PM;MichaIng;While AhrefsBot with matching string ""AhrefsBot/"" is detected successfully here, I recognised it in a few other cases:

The following bot is extremely active on our forum:
""Mozilla/5.0 (compatible; MegaIndex.ru/2.0; +http://megaindex.com/crawler)""

I see thousands of requests on the forum in access logs, but using different match strings, like ""MegaIndex.ru/"", ""megaindex.com"" and others don't work to have it detected in phpBB.

I'm wondering if it is possible that a request is not fully processed or cancelled or certain resources are not loaded by bots, which are required to have it going through the filter? Would be strange as even the content of the returned HTML depends on the limited permissions the bots group has, but I haven't any other idea currently.;;;",,,,,,,,,,,,,,,,,,,,
Add event to trigger that the password has been changed successfully,PHPBB-16704,37189,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,SephirothUnit,SephirothUnit,07/Feb/21 1:35 PM,09/Feb/21 7:11 PM,08/Nov/25 11:12 AM,,,,,,,,Events,,,,,,0,Event,,,,,,,"Added for example above line 417 of this file:
 [https://github.com/phpbb/phpbb/blob/master/phpBB/phpbb/ucp/controller/reset_password.php#L417]

This code:
{code:java}$vars = [
    'user_id'
];
extract($this->dispatcher->trigger_event('core.ucp_reset_password_modify_update_sql', compact($vars)));{code}
What do you think ?

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03kmv:",,,,,,,,,,,,,,"07/Feb/21 1:54 PM;DavidIQ;You can just send a pr on GitHub with the needed changes.;;;","07/Feb/21 2:23 PM;3Di;I think it won't work. What's you goal?;;;","07/Feb/21 6:48 PM;SephirothUnit;I developed an extension which bridges a site (developed on Laravel with a API REST) and a phpbb forum. The site needs to be notified to update the information when the lost password has been changed on the profile.
We find this type of event already in phpbb on 2 following events:
 * core.ucp_profile_reg_details_sql_ary
 * core.acp_users_overview_modify_data

So why not for the lost password?;;;","07/Feb/21 7:00 PM;3Di;Does actually your extension use the new event you want to create?

There you can see it won't work.

 

 ;;;","07/Feb/21 10:01 PM;SephirothUnit;Yes, I currently use it yes and it works. I don't understand why you say that :/;;;","08/Feb/21 6:38 PM;3Di;Is the code example changed since my last view?

Anyway, if you want to get the parts of a query you might want to follow this example

https://github.com/phpbb/phpbb/blob/5b7feeb8ca191bda3c2d3a989eb2fe0bc7cd3bbe/phpBB/phpbb/ucp/controller/reset_password.php#L315-L336;;;","08/Feb/21 8:21 PM;SephirothUnit;{code:java}
/**
 * Trigger password as changed successfully
 *
 * @event core.ucp_reset_password_modify_update_sql
 * @var int user_id User ID from the form
 * @var array sql_ary All data reset in the SQL request
 */
$vars = [
   'user_id', 
   'sql_ary'
];
extract($this->dispatcher->trigger_event('core.ucp_reset_password_modify_update_sql', compact($vars))){code}
It's ok ?
 I don't know if any other information should be in the event.;;;",,,,,,,,,,,,,,,
Language error (English) in phpBB 3.3.2 and earlier,PHPBB-16638,36895,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,warmweer,warmweer,23/Nov/20 11:28 AM,24/Nov/20 11:51 AM,08/Nov/25 11:12 AM,,3.3.2,,,,,,ACP,Extensions,Language pack,,,,0,language,,,,,,,"In ACP > Customise > Extensions Manager

The Extensions Manager is a tool in your phpBB Board which allows you to manage all of your *extensions* statuses and view information about them.

/language/en/acp/extensions line 41 (missing apostrophe after extensions)

extensions should be extensions{color:#de350b}*'*{color} (implying statuses of the extensions)",Environment isn't relevant in this case,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03k7j:",,,,,,,,,,,,,,"24/Nov/20 9:00 AM;david63;I would add that the word ""statuses"" should be replaced with ""status"" as an extension can only have one status. Also it is generally accepted that status is both singular and plural.;;;","24/Nov/20 10:21 AM;warmweer;True: an extension can only have one status, but the Extension Manager is a tool which allows management of more than 1 status.

In US English statuses is an accepted official plural of status (It's not clear to me whether status is also accepted as an official plural form in the US - there's a limit to the time I'm willing to spend on searching ;) ). In UK English both status and statuses are accepted plural forms of status (it actually depends on the dictionary - Collins (which I don't consider ""official""), Oxford, Cambridge). In this case I consider clarity more important than strictness, considering that ""statuses"" won't raise eyebrows with non-native English speakers.  Having mentioned this, I have no objection to status being used as the plural form of status.

Somewhat off topic (or off-topic): British English is the default language used by phpBB but there's some inconsistency in language use, e.g. in BBcode (color/colour) and extensions (organise/organize).  Perhaps a nice topic for the phpBB Discussion forum. ;) (Discussion concerning the need? to sanitise the language used in phpBB :D );;;","24/Nov/20 10:57 AM;david63;Without wanting to get into a debate on the correct use of the English language (which I am willing to do, but this is not the correct place) then if by adopting your suggestion to add an apostrophe at the end of ""extensions"" then you are referring to each of the extensions having one status. I just love the nuances of the English language.;;;","24/Nov/20 11:51 AM;warmweer;What about ""the users' websites"". It doesn't imply that users have only one website. But I agree that languages (not only English) have many nuances and I will gladly participate in a topic about nuances (language or other). I might open a topic in the General Discussion forum on phpBB.com (although a topic in the phpBB Discussion forum would be better suited to search, find and discuss possible language errors or unclear/confusing formulations in the phpBB documentation/board).;;;",,,,,,,,,,,,,,,,,,
Missing lookup POST_ID in language files,PHPBB-16637,36894,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,hackery,hackery,22/Nov/20 1:25 AM,22/Nov/20 1:25 AM,08/Nov/25 11:12 AM,,3.3.2,,,,,,Installation system,phpBB 2.0 convertor,,,,,0,language,,,,,,,"{{phpbb_prepare_message()}} uses {{$user->lang['POST_ID']}} which is not defined in {{language/en/install.php}} (or any other file there) giving errors like this in conversion from 2.x:
{code:java}
: 189077 Message parser error:{code}
(where there should be some text like ""Post ID"" before the first colon)

!image-2020-11-22-01-18-26-836.png|width=442,height=139!

A quick scan through {{functions_phpbb20.php}} shows some other possible offenders:
 * {{COLLIDING_CLEAN_USERNAME}}
 * {{COLLIDING_USER}}
 * {{COLLIDING_USERNAMES_FOUND}}

 

 ",,,,,,,,,,,,,,,,,"22/Nov/20 1:18 AM;hackery;image-2020-11-22-01-18-26-836.png;https://tracker.phpbb.com/secure/attachment/20627/image-2020-11-22-01-18-26-836.png",,,,,,,,,,,,,,,,,"0|i03k7b:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Changed 'Template' to 'Style' in FAQ,PHPBB-16590,36676,,Improvement,Patch Needs Work,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,qcz,qcz,26/Aug/20 7:45 AM,08/Sep/20 12:35 AM,08/Nov/25 11:12 AM,,3.3.1,,,,,,Other,,,,,,0,,,,,,,,"'-Since phpBB3, the word 'template' has died down, and changed to style.-

 -- 

-Therefore, the word 'template' in FAQ should be changed to 'style'-",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,https://github.com/phpbb/phpbb/pull/6042,,,,"0|i03juf:",,,,,,,,,,,,,,"29/Aug/20 2:43 PM;3Di;3.1 or 3.2? It seems like you are not sure of that?

Moreover, why should it be changed exactly there in that file?;;;","07/Sep/20 12:16 AM;qcz;Is there anywhere else it should be changed instead?;;;","08/Sep/20 12:10 AM;3Di;??Therefore, the word 'template' in UCP should be changed to 'style'??

Why in UCP?

 

--- Anyway....

 

Please post your suggestions about the FAQs here:

[https://www.phpbb.com/community/viewtopic.php?f=64&t=2548731&p=15479516#p15479516]

 

The item you are wanting to modify it is IMHO correct as it is.;;;","08/Sep/20 12:19 AM;qcz;Whoops. put ucp instead of FAQ lol

 

Anyways, I just PMed stevemaury;;;","08/Sep/20 12:26 AM;3Di;This issue is invalid, it is subject to template not style. As it is.

 +*The word template has not died down, as you can see:*+

+styles/prosilver/template/blah.html+ - +blah.html+ for example it is a *template* and it belongs to the *template* folder inside the _style_*s* folder.

What the FAQ refers to it is something it is not simple to explain now (_it is core code related_), but I assure you it is correct IMHO.

 ;;;","08/Sep/20 12:33 AM;qcz;Ah, ok.

 

I've already submitted a patch so I can't close this.;;;","08/Sep/20 12:35 AM;3Di;You can close your PR over there though, the devs will read all of this I think.;;;",,,,,,,,,,,,,,,
"""New Topic"" and ""Post Reply"" Button Available to Guests",PHPBB-16551,36634,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,thecoalman,thecoalman,15/Jul/20 4:38 PM,17/Jul/20 8:18 PM,08/Nov/25 11:12 AM,,3.3.1-RC1,,,,,,Permissions,,,,,,0,,,,,,,,"When viewing a forum or topic as guest the buttons to reply or post a new topic are present. They will redirect to login page and then to posting pane once logged in. This is desirable IMO. It's convenient for registered user and unregistered user gets a hint to register to post.

The bug is where forums are viewable by guests but only postable by special groups, the Announcement forum as one example here on phpbb.com. In that case when a registered user logs in instead of posting pane they get a message ""You cannot post in this forum"".

Minimally  I would suggest registered user permissions are checked before displaying the buttons to guests.

 

 

 

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jlj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Launch Page,WEBSITE-1394,36627,,Improvement,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Trivial,,,Heo32,Heo32,04/Jul/20 12:11 PM,04/Jul/20 12:11 PM,08/Nov/25 11:12 AM,,,,,,,,Showcase,,,,,,0,phpbb/website,,,,,,,"The launch page needs a few updates and corrections:

 

[https://www.phpbb.com/about/launch/]

 

""PHP 7 works twice as fast as previous PHP versions. We have modified phpBB to now completely support the latest releases of PHP (7.1{color:#de350b}*.3*{color} to 7.4) so you can enjoy all these performance advantages.""

 

""With our brand new installer{color:#de350b}*,*{color} updating will be easier than ever in phpBB 3.3! Upload a single folder to your board and all your files will automatically be replaced.""

 

""reCAPTCHA 2.0"" changed to ""reCAPTCHA 3.0"" for the upcoming phpBB 3.3.1 release:

https://tracker.phpbb.com/browse/PHPBB3-15937

 

""Using CSS{color:#de350b}*-*{color}driven icons from FontAwesome, we now have more intuitive icons with retina quality all across phpBB{color:#de350b}*,*{color} as well as considerably improv{color:#de350b}*ed*{color} the speed of page loads.""

 

Off topic, but newer versions of Symphony are out now:

[https://symfony.com/blog/]

 ",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03jjz:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
"Remove useless name/id/value for poll inputs in posting_preview.html, or add the ability to vote in the posting editor",PHPBB-16412,36448,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Big Monstro,Big Monstro,22/Mar/20 2:05 PM,22/Mar/20 2:17 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Posting,Styles,,,,,0,prosilver,,,,,,,"In the posting_preview.html template file, you can find this, in the poll_option loop :
{code:java}<!-- IF S_IS_MULTI_CHOICE --><input type=""checkbox"" name=""vote_id[]"" id=""vote_{poll_option.POLL_OPTION_ID}"" value=""{poll_option.POLL_OPTION_ID}""<!-- IF poll_option.POLL_OPTION_VOTED --> checked=""checked""<!-- ENDIF --> /><!-- ELSE --><input type=""radio"" name=""vote_id[]"" id=""vote_{poll_option.POLL_OPTION_ID}"" value=""{poll_option.POLL_OPTION_ID}""<!-- IF poll_option.POLL_OPTION_VOTED --> checked=""checked""<!-- ENDIF --> /><!-- ENDIF -->
{code}
The part *name=""vote_id[]"" id=""vote_\{poll_option.POLL_OPTION_ID}"" value=""\{poll_option.POLL_OPTION_ID}""* (two times, for checkbox and for radio) is completely useless in the posting (preview) context, unlike in viewtopic.

The message author cannot vote while preview his or her text, before posting a new subject with poll, or while editing a subject to add or modify a poll.

If the input needs a name and a value attributes for somewhat reason, an expression like *name=""vote_id"" value=""""* should be enough.

 

An alternative would be adding the possibility to vote inside the posting editor : I create a poll, I immediately vote and then submit the poll for other users.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ipj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
language improvement to extension page,PHPBB-16409,36444,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Cubguy501,Cubguy501,19/Mar/20 1:08 PM,20/Mar/20 3:17 PM,08/Nov/25 11:12 AM,,3.3.0,,,,,,ACP,,,,,,0,,,,,,,,suggest adding a line to the extension install page to further clarify how to upload extensions and maintaining proper directory structure. something along the lines of the attached picture,,,,,,,,,,,,,,,,,"19/Mar/20 1:06 PM;Cubguy501;modifed.png;https://tracker.phpbb.com/secure/attachment/20315/modifed.png",,,,,,,,,,,,,,,,,"0|i03ion:",,,,,,,,,,,,,,"19/Mar/20 2:46 PM;DavidIQ;Just wondering: if you unzip an extension why wouldn't the admin user upload the extension exactly in the same structure as it unzipped?;;;","19/Mar/20 9:43 PM;Cubguy501;Well why wouldnt a nice upload zip file inputbox be sitting on the same page...just as Automod had 10 years ago.....
Until u understand the file system it seems to not make sense. and why not clarify things as much as possible for the end user?
 ;;;","19/Mar/20 10:06 PM;DavidIQ;AutoMOD was also famous for rendering boards unusable. ;)

I was simply trying to understand the behavior of unzipping an extension then going one or two folders into the resulting directory structure and then uploading that. Your answer doesn't help much. ;;;","20/Mar/20 8:23 AM;david63;I think that the problem is created when users use extensions from sources other than the CDB (Github being the main example) where the packaging of the zip does not conform to the packaging rules.

When using extensions from outside the CDB then it is expected that the user knows what they are doing and if they don't then they should not be using them - after all these extensions are still in development.;;;","20/Mar/20 2:15 PM;Cubguy501;certainly i have learned anything from Github etc is just like that, not setup properly and some re-folder work is required. Of course no harm installing something like that on a test board.

Maybe because myself maybe like others ""know too much"" and question things at first like why would they setup a folder within a empty folder. And then once u go in and see the phpbb folder things dont add up. 

OR simply hard to see a world your an expert in from the outside?

Anyway just a suggestion, if it does not make sense no worries.

 ;;;","20/Mar/20 3:17 PM;3Di;The problem seems to me that it is where that line of added text does not clarify anything for newbies, we can tell them everything you want so much they would not understand it if they read it.;;;",,,,,,,,,,,,,,,,
"After loading a page, your online status can be gone, while you're still logged",PHPBB-16402,36437,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Big Monstro,Big Monstro,14/Mar/20 7:18 PM,14/Mar/20 7:27 PM,08/Nov/25 11:12 AM,,3.2.9,3.3.0,,,,,Memberlist/viewing profiles,Private Messages (PM),Viewing posts,,,,0,,,,,,,,"For a long time ago, I've noticed that phenomenon: when I refresh a page with an online status - or go to a page with a such status from another page -, *+after some minutes without loading anything+* (it depends on the ""View online time span"" setting in ACP, defined at 5 minutes by default), my online status disappeared, whereas it should be re-enabled and displayed as such because I obviously requested the server to (re)load the webpage. Refresh immediately or soon after solves the bug.

I understand phpBB automatically disconnects the users after several minutes of inactivity. However, when someone loads a page again (not too long time after the previous request, to avoid the complete logout and the need to log again), he or she's still logged or relogged instantly (see my username in the header, in the attached screenshots) but the online status is still off.

The explanation is probably the logon status of a session is defined early in the process of the request (status: offline after X minutes), then phpBB retrieves the username and re-enables the user session (if it considers he or she can be still logged) and finally sends the webpage data to the client machine *+before updating+* the logon status of my session (new status: online). If the server retrieves the username before sending data to the client, why not updating the session status before sending data too?

 

That happens with all board styles, including prosilver. That phenomenon can be even more visible for custom ones which use the \{ONLINE_IMG} template variable, for example to display ""online"" or ""offline"" or nothing if the option ""Enable display of user online/offline information"" is disabled in ACP (see the fourth attached screenshot), unlike prosilver that displays ""online"" status or nothing, but not an ""offline"" status.",,,,,,,,,,,,,,,,,"14/Mar/20 7:27 PM;Big Monstro;My_post_(viewtopic).png;https://tracker.phpbb.com/secure/attachment/20309/My_post_%28viewtopic%29.png","14/Mar/20 7:27 PM;Big Monstro;My_private_message_(ucp).png;https://tracker.phpbb.com/secure/attachment/20311/My_private_message_%28ucp%29.png","14/Mar/20 7:27 PM;Big Monstro;custom_board_style_using_ONLINE_IMG.png;https://tracker.phpbb.com/secure/attachment/20308/custom_board_style_using_ONLINE_IMG.png","14/Mar/20 7:27 PM;Big Monstro;viewing_my_profile_(memberlist).png;https://tracker.phpbb.com/secure/attachment/20310/viewing_my_profile_%28memberlist%29.png",,,,,,,,,,,,,,"0|i03in3:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Language Packs Menu,WEBSITE-1355,35499,,Bug,Open,WEBSITE,Website,software,Paul,Bugs related to the phpBB.com website.,https://www.phpbb.com/,Trivial,,,Exabot,Exabot,26/Sep/18 2:50 PM,01/Oct/19 1:30 PM,08/Nov/25 11:12 AM,,,,,,,,Downloads Page,,,,,,0,phpbb/website,,,,,,,Language packs menu broken iOS 12.,,,,,,,,,,,,,,,,,"26/Sep/18 2:50 PM;Exabot;bug.png;https://tracker.phpbb.com/secure/attachment/19626/bug.png",,,,,,,,,,,,,,,,,"0|i03ejj:",,,,,,,,,,,,,,"01/Oct/19 1:30 PM;mrgoldy;Can confirm this is not very responsive: [http://prntscr.com/pde2mo]

Also getting 404 Not Found for the following flag images:
 Croatian (Formal Honorifics) [https://www.phpbb.com/assets/images/images/flags/flag_hr-x-vi.gif]
 Norwegian (bokmål) [https://www.phpbb.com/assets/images/images/flags/flag_pt_preAO.gif]
 Portuguese preAO [https://www.phpbb.com/assets/images/images/flags/flag_nb.gif]
 Tatar [https://www.phpbb.com/assets/images/images/flags/flag_tt.gif] 404 (Not Found)

And jQuery Migrate is adding console messages, not sure if those should be muted perhaps?
 ?? // Show a message on the console so devs know we're active??;;;",,,,,,,,,,,,,,,,,,,,,
Allow Redirection on Logout,PHPBB-15963,35813,,New Feature,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Ectoman,Ectoman,09/Feb/19 1:53 AM,16/Sep/19 6:27 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Authentication,Login,User Control Panel (UCP),,,,0,easy,,,,,,,"By default, phpBB redirects the user to the main forum page upon logout. This is perfectly fine for someone who uses phpBB solely as a forum. However, in other instances it may be good to redirect the user to the previous page they logged out from. This could be a topic, or forum view, but more commonly this could be the main page of the website or any other page they were previously logged in at.

I would propose allowing for the &redirect variable to be available during the logout call and to allow redirection after logging out.",PHP 7.2,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03flj:",,,,,,,,,,,,,,"15/Feb/19 11:14 AM;muarachmann;@AJ Quick i would like to work on this can it be assigned to me please

 ;;;","15/Feb/19 8:27 PM;DavidIQ;Can't assign you the ticket, so just go ahead and work on it. Same goes for any ticket that is in open status.;;;","15/Feb/19 8:31 PM;muarachmann;working on this thanks;;;","16/Sep/19 6:27 PM;Tomba;Any progress here?;;;",,,,,,,,,,,,,,,,,,
Add event to modify terms & privacy pages text,PHPBB-15971,35822,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,rubencm,rubencm,20/Feb/19 2:18 PM,20/Feb/19 2:18 PM,08/Nov/25 11:12 AM,,3.2.5,4.0.0-a1,,,,,Events,,,,,,0,beginner,Beginner,easy,Event,,,,https://www.phpbb.com/customise/db/extension/customregistrationagreement/support/topic/201961?p=679336#p679336,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fnj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Search words between color bbcode,PHPBB-15956,35804,,Bug,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,molibo,molibo,27/Jan/19 1:45 PM,27/Jan/19 1:48 PM,08/Nov/25 11:12 AM,,3.2.5,,,,,,Search,,,,,,0,bbcode,search,,,,,,"phpBB Native Fulltext does not index and search for words enclosed between color tags.
For example, 
{code}
[color=#0000FF]whatever word[/color]
{code}
 in message will not be found.

it is related to function function split_message in phpbb/search/fulltext_native.php

If comment this regex
{code}// BBcode
$match[] = '#\[\/?[a-z0-9\*\+\-]+(?:=.*?)?(?::[a-z])?(\:?[0-9a-z]{5,})\]#';
{code}
in 1328 line everything works well and the words between color perfectly search.",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fjj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Render post's text in paragraphs,PHPBB-15923,35726,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,CHItA,CHItA,CHItA,30/Dec/18 8:09 PM,03/Jan/19 6:27 PM,08/Nov/25 11:12 AM,,4.0.0-a1,,,,,,BBCode Engine,,,,,,0,,,,,,,,The text formatter should render post's content into paragraphs instead of the current behaviour which is just rendering the text inside the post content wrapper.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03fbj:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Remove print view in topics and PMs,PHPBB-15810,35502,,Task,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,Senky,Senky,28/Sep/18 11:33 AM,28/Sep/18 11:33 AM,08/Nov/25 11:12 AM,,3.3,,,,,,,,,,,,0,,,,,,,,'@media print {} should be used by style instead of separate print view.,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i03ek7:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Improvement of get_permission_lang() for use formatted string in extension,PHPBB-14843,33386,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,ErnadoO,ErnadoO,29/Oct/16 8:58 PM,29/Oct/16 8:58 PM,08/Nov/25 11:12 AM,,3.1.10,3.2.0-RC1,,,,,ACP,,,,,,0,,,,,,,,"Hello

For my [QTE extension|https://www.phpbb.com/community/viewtopic.php?f=456&t=2218556] i want create a new permission for each attribute created (It's easier to mange users/groups permissions with phpBB permission system instead of create mine).

So I could, in Group forum permissions, get something like this:
{quote}
Can use ""Resolved"" attribute:                  yes     non     never
Can use ""Deleted"" attribute:                     yes     non     never
{quote}

For that, i need to use a single formatted language string like {quote}""Can use %s attribute""{quote}

My problem ? see:
!http://img15.hostingpics.net/pics/244209Capture.png!

In get_permission_lang() function:
{code:php}
	public function get_permission_lang($permission)
	{
		return (isset($this->permissions[$permission]['lang'])) ? $this->user->lang($this->permissions[$permission]['lang']) : $this->user->lang('ACL_' . strtoupper($permission));
	}
{code}

In my case, {code}$this->permissions[$permission]['lang']{code} should be an array. Exemple in my listener:
{code:php}
		$permissions += array(
			// ACP
			'f_attr_'.$row['attr_id'] => array('lang' => array('CAN_USE_ATTR', $row['attr_name']), 'cat' => 'qte'),
		);
{code}

I may be cheating by using {code:php}
		$permissions += array(
			// ACP
			'f_attr_'.$row['attr_id'] => array('lang' => $this->user->lang('CAN_USE_ATTR', $row['attr_name']), 'cat' => 'qte'),
		);
{code} but... it's an ugly trick

What do you think guys ?",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i037wf:",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
Default names for outbox and sent folders cause a lot of confusion with new users,PHPBB-14741,33108,,Improvement,Open,PHPBB,phpBB,software,Marc,phpBB,https://www.phpbb.com/,Trivial,,,ace604,ace604,09/Aug/16 8:12 PM,20/Aug/16 4:59 AM,08/Nov/25 11:12 AM,,3.2.0-RC1,,,,,,Private Messages (PM),,,,,,0,,,,,,,,"See the discussion that has been ongoing for 8  years here:
https://www.phpbb.com/community/viewtopic.php?f=64&t=675335&p=14497471#p14497471

Also see how many google hits for ""phpbb outbox stuck"" there are.

The default names of ""outbox"" and ""sent"" lead to much confusion for new users of phpbb.

In the physical outbox world (paper in boxes on a desk), something that is still in your outbox hasn't been sent to the recipient yet.

In the email outbox, something that is still in your outbox hasn't been sent over the network to your recipient yet.

In the phpbb outbox, something that is still in your outbox doesn't have any issues with delivery or sending. It's just a status indicator essentially showing that the recipient(s) haven't opened it yet. If I understand correctly you can still edit it if your board is configured to allow this. The recipient may not have seen the contents yet either (unless the board emails out notifications with the PM contents).

As evidenced from the thread above and google searches, ""outbox"" is a very confusing term for NEW phpbb users.

It requires explanation that ""phpbb outbox just means the message hasn't been opened by the other user yet, you can still edit it (maybe) and don't worry, it's actually ""sent""  you don't need to send it again.""

This happens over and over again all over the internet. For every thousand people posting about this there are probably many fold more who silently try to ""fix"" it themselves by deleting/resending PMs, etc.

Once you are no longer a NEW users, there's no issue if someone has explained it to you.

If the name was more intuitive it would require no explanation though.

I don't know what the best name would be, but something like:
Outbox --> Sent (unopened)
Sent messages --> Sent (opened)

or unread/read or ""still editable"" or ""editable"" or whatever ...

Anything intuitive and explanatory would avoid confusion for NEW users, which places a burden on OLD users who have to explain it over and over and over and over again because the use of the term ""outbox"" doesn't fit the ""prior art"" metaphors from the electronic mail and physical message realms people know of when first coming to phpbb.

Another suggestion on the linked phpbb forum post was that perhaps the banner text
for outbox/sent could describe by default what function they serve, so as to explain how
they are different from what a new users would expect an ""outbox"" is.

I would personally go with a new name rather than outbox, but perhaps the banner text
idea is a more ""doable"" change politically or what have you.

The goal here is just to provide as smooth an experience as possible to NEW users of phpBB PMs and remove any source of confusion they may have which results in lots of chatter on the boards to ""resolve"" the issue (which just gets resolved by an explanation of how it works, which could have been done in the first place by using a different label text or banner text :))",,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,"0|i000nz:",,,,,,,,,,,,,,"19/Aug/16 11:37 PM;3Di;Outbox --> Sent (unopened) -----> *Sent messages queue*
Sent messages --> Sent (opened) -----> *Outbox*

May be?
;;;","20/Aug/16 4:59 AM;ace604;I think ""Outbox"" should not be used for anything in PM context.

It has very STRONG meaning from email and physical mail/memo world where any first-time user to PM automatically assumes there is a problem when anything is ""stuck"" in the outbox.

I am still answering questions almost daily on our board (I'm just a user, not an admin or anything) where people ask why messages are ""stuck in the outbox"" or PMs aren't ""sending"" because they are ""still in the outbox"".

Outbox means something to people in a strong way already, so we should avoid this term for PMs.

What ""outbox"" means to people is somewhere a message sits before it has been transmitted or made visible to the other person. A PM isn't ""transmitted"" at all, but it is made visible to the other person's inbox.

People think ""outbox"" and see the message there, and think ""oh, something's wrong, how can the recipient see it in their inbox if it is 'still in my outbox' ""

A simple rename by default would avoid confusion for thousands of new users.

If you want to go with ""Outbox"" -> ""Sent messages queue"", I would then suggest ""Sent messages"" should change
to something like ""Sent messages (read)""

I still thing ""queue"" might be confusing since it's not clear if they are queued up to be 'sent' still? or ... ??

It's really ""Sent (still editable/revocable)""  and  ""Sent (irrevocable)""  but those aren't exactly the clearest either.
Probably ""Sent (unread)"" and ""Sent (read)"" would be the clearest to all new and old users alike?;;;",,,,,,,,,,,,,,,,,,,,
